{"version":3,"sources":["data/constants.js","components/SimpleAccordion.js","react-query/usePoems.js","utils/getRanking.js","components/CircularIndeterminate.js","components/Ranking.jsx","react-query/useDeletePoem.js","react-query/useLikePoem.js","utils/capitalizeFirstLetter.ts","utils/sortPoems.js","data/normalizeSwaps.js","utils/normalizeString.js","utils/urlUtils.js","components/List.jsx","components/Dashboard.jsx","react-query/usePoem.js","components/Detail.tsx","components/LoginButton.jsx","components/Logout.jsx","utils/parseJWT.js","components/Header.jsx","utils/getPoemsByUser.ts","components/MyPoems.jsx","utils/getFavouritePoemsByUser.ts","components/MyFavouritePoems.jsx","components/Profile.jsx","react-query/useCreatePoem.js","react-query/useSavePoem.js","components/Login.tsx","react-query/useLogin.js","components/Register.jsx","react-query/useRegister.js","components/PageNotFound.js","App.js","serviceWorker.js","index.js"],"names":["CATEGORIES","LIKE","LIKES","ORDER_BY_TITLE","ORDER_BY_DATE","ORDER_BY_RANDOM","ORDER_BY_LIKES","SimpleAccordion","Accordion","className","AccordionSummary","expandIcon","id","sort","map","category","AccordionDetails","to","toLowerCase","usePoems","useQuery","axios","get","then","res","data","onError","error","console","getRanking","poems","poemPoints","likePoints","rank","reduce","accumulator","item","points","userId","likes","length","author","picture","attribute","array","prop","hasOwnProperty","object","tempSortName","push","a","b","at","bt","result","i","l","SortObjectOfObjects","useStyles","makeStyles","theme","root","display","marginLeft","spacing","CircularIndeterminate","classes","CircularProgress","color","table","minWidth","Ranking","useState","setPoems","poemsQuery","setRank","useEffect","JSON","stringify","isLoading","TableContainer","component","Paper","Table","TableHead","TableRow","TableCell","align","TableBody","Object","keys","element","index","scope","src","useDeletePoem","queryClient","useQueryClient","context","useContext","AppContext","useMutation","delete","config","onSuccess","poemDeleted","invalidateQueries","useLikePoem","poemId","put","modifiedPoem","capitalizeFirstLetter","string","charAt","toUpperCase","slice","sortPoems","title","Math","random","Date","date","normalizeSwaps","c","d","e","f","g","h","j","k","m","n","o","p","q","r","s","t","u","v","w","x","y","z","aa","ae","ai","ch","dj","dz","ei","gh","ii","ij","kh","lj","nj","oe","oi","oii","ps","sh","shch","ss","sx","th","ts","ue","uu","ya","yu","zh","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","AE","Ch","Dj","Dz","Gx","Hx","Ij","Jx","Kh","Lj","Nj","Oe","Ps","Sh","Shch","Ss","Th","Ts","Ya","Yu","Zh","normalizeString","input","str","String","replace","forEach","swap","RegExp","history","createBrowserHistory","getQueryParam","key","url","window","location","search","urlParams","URLSearchParams","Array","from","acc","has","parse","parseQuery","useFiltersFromQuery","defaultValue","setData","accumulatedQuery","value","undefined","keysData","keysToDelete","filteredData","filter","isNewValue","isDefaultValue","isValidValue","log","parsedValue","set","toString","pathname","stack","addQueryParams","List","props","genre","match","params","setFilter","useHistory","orderBy","paramsData","setParamsData","newData","poemsFiltered","poemsSorted","deletePoemMutation","likePoemMutation","onLike","event","preventDefault","mutate","Helmet","style","fontSize","fill","TextField","label","InputLabelProps","InputProps","onChange","target","type","name","addQueryParam","selected","poem","includes","user","username","some","onClick","adminId","setState","elementToEdit","Dashboard","usePoem","initialData","getQueryData","find","initialStale","Detail","setPoem","poemQuery","disqusConfig","identifier","DiscussionEmbed","shortname","LoginButton","Logout","localStorage","removeItem","parseJwt","token","base64","split","jsonPayload","decodeURIComponent","atob","charCodeAt","join","Header","useLocation","loggedUserJSON","getItem","parseJWT","headers","Authorization","getPoemsByUser","MyPoems","getFavouritePoemsByUser","MyFavouritePoems","TabPanel","children","other","role","hidden","Box","Typography","a11yProps","backgroundColor","palette","background","paper","width","Profile","useTheme","React","setValue","poemContent","setPoemContent","poemFakeId","setPoemFakeId","poemTitle","setPoemTitle","poemCategory","setPoemCategory","poemLikes","setPoemLikes","createPoemMutation","post","useCreatePoem","savePoemMutation","patch","useSavePoem","onFieldChange","alt","required","placeholder","currentDatetime","formattedDate","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","AppBar","position","Tabs","newValue","indicatorColor","textColor","variant","Tab","axis","direction","onChangeIndex","dir","Login","setUsername","password","setPassword","loginQuery","credentials","setItem","useLogin","onSubmit","Register","email","setEmail","registerMutation","useRegister","PageNotFound","createContext","App","process","newState","contextState","setContextState","Provider","path","exact","Boolean","hostname","REACT_APP_AUTH0_DOMAIN","REACT_APP_AUTH0_CLIENTID","QueryClient","ReactDOM","render","StrictMode","client","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","message"],"mappings":"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","file":"static/js/main.a66209b3.chunk.js","sourcesContent":["export const WEB_SUBTITLE = 'Your poem community!!'\nexport const CATEGORIES_TITLE = 'Categories'\nexport const CATEGORIES = ['Anniversary', 'Friendship', 'Funny', 'Haikus', 'Hope', 'Life', 'Love', 'Sad']\nexport const ALL = 'All'\nexport const PROFILE_TITLE = \"'s Profile\"\nexport const PROFILE_SUBTITLE = 'Insert a poem:'\nexport const PROFILE_SELECT_TITLE_AUTHOR = \"Author's Id: \"\nexport const PROFILE_SELECT_TITLE_TITLE = 'Title: '\nexport const PROFILE_SELECT_TITLE = 'Title'\nexport const PROFILE_SELECT_LIKES = 'Likes'\nexport const PROFILE_SELECT_CATEGORY_TITLE = 'Category: '\nexport const PROFILE_SELECT_CATEGORY = 'Select'\nexport const PROFILE_POEM_PLACEHOLDER = 'Insert your poem here'\nexport const PROFILE_SEND_POEM = 'Send'\nexport const PROFILE_RESET_POEM = 'Reset'\nexport const PROFILE_POEMS = 'My poems'\nexport const PROFILE_FAVOURITE_POEMS = 'My favourite poems'\nexport const LIKE = 'Like'\nexport const LIKES = 'Likes'\nexport const READ_MORE = 'Read more'\nexport const SEARCH_PLACEHOLDER = 'Search an author'\nexport const ORDER_BY = 'Order poems by: '\nexport const ORDER_BY_TITLE = 'Title'\nexport const ORDER_BY_DATE = 'Date'\nexport const ORDER_BY_RANDOM = 'Random'\nexport const ORDER_BY_LIKES = 'Likes'\nexport const CATEGORIES_TITLE_LABEL = 'Category: '\nexport const RANKING_TITLE = 'Poets ranking'\nexport const RANKING_SUBTITLE = '3 points per poem, 1 per like'\nexport const RANKING_POETS_TITLE = 'Poets'\nexport const RANKING_POINTS_TITLE = 'Points'","import React from 'react'\nimport Accordion from '@material-ui/core/Accordion'\nimport AccordionSummary from '@material-ui/core/AccordionSummary'\nimport AccordionDetails from '@material-ui/core/AccordionDetails'\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore'\nimport './Header.scss'\nimport { Link } from 'react-router-dom'\nimport { CATEGORIES_TITLE, CATEGORIES, ALL } from '../data/constants'\n\nexport default function SimpleAccordion () {\n  return (\n    <div>\n      <Accordion className='accordion'>\n        <AccordionSummary expandIcon={<ExpandMoreIcon />} aria-controls='panel1a-content' id='panel1a-header'>\n          <p className='header__dropdown-categories'>{CATEGORIES_TITLE}</p>\n        </AccordionSummary>\n        <div>\n          {CATEGORIES?.sort().map((category) => (\n            <AccordionDetails key={category}>\n              <Link className='header__dropdown-subcategories' to={`/${category.toLowerCase()}`}>\n                {category}\n              </Link>\n            </AccordionDetails>\n          ))}\n        </div>\n        <AccordionDetails>\n          <Link className='header__dropdown-subcategories' to='/'>\n            {ALL}\n          </Link>\n        </AccordionDetails>\n      </Accordion>\n    </div>\n  )\n}\n","import axios from 'axios'\nimport { useQuery } from 'react-query';\n\nexport default function usePoems() {\n  return useQuery(\n    'poems',\n    () => axios.get('/api/poems').then((res) => res.data),\n    {\n        onError: (error) => {\n            console.error(error);\n      }\n    }\n  )\n}\n// with \"fetch\" I would have to put this somehow inside the useQuery\n// export const loadPoems = async () => {\n//     const response = await fetch('/api/poems')\n//     if(!response.ok) {\n//       throw new Error('Something went wrong')    \n//     }\n//     return response.json()\n//   }\n","export const SortObjectOfObjects = (data, attribute) => {\n    const array = []\n    for (const prop in data) {\n      if (data.hasOwnProperty(prop)) {\n        const object = {}\n        object[prop] = data[prop]\n        object.tempSortName = data[prop][attribute]\n        array.push(object)\n      }\n    }\n\n    array.sort(function (a, b) {\n      const at = a.tempSortName\n      const bt = b.tempSortName\n      return at > bt ? -1 : (at < bt ? 1 : 0)\n    })\n\n    const result = []\n    for (let i = 0, l = array.length; i < l; i++) {\n      const object = array[i]\n      delete object.tempSortName\n      for (const prop in object) {\n        if (object.hasOwnProperty(prop)) {\n          var id = prop\n        }\n      }\n      const item = object[id]\n      result.push(item)\n    }\n    return result\n}\n\nexport const getRanking = (poems, poemPoints, likePoints) => {\n    let rank = poems?.reduce(function (accumulator, item) {\n        const points = (accumulator[item.userId]?.points || 0) + poemPoints + (likePoints * item.likes.length)\n\n        accumulator[item.userId] = {\n        author: item.author,\n        picture: item.picture,\n        points\n        }\n\n        return accumulator\n    }, {})\n\n    rank = SortObjectOfObjects(rank, 'points')\n\nreturn rank\n}","import React from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\nimport CircularProgress from '@material-ui/core/CircularProgress'\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: 'flex',\n    '& > * + *': {\n      marginLeft: theme.spacing(2)\n    }\n  }\n}))\n\nexport default function CircularIndeterminate () {\n  const classes = useStyles()\n\n  return (\n    <div className={classes.root}>\n      <CircularProgress color='secondary' />\n    </div>\n  )\n}\n","import React, { useState, useEffect } from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\nimport Table from '@material-ui/core/Table'\nimport TableBody from '@material-ui/core/TableBody'\nimport TableCell from '@material-ui/core/TableCell'\nimport TableContainer from '@material-ui/core/TableContainer'\nimport TableHead from '@material-ui/core/TableHead'\nimport TableRow from '@material-ui/core/TableRow'\nimport Paper from '@material-ui/core/Paper'\nimport './Ranking.scss'\nimport usePoems from '../react-query/usePoems'\nimport { getRanking } from '../utils/getRanking.js'\nimport CircularProgress from './CircularIndeterminate'\nimport {\n  RANKING_TITLE,\n  RANKING_SUBTITLE,\n  RANKING_POETS_TITLE,\n  RANKING_POINTS_TITLE\n} from '../data/constants'\n\nconst useStyles = makeStyles({\n  table: {\n    minWidth: 50\n  }\n})\n\nexport default function Ranking () {\n  const classes = useStyles()\n  const poemPoints = 3\n  const likePoints = 1\n\n  const [poems, setPoems] = useState([])\n  const poemsQuery = usePoems()\n\n  const [rank, setRank] = useState(\n    getRanking(null)\n  )\n\n  useEffect(()=> {\n    if(poemsQuery.data) {\n      setPoems(poemsQuery.data)\n    }\n  }, [JSON.stringify(poemsQuery.data)])\n\n  useEffect(()=> {\n    if(poems) {\n      setRank(getRanking(poems, poemPoints, likePoints))\n    }\n  }, [JSON.stringify([poems, poemPoints, likePoints])])\n\n  if (poemsQuery.isLoading) {\n    return <CircularProgress />\n  }\n\n  return (\n    <>\n      <main className='ranking'>\n        <h3 className='ranking__title'>{RANKING_TITLE}</h3>\n        <h5 className='ranking__subtitle'>{RANKING_SUBTITLE}</h5>\n        <TableContainer className='ranking__body' component={Paper}>\n          <Table className={classes.table} aria-label='simple table'>\n            <TableHead>\n              <TableRow>\n                <TableCell align='center'>{RANKING_POETS_TITLE}</TableCell>\n                <TableCell align='center'>{RANKING_POINTS_TITLE}</TableCell>\n              </TableRow>\n            </TableHead>\n            <TableBody>\n              {Object.keys(rank).map((element, index) => (\n                <TableRow key={index}>\n                  <TableCell\n                    className='ranking__picture-container'\n                    align='center'\n                    component='th'\n                    scope='row'\n                  >\n                    <div className='ranking__picture-wrap'>\n                      <img\n                        className='ranking__picture'\n                        src={rank[element].picture}\n                      />\n                      <p className='ranking__picture-description'>\n                        {rank[element].author}\n                      </p>\n                    </div>\n                  </TableCell>\n                  <TableCell className='ranking__number' align='center'>\n                    {rank[element].points}\n                  </TableCell>\n                </TableRow>\n              ))}\n            </TableBody>\n          </Table>\n        </TableContainer>\n      </main>\n    </>\n  )\n}\n","import axios from 'axios'\nimport { useMutation, useQueryClient } from 'react-query';\nimport { useContext } from 'react';\nimport { AppContext } from '../App';\n\nexport default function useDeletePoem() {\n const queryClient = useQueryClient()\n const context = useContext(AppContext);\n  return useMutation(\n    (id) => axios.delete(`/api/poems/${id}`, context.config).then((res) => res.data),\n    {\n      onSuccess: (data, poemDeleted) => {\n        // const oldPoems = queryClient.getQueryData('poems')\n  \n\n        // if (oldPoems) {\n        //   return () => {\n        //       queryClient.setQueryData('poems', oldPoems.filter((poem) => poem !== poemDeleted))\n        //       debugger\n        //     }\n        // }\n        // debugger\n        // return () => queryClient.setQueryData('poems', oldPoems)\n        // queryClient.setQueryData('poems', old=>old.filter((poem) => poem !== poemDeleted))\n        // debugger\n        queryClient.invalidateQueries('poems')\n      },\n        // onSuccess: () => queryCache.refetchQueries('poems'),\n        onError: (error) => {\n            console.error(error);\n      }\n    }\n  )\n}","import axios from 'axios'\nimport { useMutation, useQueryClient } from 'react-query';\nimport { useContext } from 'react';\nimport { AppContext } from '../App';\n\nexport default function useLikePoem() {\n const queryClient = useQueryClient()\n const context = useContext(AppContext);\n  return useMutation(\n    // arguments have to be a single variable or object in this case\n    (poemId) => axios.put(`/api/poems/${poemId}`, null, \n        context.config).then((res) => res.data),\n    {\n      // data is here the whole poem object\n      // modifiedPoem is here the id of the poem\n      onSuccess: (data, modifiedPoem) => {        \n        queryClient.invalidateQueries('poems')\n      },\n        onError: (error) => {\n            console.error(error);\n      }\n    }\n  )\n}\n","function capitalizeFirstLetter (string: string) {\n  return string.charAt(0).toUpperCase() + string.slice(1)\n}\n\nexport default capitalizeFirstLetter\n","import {\n    ORDER_BY_DATE,\n    ORDER_BY_LIKES,\n    ORDER_BY_RANDOM,\n    ORDER_BY_TITLE,\n  } from '../data/constants'\n\nfunction sortPoems (sort, poems) {\n    if (sort === ORDER_BY_TITLE) {\n      poems.sort(function (a, b) {\n        if (a.title.toLowerCase() < b.title.toLowerCase()) return -1\n        if (a.title.toLowerCase() > b.title.toLowerCase()) return 1\n        return 0\n      })\n    }\n    if (sort === ORDER_BY_LIKES) {\n      poems.sort(function (a, b) {\n        return b.likes.length - a.likes.length\n      })\n    }\n    if (sort === ORDER_BY_RANDOM) {\n      poems.sort(() => Math.random() - 0.5)\n    }\n    if (sort === ORDER_BY_DATE) {\n      poems.sort(function (a, b) {\n        return new Date(b.date) - new Date(a.date)\n      })\n    }\n    return poems\n  }\n\n  export default sortPoems","export const normalizeSwaps = {\n    0: ['°', '₀', '۰', '０'],\n    1: ['¹', '₁', '۱', '１'],\n    2: ['²', '₂', '۲', '２'],\n    3: ['³', '₃', '۳', '３'],\n    4: ['⁴', '₄', '۴', '٤', '４'],\n    5: ['⁵', '₅', '۵', '٥', '５'],\n    6: ['⁶', '₆', '۶', '٦', '６'],\n    7: ['⁷', '₇', '۷', '７'],\n    8: ['⁸', '₈', '۸', '８'],\n    9: ['⁹', '₉', '۹', '９'],\n    a: ['à', 'á', 'ả', 'ã', 'ạ', 'ă', 'ắ', 'ằ', 'ẳ', 'ẵ', 'ặ', 'â', 'ấ', 'ầ', 'ẩ', 'ẫ', 'ậ', 'ā', 'ą', 'å', 'α', 'ά', 'ἀ', 'ἁ', 'ἂ', 'ἃ', 'ἄ', 'ἅ', 'ἆ', 'ἇ', 'ᾀ', 'ᾁ', 'ᾂ', 'ᾃ', 'ᾄ', 'ᾅ', 'ᾆ', 'ᾇ', 'ὰ', 'ά', 'ᾰ', 'ᾱ', 'ᾲ', 'ᾳ', 'ᾴ', 'ᾶ', 'ᾷ', 'а', 'أ', 'အ', 'ာ', 'ါ', 'ǻ', 'ǎ', 'ª', 'ა', 'अ', 'ا', 'ａ', 'ä'],\n    b: ['б', 'β', 'ب', 'ဗ', 'ბ', 'ｂ'],\n    c: ['ç', 'ć', 'č', 'ĉ', 'ċ', 'ｃ'],\n    d: ['ď', 'ð', 'đ', 'ƌ', 'ȡ', 'ɖ', 'ɗ', 'ᵭ', 'ᶁ', 'ᶑ', 'д', 'δ', 'د', 'ض', 'ဍ', 'ဒ', 'დ', 'ｄ'],\n    e: ['é', 'è', 'ẻ', 'ẽ', 'ẹ', 'ê', 'ế', 'ề', 'ể', 'ễ', 'ệ', 'ë', 'ē', 'ę', 'ě', 'ĕ', 'ė', 'ε', 'έ', 'ἐ', 'ἑ', 'ἒ', 'ἓ', 'ἔ', 'ἕ', 'ὲ', 'έ', 'е', 'ё', 'э', 'є', 'ə', 'ဧ', 'ေ', 'ဲ', 'ე', 'ए', 'إ', 'ئ', 'ｅ'],\n    f: ['ф', 'φ', 'ف', 'ƒ', 'ფ', 'ｆ'],\n    g: ['ĝ', 'ğ', 'ġ', 'ģ', 'г', 'ґ', 'γ', 'ဂ', 'გ', 'گ', 'ｇ'],\n    h: ['ĥ', 'ħ', 'η', 'ή', 'ح', 'ه', 'ဟ', 'ှ', 'ჰ', 'ｈ'],\n    i: ['í', 'ì', 'ỉ', 'ĩ', 'ị', 'î', 'ï', 'ī', 'ĭ', 'į', 'ı', 'ι', 'ί', 'ϊ', 'ΐ', 'ἰ', 'ἱ', 'ἲ', 'ἳ', 'ἴ', 'ἵ', 'ἶ', 'ἷ', 'ὶ', 'ί', 'ῐ', 'ῑ', 'ῒ', 'ΐ', 'ῖ', 'ῗ', 'і', 'ї', 'и', 'ဣ', 'ိ', 'ီ', 'ည်', 'ǐ', 'ი', 'इ', 'ی', 'ｉ'],\n    j: ['ĵ', 'ј', 'Ј', 'ჯ', 'ج', 'ｊ'],\n    k: ['ķ', 'ĸ', 'к', 'κ', 'Ķ', 'ق', 'ك', 'က', 'კ', 'ქ', 'ک', 'ｋ'],\n    l: ['ł', 'ľ', 'ĺ', 'ļ', 'ŀ', 'л', 'λ', 'ل', 'လ', 'ლ', 'ｌ'],\n    m: ['м', 'μ', 'م', 'မ', 'მ', 'ｍ'],\n    n: ['ñ', 'ń', 'ň', 'ņ', 'ŉ', 'ŋ', 'ν', 'н', 'ن', 'န', 'ნ', 'ｎ'],\n    o: ['ó', 'ò', 'ỏ', 'õ', 'ọ', 'ô', 'ố', 'ồ', 'ổ', 'ỗ', 'ộ', 'ơ', 'ớ', 'ờ', 'ở', 'ỡ', 'ợ', 'ø', 'ō', 'ő', 'ŏ', 'ο', 'ὀ', 'ὁ', 'ὂ', 'ὃ', 'ὄ', 'ὅ', 'ὸ', 'ό', 'о', 'و', 'θ', 'ို', 'ǒ', 'ǿ', 'º', 'ო', 'ओ', 'ｏ', 'ö'],\n    p: ['п', 'π', 'ပ', 'პ', 'پ', 'ｐ'],\n    q: ['ყ', 'ｑ'],\n    r: ['ŕ', 'ř', 'ŗ', 'р', 'ρ', 'ر', 'რ', 'ｒ'],\n    s: ['ś', 'š', 'ş', 'с', 'σ', 'ș', 'ς', 'س', 'ص', 'စ', 'ſ', 'ს', 'ｓ'],\n    t: ['ť', 'ţ', 'т', 'τ', 'ț', 'ت', 'ط', 'ဋ', 'တ', 'ŧ', 'თ', 'ტ', 'ｔ'],\n    u: ['ú', 'ù', 'ủ', 'ũ', 'ụ', 'ư', 'ứ', 'ừ', 'ử', 'ữ', 'ự', 'û', 'ū', 'ů', 'ű', 'ŭ', 'ų', 'µ', 'у', 'ဉ', 'ု', 'ူ', 'ǔ', 'ǖ', 'ǘ', 'ǚ', 'ǜ', 'უ', 'उ', 'ｕ', 'ў', 'ü'],\n    v: ['в', 'ვ', 'ϐ', 'ｖ'],\n    w: ['ŵ', 'ω', 'ώ', 'ဝ', 'ွ', 'ｗ'],\n    x: ['χ', 'ξ', 'ｘ'],\n    y: ['ý', 'ỳ', 'ỷ', 'ỹ', 'ỵ', 'ÿ', 'ŷ', 'й', 'ы', 'υ', 'ϋ', 'ύ', 'ΰ', 'ي', 'ယ', 'ｙ'],\n    z: ['ź', 'ž', 'ż', 'з', 'ζ', 'ز', 'ဇ', 'ზ', 'ｚ'],\n    aa: ['ع', 'आ', 'آ'],\n    ae: ['æ', 'ǽ'],\n    ai: ['ऐ'],\n    ch: ['ч', 'ჩ', 'ჭ', 'چ'],\n    dj: ['ђ', 'đ'],\n    dz: ['џ', 'ძ'],\n    ei: ['ऍ'],\n    gh: ['غ', 'ღ'],\n    ii: ['ई'],\n    ij: ['ĳ'],\n    kh: ['х', 'خ', 'ხ'],\n    lj: ['љ'],\n    nj: ['њ'],\n    oe: ['ö', 'œ', 'ؤ'],\n    oi: ['ऑ'],\n    oii: ['ऒ'],\n    ps: ['ψ'],\n    sh: ['ш', 'შ', 'ش'],\n    shch: ['щ'],\n    ss: ['ß'],\n    sx: ['ŝ'],\n    th: ['þ', 'ϑ', 'ث', 'ذ', 'ظ'],\n    ts: ['ц', 'ც', 'წ'],\n    ue: ['ü'],\n    uu: ['ऊ'],\n    ya: ['я'],\n    yu: ['ю'],\n    zh: ['ж', 'ჟ', 'ژ'],\n    '(c)': ['©'],\n    A: ['Á', 'À', 'Ả', 'Ã', 'Ạ', 'Ă', 'Ắ', 'Ằ', 'Ẳ', 'Ẵ', 'Ặ', 'Â', 'Ấ', 'Ầ', 'Ẩ', 'Ẫ', 'Ậ', 'Å', 'Ā', 'Ą', 'Α', 'Ά', 'Ἀ', 'Ἁ', 'Ἂ', 'Ἃ', 'Ἄ', 'Ἅ', 'Ἆ', 'Ἇ', 'ᾈ', 'ᾉ', 'ᾊ', 'ᾋ', 'ᾌ', 'ᾍ', 'ᾎ', 'ᾏ', 'Ᾰ', 'Ᾱ', 'Ὰ', 'Ά', 'ᾼ', 'А', 'Ǻ', 'Ǎ', 'Ａ', 'Ä'],\n    B: ['Б', 'Β', 'ब', 'Ｂ'],\n    C: ['Ç', 'Ć', 'Č', 'Ĉ', 'Ċ', 'Ｃ'],\n    D: ['Ď', 'Ð', 'Đ', 'Ɖ', 'Ɗ', 'Ƌ', 'ᴅ', 'ᴆ', 'Д', 'Δ', 'Ｄ'],\n    E: ['É', 'È', 'Ẻ', 'Ẽ', 'Ẹ', 'Ê', 'Ế', 'Ề', 'Ể', 'Ễ', 'Ệ', 'Ë', 'Ē', 'Ę', 'Ě', 'Ĕ', 'Ė', 'Ε', 'Έ', 'Ἐ', 'Ἑ', 'Ἒ', 'Ἓ', 'Ἔ', 'Ἕ', 'Έ', 'Ὲ', 'Е', 'Ё', 'Э', 'Є', 'Ə', 'Ｅ'],\n    F: ['Ф', 'Φ', 'Ｆ'],\n    G: ['Ğ', 'Ġ', 'Ģ', 'Г', 'Ґ', 'Γ', 'Ｇ'],\n    H: ['Η', 'Ή', 'Ħ', 'Ｈ'],\n    I: ['Í', 'Ì', 'Ỉ', 'Ĩ', 'Ị', 'Î', 'Ï', 'Ī', 'Ĭ', 'Į', 'İ', 'Ι', 'Ί', 'Ϊ', 'Ἰ', 'Ἱ', 'Ἳ', 'Ἴ', 'Ἵ', 'Ἶ', 'Ἷ', 'Ῐ', 'Ῑ', 'Ὶ', 'Ί', 'И', 'І', 'Ї', 'Ǐ', 'ϒ', 'Ｉ'],\n    J: ['Ｊ'],\n    K: ['К', 'Κ', 'Ｋ'],\n    L: ['Ĺ', 'Ł', 'Л', 'Λ', 'Ļ', 'Ľ', 'Ŀ', 'ल', 'Ｌ'],\n    M: ['М', 'Μ', 'Ｍ'],\n    N: ['Ń', 'Ñ', 'Ň', 'Ņ', 'Ŋ', 'Н', 'Ν', 'Ｎ'],\n    O: ['Ó', 'Ò', 'Ỏ', 'Õ', 'Ọ', 'Ô', 'Ố', 'Ồ', 'Ổ', 'Ỗ', 'Ộ', 'Ơ', 'Ớ', 'Ờ', 'Ở', 'Ỡ', 'Ợ', 'Ø', 'Ō', 'Ő', 'Ŏ', 'Ο', 'Ό', 'Ὀ', 'Ὁ', 'Ὂ', 'Ὃ', 'Ὄ', 'Ὅ', 'Ὸ', 'Ό', 'О', 'Θ', 'Ө', 'Ǒ', 'Ǿ', 'Ｏ', 'Ö'],\n    P: ['П', 'Π', 'Ｐ'],\n    Q: ['Ｑ'],\n    R: ['Ř', 'Ŕ', 'Р', 'Ρ', 'Ŗ', 'Ｒ'],\n    S: ['Ş', 'Ŝ', 'Ș', 'Š', 'Ś', 'С', 'Σ', 'Ｓ'],\n    T: ['Ť', 'Ţ', 'Ŧ', 'Ț', 'Т', 'Τ', 'Ｔ'],\n    U: ['Ú', 'Ù', 'Ủ', 'Ũ', 'Ụ', 'Ư', 'Ứ', 'Ừ', 'Ử', 'Ữ', 'Ự', 'Û', 'Ū', 'Ů', 'Ű', 'Ŭ', 'Ų', 'У', 'Ǔ', 'Ǖ', 'Ǘ', 'Ǚ', 'Ǜ', 'Ｕ', 'Ў', 'Ü'],\n    V: ['В', 'Ｖ'],\n    W: ['Ω', 'Ώ', 'Ŵ', 'Ｗ'],\n    X: ['Χ', 'Ξ', 'Ｘ'],\n    Y: ['Ý', 'Ỳ', 'Ỷ', 'Ỹ', 'Ỵ', 'Ÿ', 'Ῠ', 'Ῡ', 'Ὺ', 'Ύ', 'Ы', 'Й', 'Υ', 'Ϋ', 'Ŷ', 'Ｙ'],\n    Z: ['Ź', 'Ž', 'Ż', 'З', 'Ζ', 'Ｚ'],\n    AE: ['Æ', 'Ǽ'],\n    Ch: ['Ч'],\n    Dj: ['Ђ'],\n    Dz: ['Џ'],\n    Gx: ['Ĝ'],\n    Hx: ['Ĥ'],\n    Ij: ['Ĳ'],\n    Jx: ['Ĵ'],\n    Kh: ['Х'],\n    Lj: ['Љ'],\n    Nj: ['Њ'],\n    Oe: ['Œ'],\n    Ps: ['Ψ'],\n    Sh: ['Ш'],\n    Shch: ['Щ'],\n    Ss: ['ẞ'],\n    Th: ['Þ'],\n    Ts: ['Ц'],\n    Ya: ['Я'],\n    Yu: ['Ю'],\n    Zh: ['Ж'],\n    '-': [' '],\n};\n","import { normalizeSwaps } from '../data/normalizeSwaps';\n\n/**\n *\n * @param input {string} String to be normalized\n * @returns {string}\n */\nconst normalizeString = (input = '') => {\n    let str = String(input);\n    str = str.replace(/^\\s+|\\s+$/g, ''); // trim\n    str = str.toLowerCase();\n\n    // remove accents, swap ñ for n, etc\n    Object.keys(normalizeSwaps).forEach((swap) => {\n        normalizeSwaps[swap].forEach((s) => {\n            str = str.replace(new RegExp(s, 'g'), swap);\n        });\n    });\n    return str;\n}\n\nexport default normalizeString","import { useEffect, useState } from 'react';\nimport { createBrowserHistory } from 'history';\n\nconst history = createBrowserHistory();\n\nexport function parseQuery(url = window.location.search) {\n    const urlParams = new URLSearchParams(url);\n    return Array.from(urlParams.keys()).reduce((acc, key) => {\n        if (key !== '__proto__') {\n            acc[key] = urlParams.has(key) ? JSON.parse(urlParams.get(key)) : null;\n        }\n        return acc;\n    }, {});\n}\n\nexport function urlParse(url = '') {\n    const protocol = url.split('://')[0];\n    const host = url.split('://')[1].split('/')[0];\n    const splitUrl = url.split('/');\n    const tail = splitUrl[splitUrl.length - 1];\n    return {\n        protocol,\n        host,\n        tail,\n    };\n}\n\nexport function urlTail(url = '') {\n    const { tail } = urlParse(url);\n    return tail;\n}\n\n/**\n * @description Sets a new query param into the url or updates an existing one.\n * @param {string} id - Query key id to be set or updated\n * @param {any} value - Query value to be assigned\n */\nexport function addQueryParam({ id, value }) {\n    try {\n        const urlParams = new URLSearchParams(window.location.search);\n        const parsedValue = JSON.stringify(value);\n        urlParams.set(id, parsedValue);\n        history.push({\n            search: urlParams.toString(),\n            pathname: history.location.pathname,\n        });\n    } catch (error) {\n        console.error(error.stack);\n    }\n}\n\n/**\n * @description Sets a new query param into the url or updates an existing one.\n * @param {array} data - Query key id to be set or updated.\n * @param {array} keysToDelete - An array of keys to delete.\n */\nexport function addQueryParams(data = [], keysToDelete = []) {\n    try {\n        const urlParams = new URLSearchParams(window.location.search);\n        keysToDelete.forEach(key => urlParams.delete(key));\n        console.log(keysToDelete);\n        data.forEach(({ key, value }) => {\n            const parsedValue = JSON.stringify(value);\n            console.log(`Adding key ${key} with value ${parsedValue}`);\n            urlParams.set(key, parsedValue);\n        });\n        const newQuery = urlParams.toString();\n        if (newQuery !== window.location.search) {\n            history.push({\n                search: urlParams.toString(),\n                pathname: history.location.pathname,\n            });\n        }\n    } catch (error) {\n        console.error(error.stack);\n    }\n}\n\nexport function getQueryParam(key) {\n    const { [key]: value } = parseQuery();\n    return value;\n}\n\nexport function decodeRedirectQuery(query = '') {\n    const urlParams = new URLSearchParams(query);\n    const encodedQuery = urlParams.toString();\n    const decodedQuery = encodedQuery\n        .split('%3F')\n        .join('?')\n        .split('%3D')\n        .join('=')\n        .split('%26')\n        .join('&');\n    return decodedQuery;\n}\n\n/**\n * @description A hook to manage filters that load data from url query\n * @param {object} defaultValue - The object with the properties\n */\nexport function useFiltersFromQuery(defaultValue) {\n    const [data, setData] = useState(defaultValue);\n    useEffect(() => {\n        const keys = Object.keys(defaultValue);\n        const accumulatedQuery = {};\n        keys.forEach((key) => {\n            const value = getQueryParam(key);\n            if (value !== undefined) {\n                accumulatedQuery[key] = value;\n            }\n        });\n        setData({\n            ...data,\n            ...accumulatedQuery,\n        });\n    }, []);\n    useEffect(() => {\n        const keysData = Object.keys(data).map(key => ({ key, value: data[key] }));\n        const keysToDelete = [];\n        const filteredData = keysData.filter(({ key, value }) => {\n            const currentValue = getQueryParam(key);\n            const isNewValue = currentValue !== value;\n            const isDefaultValue = value === defaultValue[key];\n            const isValidValue = value !== null && value !== undefined;\n            if (isDefaultValue || !isValidValue) {\n                keysToDelete.push(key);\n            }\n            return isNewValue && !isDefaultValue && isValidValue;\n        });\n        const totalKeys = filteredData.length + keysToDelete.length;\n        if (totalKeys >= 1) {\n            addQueryParams(filteredData, keysToDelete);\n        }\n    }, [JSON.stringify(data)]);\n    return [data, setData];\n}\n\n\nexport function queryMatch(key, value) {\n    return getQueryParam(key) === value;\n}\n\nexport function getEncodedUri(rawUri) {\n    return encodeURI(rawUri);\n}\n","import React, { useEffect, useState, useContext } from 'react'\nimport { Link, useHistory } from 'react-router-dom'\nimport usePoems from '../react-query/usePoems'\nimport useDeletePoem from '../react-query/useDeletePoem'\nimport useLikePoem from '../react-query/useLikePoem'\nimport { AppContext } from '../App'\nimport './List.scss'\nimport './Detail.scss'\nimport '../App.scss'\nimport { TextField } from '@material-ui/core'\nimport SearchIcon from '@material-ui/icons/Search'\nimport HighlightOffSharpIcon from '@material-ui/icons/HighlightOffSharp'\nimport EditIcon from '@material-ui/icons/Edit'\nimport SubjectSharpIcon from '@material-ui/icons/SubjectSharp'\nimport CircularProgress from './CircularIndeterminate'\nimport capitalizeFirstLetter from '../utils/capitalizeFirstLetter'\nimport sortPoems from '../utils/sortPoems'\nimport { Helmet } from 'react-helmet'\nimport {\n  LIKE,\n  LIKES,\n  READ_MORE,\n  SEARCH_PLACEHOLDER,\n  ORDER_BY,\n  ORDER_BY_DATE,\n  ORDER_BY_LIKES,\n  ORDER_BY_RANDOM,\n  ORDER_BY_TITLE,\n  CATEGORIES_TITLE_LABEL\n} from '../data/constants'\nimport normalizeString from '../utils/normalizeString'\nimport { addQueryParam, useFiltersFromQuery } from '../utils/urlUtils.js'\n\nfunction List (props) {\n  const genre = props.match.params.genre\n  const [poems, setPoems] = useState([])\n  const [filter, setFilter] = useState('')\n\n  const history = useHistory()\n  const context = useContext(AppContext)\n  const poemsQuery = usePoems()\n\n  console.log(poemsQuery)\n\n  const [paramsData, setParamsData] = useFiltersFromQuery({\n    orderBy: null\n  })\n\n  useEffect(() => {\n    if (poemsQuery.data) {\n      const newData = [...poemsQuery.data]\n\n      if (genre) {\n        const poemsFiltered = newData.filter((poems) => poems.genre === genre)\n        const poemsSorted = sortPoems(paramsData.orderBy, poemsFiltered)\n        setPoems(poemsSorted)\n      } else {\n        const poemsSorted = sortPoems(paramsData.orderBy, newData)\n        setPoems(poemsSorted)\n      }\n    }\n  }, [JSON.stringify([poemsQuery.data, genre, paramsData])])\n\n  const handleOrderChange = (event) => {\n    addQueryParam({ id: 'orderBy', value: event.target.value })\n    setParamsData({ orderBy: event.target.value })\n  }\n\n  const deletePoemMutation = useDeletePoem()\n  const likePoemMutation = useLikePoem()\n\n  const onLike = (event, poemId) => {\n    event.preventDefault()\n    likePoemMutation.mutate(poemId)\n  }\n\n  const editPoem = (poemId) => {\n    const newPath = '/profile'\n    history.push(newPath)\n    context.setState({ elementToEdit: poemId })\n  }\n\n  const handleSearchChange = (event) => {\n    setFilter(normalizeString(event.target.value))\n  }\n\n  if (poemsQuery.isLoading) {\n    return <CircularProgress />\n  }\n\n  console.log(poemsQuery)\n\n  return (\n    <>\n      <Helmet>\n        <title>\n          {genre ? `${capitalizeFirstLetter(genre)} poems` : 'Poemunity'}\n        </title>\n      </Helmet>\n      <div className='list__container'>\n        <div className='list__intro'>\n          {genre && (\n            <p className='list__presentation'>\n              {CATEGORIES_TITLE_LABEL}\n              {genre.toUpperCase()}\n            </p>\n          )}\n          <div className='list__search'>\n            <div className='separator' />\n            <SearchIcon style={{ fontSize: 40, fill: '#4F5D73' }} />\n            <TextField\n              label={SEARCH_PLACEHOLDER}\n              InputLabelProps={{\n                style: { color: '#4F5D73' }\n              }}\n              InputProps={{\n                style: { color: '#4F5D73' }\n              }}\n              onChange={handleSearchChange}\n            />\n          </div>\n          <form className='list__sort'>\n            <label>\n              {ORDER_BY}\n              <select\n                type='submit'\n                id='sort'\n                name='sort'\n                onChange={handleOrderChange}\n              >\n                <option value={ORDER_BY_LIKES} selected={ORDER_BY_LIKES === paramsData.orderBy}>{ORDER_BY_LIKES}</option>\n                <option value={ORDER_BY_DATE} selected={ORDER_BY_DATE === paramsData.orderBy}>{ORDER_BY_DATE}</option>\n                <option value={ORDER_BY_RANDOM} selected={ORDER_BY_RANDOM === paramsData.orderBy}>{ORDER_BY_RANDOM}</option>\n                <option value={ORDER_BY_TITLE} selected={ORDER_BY_TITLE === paramsData.orderBy}>{ORDER_BY_TITLE}</option>\n              </select>\n            </label>\n          </form>\n        </div>\n\n        {poems?.map((poem) => (\n          <main key={poem.id} className='poem__detail'>\n            {normalizeString(poem.author).includes(filter) && (\n              <section className='poem__block'>\n                <section>\n                  <Link to={`/detail/${poem.id}`} className='poem__title'>\n                    {poem.title}\n                  </Link>\n                  <div className='poem__author-container'>\n                    <img className='poem__picture' src={poem.picture} />\n                    <p className='poem__author'>{poem.author}</p>\n                  </div>\n                  <div className='poem__date'>{poem.date}</div>\n                </section>\n                <section>\n                  <div className='poem__content poems__content'>\n                    {poem.poem}\n                  </div>\n                  <div className='poems__read-more'>\n                    <Link\n                      to={`/detail/${poem.id}`}\n                      className='poems__read-more'\n                    >\n                      {READ_MORE}\n                    </Link>\n                  </div>\n                </section>\n                <section className='poem__footer'>\n                  {poem.likes?.length === 1 && (\n                    <div className='poem__likes'>\n                      {poem.likes?.length} {LIKE}\n                    </div>\n                  )}\n                  {poem.likes?.length !== 1 && (\n                    <div className='poem__likes'>\n                      {poem.likes?.length} {LIKES}\n                    </div>\n                  )}\n                  <div className='separator' />\n                  {context.user &&\n                    poem.author !== context.username &&\n                    poem.likes.some((id) => id === context.username) && (\n                      <Link\n                        className='poem__likes-icon'\n                        onClick={(event) => onLike(event, poem.id)}\n                      />\n                  )}\n                  {context.user &&\n                    poem.author !== context.username &&\n                    !poem.likes.some((id) => id === context.username) && (\n                      <Link\n                        className='poem__unlikes-icon'\n                        onClick={(event) => onLike(event, poem.id)}\n                      />\n                  )}\n                  {context.user &&\n                    (poem.author === context.username ||\n                      context.userId === context.adminId) && (\n                        <EditIcon\n                          className='poem__edit-icon'\n                          onClick={(event) => editPoem(poem.id)}\n                        />\n                  )}\n                  {context.user &&\n                    (poem.author === context.username ||\n                      context.userId === context.adminId) && (\n                        <HighlightOffSharpIcon\n                          className='poem__delete-icon'\n                          style={{ fill: 'red' }}\n                          onClick={(event) => deletePoemMutation.mutate(poem.id)}\n                        />\n                  )}\n                  <Link\n                    to={`/detail/${poem.id}`}\n                    className='poem__comments-icon'\n                  >\n                    <SubjectSharpIcon style={{ fill: '#000' }} />\n                  </Link>\n                </section>\n              </section>\n            )}\n          </main>\n        ))}\n      </div>\n    </>\n  )\n}\nexport default List\n","import React from 'react'\nimport './List.scss'\nimport './Detail.scss'\nimport '../App.scss'\nimport './Dashboard.scss'\nimport Accordion from './SimpleAccordion'\nimport Ranking from './Ranking'\nimport List from './List'\n\nfunction Dashboard (props) {\n  return (\n    <main className='dashboard'>\n      <div className='dashboard__accordion'>\n        <Accordion />\n      </div>\n      <div className='dashboard__list'>\n        <List {...props} />\n      </div>\n      <div className='dashboard__ranking'>\n        <Ranking />\n      </div>\n    </main>\n  )\n}\nexport default Dashboard\n","import axios from 'axios'\nimport { useQuery, useQueryClient } from 'react-query';\n\nexport default function usePoem(id) {\n const queryClient = useQueryClient()\n  return useQuery(\n    ['poems', id],\n    () => axios.get(`/api/poems/${id}`).then((res) => res.data),\n    {\n      initialData: () => { \n        return queryClient.getQueryData('poems')?.find(d => d.id === id)\n      },\n      initialStale: true,\n      onError: (error) => {\n          console.error(error);\n      }\n    }\n  )\n}\n","import React, { useEffect, useState, useContext } from 'react'\nimport { AppContext } from '../App';\nimport { Link } from 'react-router-dom'\nimport './Detail.scss'\nimport '../App.scss'\nimport HighlightOffSharpIcon from '@material-ui/icons/HighlightOffSharp'\nimport EditIcon from '@material-ui/icons/Edit';\nimport SubjectSharpIcon from '@material-ui/icons/SubjectSharp'\nimport Disqus from 'disqus-react'\nimport CircularProgress from './CircularIndeterminate'\nimport './PageNotFound.scss'\nimport { Helmet } from 'react-helmet'\nimport { LIKE, LIKES } from '../data/constants'\nimport usePoem from '../react-query/usePoem'\nimport useDeletePoem from '../react-query/useDeletePoem'\nimport useLikePoem from '../react-query/useLikePoem'\nimport { useHistory } from \"react-router-dom\";\nimport { Poem } from '../typescript/interfaces'\nimport { FormElement } from '../typescript/types'\n\nfunction Detail (props: any): JSX.Element {\n  const [poem, setPoem] = useState<Poem>({\n    id: '',\n    title: '',\n    picture: '',\n    author: '',\n    date: '',\n    poem: '',\n    likes: [],\n  })\n\n  const context = useContext(AppContext);\n\n  const poemQuery = usePoem(props.match.params.poemId)\n\n  useEffect(()=> {\n    if(poemQuery.data) {\n      setPoem(poemQuery.data)\n    }\n  }, [JSON.stringify(poemQuery.data)])\n\n  const deletePoemMutation: {mutate: Function} = useDeletePoem()\n  const likePoemMutation: {mutate: Function} = useLikePoem()\n\n  function onLike (event: any, poemId: string) {\n    event.preventDefault()\n    likePoemMutation.mutate(poemId)\n  }\n  \n  const history = useHistory();\n\n  const editPoem = (poemId: string) => {\n    const newPath = '/profile'\n    history.push(newPath);\n    context.setState({elementToEdit: poemId})\n  }\n\n  if (poemQuery.isLoading) {\n    return <CircularProgress />\n  }\n\n  const disqusShortname = 'poemunity'\n  const disqusConfig = {\n    url: `http://localhost:3000/detail/${props.match.params.poemId}`,\n    identifier: `http://localhost:3000/detail/${props.match.params.poemId}`,\n    title: 'Title of Your Article'\n  }\n\n  return (\n    <>\n      {!poem && (\n        <main className='page-not-found__container'>\n          <section className='page-not-found__message'>\n            <h1 className='page-not-found__title'>Error - 404</h1>\n            <p className='page-not-found__text'>Nothing to see here</p>\n            <Link className='page-not-found__link' to='/'>\n              Back to Dashboard\n            </Link>\n          </section>\n        </main>\n      )}\n      {poem && poem.likes && (\n        <main className='poem__detail'>\n          <Helmet>\n            <title>{`Poem: ${poem.title}`}</title>\n          </Helmet>\n          <section className='poem__block'>\n            <section>\n              <h2 className='poem__title'>{poem.title}</h2>\n              <div className='poem__author-container'>\n                <img className='poem__picture' src={poem.picture} />\n                <p className='poem__author'>{poem.author}</p>\n              </div>\n              <div className='poem__date'>{poem.date}</div>\n            </section>\n            <section>\n              <div className='poem__content'>{poem.poem}</div>\n            </section>\n            <br />\n            <section className='poem__footer'>\n              {poem.likes.length === 1 && (\n                <div className='poem__likes'>\n                  {poem.likes.length} {LIKE}\n                </div>\n              )}\n              {poem.likes.length !== 1 && (\n                <div className='poem__likes'>\n                  {poem.likes.length} {LIKES}\n                </div>\n              )}\n              <div className='separator' />\n              {context.user &&\n                poem.author !== context.username &&\n                poem.likes.some((id) => id === context.username) && (\n                  <div\n                    className='poem__likes-icon'\n                    onClick = {(event) => onLike(event, poem.id)}>\n                  </div>\n              )}\n              {context.user &&\n                poem.author !== context.username &&\n                !poem.likes.some((id) => id === context.username) && (\n                  <div\n                    className='poem__unlikes-icon'\n                    onClick={(event) => onLike(event, poem.id)}>\n                  </div>\n              )}\n              {context.user &&\n                (poem.author === context.username ||\n                  context.userId === context.adminId) && (\n                    <EditIcon\n                    className='poem__edit-icon'\n                    onClick={(event) => editPoem(poem.id)}\n                    />\n              )}\n              {context.user &&\n                (poem.author === context.username || context.userId === context.adminId) && (\n                  <HighlightOffSharpIcon\n                    className='poem__delete-icon'\n                    style={{ fill: 'red' }}\n                    onClick={(event) => deletePoemMutation.mutate(poem.id)}\n                  />\n              )}\n              <Link to={`/detail/${poem.id}`} className='poem__comments-icon'>\n                <SubjectSharpIcon style={{ fill: '#000' }} />\n              </Link>\n            </section>\n          </section>\n          <div className='article-container'>\n            <Disqus.DiscussionEmbed\n              shortname={disqusShortname}\n              config={disqusConfig}\n            />\n          </div>\n        </main>\n      )}\n    </>\n  )\n}\n\nexport default Detail\n","import React from 'react'\nimport { useHistory } from 'react-router'\nimport './Header.scss'\n\n\nconst LoginButton = () => {\n  const history = useHistory()\n  return <button className='header__login' onClick={() => history.push('/login')} /> \n}\n\nexport default LoginButton\n","import React from 'react'\nimport { useHistory } from 'react-router'\nimport './Header.scss'\n\nconst Logout = () => {\n  const history = useHistory()\n \n  const handleLogout = (event) => {\n    event.preventDefault()\n    window.localStorage.removeItem('loggedUser')\n    history.push('/')\n  }\n\n  return (\n    <button className='header__logout' onClick={handleLogout} />\n  )\n}\n\nexport default Logout\n","const parseJwt = (token) => {\n    if(token) {\n        var base64Url = token.split('.')[1];\n        var base64 = base64Url.replace(/-/g, '+').replace(/_/g, '/');\n        var jsonPayload = decodeURIComponent(atob(base64).split('').map(function(c) {\n            return '%' + ('00' + c.charCodeAt(0).toString(16)).slice(-2);\n        }).join(''));\n    \n        return JSON.parse(jsonPayload);\n    }\n}\n\nexport default parseJwt","import React, { useState, useEffect, useContext } from 'react'\nimport { Link } from 'react-router-dom'\nimport './Header.scss'\nimport '../App.scss'\nimport Accordion from './SimpleAccordion'\nimport CircularProgress from './CircularIndeterminate'\nimport LoginButton from './LoginButton'\nimport LogoutButton from './Logout'\nimport {\n  WEB_SUBTITLE,\n} from '../data/constants'\nimport { AppContext } from '../App';\nimport {useLocation} from 'react-router-dom'\nimport parseJWT from '../utils/parseJWT'\n\nfunction Header () {\n  const context = useContext(AppContext);\n  const location = useLocation()\n\n  useEffect(()=>{\n    const loggedUserJSON = window.localStorage.getItem('loggedUser')\n    context.setState({ \n      user: JSON.parse(loggedUserJSON), \n      userId: parseJWT(JSON.parse(loggedUserJSON))?.id,\n      username: parseJWT(JSON.parse(loggedUserJSON))?.username,\n      config: {\n        headers: {\n          Authorization: `Bearer ${JSON.parse(loggedUserJSON)}`\n      }}})\n  }, [JSON.stringify(location)])\n  \n  // if (isLoading) {\n  //   return <CircularProgress />\n  // }\n  return (\n    <>\n      <section className='header'>\n        <div className='header__dropdown'>\n          <Accordion />\n        </div>\n        <div className='header__logo'>\n          <Link to='/' className='header__text-logo-first'>\n            P\n          </Link>\n          <Link to='/' className='header__logo-icon' />\n          <Link to='/' className='header__text-logo-second'>\n            emunity\n          </Link>\n        </div>\n        <p className='list__presentation'>{WEB_SUBTITLE}</p>\n        <div className='separator' />\n        {context.user ? (\n          <Link to='/profile' className='header__profile' />\n        ) : (\n          <></>\n        )}\n        {context.user ? <LogoutButton /> : <LoginButton />}\n      </section>\n    </>\n  )\n}\n\nexport default Header\n","import { Poem } from '../typescript/interfaces'\n\nconst getPoemsByUser = (poems: Poem[], username: string) => {\n    return poems.filter((poem) => poem?.author === username)\n}\n\nexport default getPoemsByUser","import React, { useEffect, useState, useContext } from 'react'\nimport { AppContext } from '../App';\nimport { Link } from 'react-router-dom'\nimport './List.scss'\nimport './Detail.scss'\nimport '../App.scss'\nimport { TextField } from '@material-ui/core'\nimport SearchIcon from '@material-ui/icons/Search'\nimport EditIcon from '@material-ui/icons/Edit';\nimport HighlightOffSharpIcon from '@material-ui/icons/HighlightOffSharp'\nimport SubjectSharpIcon from '@material-ui/icons/SubjectSharp'\nimport CircularProgress from './CircularIndeterminate'\nimport usePoems from '../react-query/usePoems'\nimport getPoemsByUser from '../utils/getPoemsByUser'\nimport useDeletePoem from '../react-query/useDeletePoem'\n\nfunction MyPoems (props) {\n  const [poems, setPoems] = useState([])\n  const [filter, setFilter] = useState('')\n\n  const context = useContext(AppContext);\n  const poemsQuery = usePoems()\n\n  useEffect(()=> {\n    if(poemsQuery.data) {\n      const poemsFiltered = getPoemsByUser(poemsQuery.data, context.username)\n      setPoems(poemsFiltered)\n    }\n  }, [JSON.stringify([poemsQuery.data, context.username])])\n\n  const editPoem = (poemId) => {\n    context.setState({elementToEdit: poemId})\n  }\n\n  const deletePoemMutation = useDeletePoem()\n\n  const LIKE = 'Like'\n  const LIKES = 'Likes'\n  const READ_MORE = 'Leer más'\n\n  const handleSearchChange = (event) => {\n    setFilter(event.target.value)\n  }\n\n  // if (isLoading) {\n  //   return <CircularProgress />\n  // }\n\n  return (\n    <>\n      <div className='search__container'>\n        <div className='separator' />\n        <div className='list__intro'>\n          <SearchIcon style={{ fontSize: 40, fill: '#551A8B' }} />\n          <TextField\n            label='Buscar autor'\n            InputLabelProps={{\n              style: { color: '#551A8B' }\n            }}\n            InputProps={{\n              style: { color: '#551A8B' }\n            }}\n            onChange={handleSearchChange}\n          />\n        </div>\n      </div>\n      {poems.map((poem) => (\n        <main key={poem.id} className='poem__detail'>\n          {poem.author?.includes(filter) && (\n            <section className='poem__block'>\n              <section>\n                <Link to={`/detail/${poem.id}`} className='poem__title'>\n                  {poem.title}\n                </Link>\n                <p className='poem__author'>{poem?.author}</p>\n                <div className='poem__date'>{poem.date}</div>\n              </section>\n              <section>\n                <div className='poem__content poems__content'>{poem.poem}</div>\n                <div className='poems__read-more'>\n                  <Link\n                    to={`/detail/${poem.id}`}\n                    className='poems__read-more'\n                  >\n                    {READ_MORE}\n                  </Link>\n                </div>\n              </section>\n              <section className='poem__footer'>\n                {poem.likes.length === 1 && (\n                  <div className='poem__likes'>\n                    {poem.likes.length} {LIKE}\n                  </div>\n                )}\n                {poem.likes.length !== 1 && (\n                  <div className='poem__likes'>\n                    {poem.likes.length} {LIKES}\n                  </div>\n                )}\n                <div className='separator' />\n                {context.user &&\n                  (poem.author === context.username ||\n                    context.userId === context.adminId) && (\n                      <EditIcon\n                      className='poem__edit-icon'\n                      onClick={(event) => editPoem(poem.id)}\n                      />\n                )}\n                {context.user && poem.author === context.username && (\n                  <HighlightOffSharpIcon\n                    className='poem__delete-icon'\n                    style={{ fill: 'red' }}\n                    onClick={(event) => deletePoemMutation.mutate(poem.id)}\n                  />\n                )}\n                <Link\n                  to={`/detail/${poem.id}`}\n                  className='poem__comments-icon'\n                >\n                  <SubjectSharpIcon style={{ fill: '#000' }} />\n                </Link>\n              </section>\n            </section>\n          )}\n        </main>\n      ))}\n    </>\n  )\n}\nexport default MyPoems\n","import { Poem } from '../typescript/interfaces'\n\nconst getFavouritePoemsByUser = (poems: Poem[], userId: string) => {\n    return poems.filter((poem) => poem.likes.some((element) => element === userId))\n}\n\nexport default getFavouritePoemsByUser","import React, { useEffect, useState, useContext } from 'react'\nimport { AppContext } from '../App';\nimport { Link } from 'react-router-dom'\nimport './List.scss'\nimport './Detail.scss'\nimport '../App.scss'\nimport { TextField } from '@material-ui/core'\nimport SearchIcon from '@material-ui/icons/Search'\nimport HighlightOffSharpIcon from '@material-ui/icons/HighlightOffSharp'\nimport SubjectSharpIcon from '@material-ui/icons/SubjectSharp'\nimport CircularProgress from './CircularIndeterminate'\nimport usePoems from '../react-query/usePoems'\nimport useDeletePoem from '../react-query/useDeletePoem'\nimport useLikePoem from '../react-query/useLikePoem'\nimport getFavouritePoemsByUser from '../utils/getFavouritePoemsByUser'\nimport parseJWT from '../utils/parseJWT'\n\nfunction MyFavouritePoems (props) {\n  const context = useContext(AppContext)\n\n  const [poems, setPoems] = useState([])\n  const [filter, setFilter] = useState('')\n\n  const poemsQuery = usePoems()\n  \n  useEffect(()=> {\n    if(poemsQuery.data) {\n      const poemsFiltered = getFavouritePoemsByUser(poemsQuery.data, context.userId)\n      setPoems(poemsFiltered)\n    }\n  }, [JSON.stringify([poemsQuery.data, context.username])])\n\n  const deletePoemMutation = useDeletePoem()\n  const likePoemMutation = useLikePoem()\n\n  function onLike (event, poemId) {\n    event.preventDefault()\n    likePoemMutation.mutate(poemId)\n  }\n\n  const LIKE = 'Like'\n  const LIKES = 'Likes'\n  const READ_MORE = 'Leer más'\n\n  const handleSearchChange = (event) => {\n    setFilter(event.target.value)\n  }\n\n  // if (isLoading) {\n  //   return <CircularProgress />\n  // }\n\n  return (\n    <>\n      <div className='search__container'>\n        <div className='separator' />\n        <div className='list__intro'>\n          <SearchIcon style={{ fontSize: 40, fill: '#551A8B' }} />\n          <TextField\n            label='Buscar autor'\n            InputLabelProps={{\n              style: { color: '#551A8B' }\n            }}\n            InputProps={{\n              style: { color: '#551A8B' }\n            }}\n            onChange={handleSearchChange}\n          />\n        </div>\n      </div>\n      {poems.map((poem) => (\n        <main key={poem.id} className='poem__detail'>\n          {poem.author.includes(filter) && (\n            <section className='poem__block'>\n              <section>\n                <Link to={`/detail/${poem.id}`} className='poem__title'>\n                  {poem.title}\n                </Link>\n                <div className='poem__author-container'>\n                  <img className='poem__picture' src={poem.picture} />\n                  <p className='poem__author'>{poem.author}</p>\n                </div>\n                <div className='poem__date'>{poem.date}</div>\n              </section>\n              <section>\n                <div className='poem__content poems__content'>{poem.poem}</div>\n                <div className='poems__read-more'>\n                  <Link\n                    to={`/detail/${poem.id}`}\n                    className='poems__read-more'\n                  >\n                    {READ_MORE}\n                  </Link>\n                </div>\n              </section>\n              <section className='poem__footer'>\n                {poem.likes.length === 1 && (\n                  <div className='poem__likes'>\n                    {poem.likes.length} {LIKE}\n                  </div>\n                )}\n                {poem.likes.length !== 1 && (\n                  <div className='poem__likes'>\n                    {poem.likes.length} {LIKES}\n                  </div>\n                )}\n                <div className='separator' />\n                {context.user &&\n                  poem.author !== context.username &&\n                  poem.likes.some((id) => id === context.username) && (\n                    <Link\n                      className='poem__likes-icon'\n                      onClick={(event) => onLike(event, poem.id)}\n                    />\n                )}\n                {context.user &&\n                  poem.author !== context.username &&\n                  !poem.likes.some((id) => id === context.username) && (\n                    <Link\n                      className='poem__unlikes-icon'\n                      onClick={(event) => onLike(event, poem.id)}\n                    />\n                )}\n                {context.user && poem.author === context.username && (\n                  <HighlightOffSharpIcon\n                    className='poem__delete-icon'\n                    style={{ fill: 'red' }}\n                    onClick={(event) => deletePoemMutation.mutate(poem.id)}\n                  />\n                )}\n                <Link\n                  to={`/detail/${poem.id}`}\n                  className='poem__comments-icon'\n                >\n                  <SubjectSharpIcon style={{ fill: '#000' }} />\n                </Link>\n              </section>\n            </section>\n          )}\n        </main>\n      ))}\n    </>\n  )\n}\nexport default MyFavouritePoems\n","import React, { useState, useEffect, useContext } from 'react'\nimport { AppContext } from '../App';\nimport PropTypes from 'prop-types'\nimport SwipeableViews from 'react-swipeable-views'\nimport { makeStyles, useTheme } from '@material-ui/core/styles'\nimport AppBar from '@material-ui/core/AppBar'\nimport Tabs from '@material-ui/core/Tabs'\nimport Tab from '@material-ui/core/Tab'\nimport Typography from '@material-ui/core/Typography'\nimport Box from '@material-ui/core/Box'\nimport './Profile.scss'\nimport '../App.scss'\nimport MyPoems from './MyPoems'\nimport MyFavouritePoems from './MyFavouritePoems'\nimport CircularProgress from './CircularIndeterminate'\nimport useCreatePoem from '../react-query/useCreatePoem'\nimport useSavePoem from '../react-query/useSavePoem'\nimport usePoem from '../react-query/usePoem'\nimport {\n  PROFILE_TITLE,\n  PROFILE_SUBTITLE,\n  PROFILE_POEMS,\n  PROFILE_FAVOURITE_POEMS,\n  CATEGORIES,\n  PROFILE_SELECT_CATEGORY_TITLE,\n  PROFILE_SELECT_CATEGORY,\n  PROFILE_SELECT_TITLE_AUTHOR,\n  PROFILE_SELECT_TITLE_TITLE,\n  PROFILE_SELECT_TITLE,\n  PROFILE_SELECT_LIKES,\n  PROFILE_POEM_PLACEHOLDER,\n  PROFILE_SEND_POEM,\n  PROFILE_RESET_POEM\n} from '../data/constants'\n\nfunction TabPanel (props) {\n  const { children, value, index, ...other } = props\n\n  return (\n    <div\n      role='tabpanel'\n      hidden={value !== index}\n      id={`full-width-tabpanel-${index}`}\n      aria-labelledby={`full-width-tab-${index}`}\n      {...other}\n    >\n      {value === index && (\n        <Box p={3}>\n          <Typography>{children}</Typography>\n        </Box>\n      )}\n    </div>\n  )\n}\n\nTabPanel.propTypes = {\n  children: PropTypes.node,\n  index: PropTypes.any.isRequired,\n  value: PropTypes.any.isRequired\n}\n\nfunction a11yProps (index) {\n  return {\n    id: `full-width-tab-${index}`,\n    'aria-controls': `full-width-tabpanel-${index}`\n  }\n}\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    backgroundColor: theme.palette.background.paper,\n    width: 500\n  }\n}))\n\nexport default function Profile (props) {\n  const theme = useTheme()\n  const [value, setValue] = React.useState(0)\n\n  const [poemContent, setPoemContent] = useState('')\n  const [poemFakeId, setPoemFakeId] = useState('')\n  const [poemTitle, setPoemTitle] = useState('')\n  const [poemCategory, setPoemCategory] = useState('')\n  const [poemLikes, setPoemLikes] = useState([])\n\n  // const [errorMessage, setErrorMessage] = useState(null)\n  const createPoemMutation = useCreatePoem()\n  const savePoemMutation = useSavePoem()\n\n  const context = useContext(AppContext);\n  const poemQuery = usePoem(context.elementToEdit)\n\n  useEffect(()=> {\n    setPoemTitle(context.elementToEdit ? poemQuery?.data?.title : '')\n    setPoemContent(context.elementToEdit ? poemQuery?.data?.poem : '')\n    setPoemFakeId(context.elementToEdit ? poemQuery?.data?.userId : '')\n    setPoemLikes(context.elementToEdit ? poemQuery?.data?.likes?.toString() : [])\n    setPoemCategory(context.elementToEdit ? poemQuery?.data?.genre : '')\n  }, [JSON.stringify([context.elementToEdit, poemQuery.data])])\n\n  const editPoem = (poemId) => {\n    context.setState({elementToEdit: poemId})\n  }\n\n  const handleChange = (event, newValue) => {\n    setValue(newValue)\n  }\n\n  const handleChangeIndex = (index) => {\n    setValue(index)\n  }\n\n  function onFieldChange (value, setValue) {\n    setValue(value)\n  }\n\n  const handleSend = (event) => {\n    event.preventDefault()\n    // event.target.reset()\n\n    const currentDatetime = new Date()\n    const formattedDate =\n      currentDatetime.getFullYear() +\n      '-' +\n      (currentDatetime.getMonth() + 1) +\n      '-' +\n      currentDatetime.getDate() +\n      ' ' +\n      currentDatetime.getHours() +\n      ':' +\n      currentDatetime.getMinutes() +\n      ':' +\n      currentDatetime.getSeconds()\n\n      if(!context.elementToEdit) {\n        if(context.userId === context.adminId) {\n          createPoemMutation.mutate({\n            userId: poemFakeId,\n            poem: poemContent,\n            title: poemTitle,\n            genre: poemCategory,\n            likes: poemLikes.length !== 0 ? [...poemLikes?.split(',')] : [],\n            date: formattedDate,\n          });  \n        } else {\n          createPoemMutation.mutate({\n            poem: poemContent,\n            title: poemTitle,\n            genre: poemCategory,\n            likes: [],\n            date: formattedDate,\n          });\n        }\n        setPoemContent('')\n        setPoemTitle('')\n        setPoemCategory('')\n      } else {\n        if(context.userId === context.adminId) {\n          savePoemMutation.mutate({poem: {\n            userId: poemFakeId,\n            poem: poemContent,\n            title: poemTitle,\n            genre: poemCategory,\n            likes: poemLikes.length !== 0 ? [...poemLikes?.split(',')] : [],\n            date: formattedDate,\n          }, poemId: poemQuery.data.id});  \n        } else {\n          savePoemMutation.mutate({poem: {\n            poem: poemContent,\n            title: poemTitle,\n            genre: poemCategory,\n            likes: [],\n            date: formattedDate,\n          }, poemId: poemQuery.data.id});\n        }\n        context.setState({elementToEdit: ''})\n      }\n  }\n\n  const handleReset = (event) => {\n    context.setState({elementToEdit: ''})\n  }\n\n  const handleLogout = (event) => {\n    event.preventDefault()\n    context.setState({ user: null })\n    \n    window.localStorage.removeItem('loggedUser')\n  }\n\n  return (\n    \n      <main className='profile__main'>\n        {\n          context.user ?\n          (\n          <div>\n          <section className='profile__title'>\n          <div>\n            {context.username}\n            {PROFILE_TITLE}\n          </div>\n        </section>\n        <section className='profile__intro'>\n          <img\n            className='profile__image'\n            // src={context.user?.picture}\n            alt={context.username}\n          />\n          <div className='profile__personal-data'>\n            <div className='profile__insert-poem'>\n              <p className='profile__insert-poem-title'>{PROFILE_SUBTITLE}</p>\n              <br />\n              <form\n                className='profile__insert-poem-form'\n              >\n                <div className='profile__insert-poem-inputs'>\n                  {\n                  context.userId === context.adminId && (\n                  <>\n                    <label className='profile__insert-poem-input'>\n                      {PROFILE_SELECT_TITLE_AUTHOR}\n                      <input\n                        className='profile__insert-poem-input'\n                        name='author'\n                        required\n                        value={poemFakeId}\n                        onChange={(event) =>\n                          onFieldChange(event.target.value, setPoemFakeId)}\n                      />\n                    </label>\n                    <label className='profile__insert-poem-input'>\n                    {PROFILE_SELECT_LIKES}\n                    <input\n                      className='profile__insert-poem-input'\n                      name='likes'\n                      value={poemLikes}\n                      onChange={(event) =>\n                        onFieldChange(event.target.value, setPoemLikes)}\n                    />\n                  </label>\n                </>\n                  )\n                  }\n                  <label className='profile__insert-poem-input'>\n                    {PROFILE_SELECT_TITLE_TITLE}\n                    <input\n                      className='profile__insert-poem-input'\n                      placeholder={PROFILE_SELECT_TITLE}\n                      name='title'\n                      required\n                      value={poemTitle}\n                      onChange={(event) =>\n                        onFieldChange(event.target.value, setPoemTitle)}\n                    />\n                  </label>\n                  <label className='profile__insert-poem-input'>\n                    {PROFILE_SELECT_CATEGORY_TITLE}\n                    <select\n                      className='profile__insert-poem-input'\n                      id='category'\n                      name='category'\n                      required\n                      onChange={(event) => {\n                        onFieldChange(event.target.value, setPoemCategory)\n                      }}\n                    >\n                      <option value=''>{PROFILE_SELECT_CATEGORY}</option>\n                      {CATEGORIES?.map((category) => (\n                        <option value={category.toLowerCase()} selected={poemQuery?.data?.genre === category.toLowerCase()}>\n                          {category}\n                        </option>\n                      ))}\n                    </select>\n                  </label>\n                </div>\n                <div>\n                  <textarea\n                    className='profile__text-area'\n                    id='poem'\n                    name='poem'\n                    required\n                    placeholder={PROFILE_POEM_PLACEHOLDER}\n                    value={poemContent}\n                    onChange={(event) =>\n                      onFieldChange(event.target.value, setPoemContent)}\n                  />\n                </div>\n\n                <button className='profile__send-poem' type='submit' onClick={handleReset}>\n                  {PROFILE_RESET_POEM}\n                </button>\n                <button className='profile__send-poem' type='submit' onClick={handleSend}>\n                  {PROFILE_SEND_POEM}\n                </button>\n              </form>\n            </div>\n          </div>\n        </section>\n        <section className='profile__outro'>\n          <div className='profile__tabs'>\n            <AppBar position='static' color='default'>\n              <Tabs\n                value={value}\n                onChange={handleChange}\n                indicatorColor='primary'\n                textColor='primary'\n                variant='fullWidth'\n                aria-label='full width tabs example'\n              >\n                <Tab label={PROFILE_POEMS} {...a11yProps(0)} />\n                <Tab label={PROFILE_FAVOURITE_POEMS} {...a11yProps(1)} />\n              </Tabs>\n            </AppBar>\n            <SwipeableViews\n              axis={theme.direction === 'rtl' ? 'x-reverse' : 'x'}\n              index={value}\n              onChangeIndex={handleChangeIndex}\n            >\n              <TabPanel\n                className='profile__myPoems'\n                value={value}\n                index={0}\n                dir={theme.direction}\n              >\n                <MyPoems />\n              </TabPanel>\n              <TabPanel\n                className='profile__myPoems'\n                value={value}\n                index={1}\n                dir={theme.direction}\n              >\n                <MyFavouritePoems />\n              </TabPanel>\n            </SwipeableViews>\n          </div>\n        </section>\n        </div>\n\n        ) : null\n        }\n        \n        \n      </main>\n    \n  )\n}\n","import axios from 'axios'\nimport { useMutation, useQueryClient } from 'react-query';\nimport { useContext } from 'react';\nimport { AppContext } from '../App';\n\nexport default function useCreatePoem() {\n const queryClient = useQueryClient()\n const context = useContext(AppContext);\n return useMutation(\n   (poem) => {\n     console.log(poem)\n      axios.post('/api/poems', poem, context.config).then((res) => res.data)},\n    {\n      onSuccess: () => {        \n        queryClient.invalidateQueries('poems')\n      },\n        onError: (error) => {\n            console.error(error);\n      }\n    }\n  )\n}\n","import axios from 'axios'\nimport { useMutation, useQueryClient } from 'react-query';\n\nexport default function useSavePoem() {\n const queryClient = useQueryClient()\n  return useMutation(\n    // arguments have to be a single variable or object in this case\n    ({poem, poemId}) => axios.patch(`/api/poems/${poemId}`, poem).then((res) => res.data),\n    {\n      onSuccess: () => {        \n        queryClient.invalidateQueries('poems')\n      },\n        onError: (error) => {\n            console.error(error);\n      }\n    }\n  )\n}\n","import React, {useState} from 'react'\nimport './Login.scss'\nimport { useHistory } from 'react-router'\nimport { NavLink } from 'react-router-dom'\nimport useLogin from '../react-query/useLogin'\nimport { FormElement } from '../typescript/types'\n\nconst Login = (): JSX.Element => {\n  const history = useHistory()\n  \n  const [username, setUsername] = useState('')\n  const [password, setPassword] = useState('')\n\n  const loginQuery: {mutate: Function} = useLogin()\n\n  const handleLogin = (event: any) => {\n    event.preventDefault()\n    loginQuery.mutate({username, password})\n    \n    setUsername('')\n    setPassword('')\n  }\n\n  return (\n    <form className='login' onSubmit={handleLogin}>\n        <label>Introduce your login credentials or click \"Register\" if you don't have them</label>\n          <div className='login__username'>\n            <input\n              type='text'\n              value={username}\n              name='Username'\n              placeholder='Username'\n              onChange={\n                (event) => setUsername(event.target.value)}\n            />\n          </div>\n          <div className='login__password'>\n            <input\n              type='password'\n              value={password}\n              name='Password'\n              placeholder='Password'\n              onChange={\n                ( event ) => setPassword(event.target.value)}\n            />\n          </div>\n          <button>\n            Login\n          </button>\n          <NavLink to='/register'>Register</NavLink>\n          {/* <Notification message={errorMessage}/> */}\n          \n        </form>\n  )\n}\n\nexport default Login\n","import axios from 'axios'\nimport { useMutation, useQueryClient } from 'react-query';\nimport { useHistory } from 'react-router';\n\nexport default function useLogin() {\n const queryClient = useQueryClient()\n const baseUrl = '/api/login'\n const history = useHistory()\n  return useMutation(\n    (credentials) => {\n      return axios.post(baseUrl, credentials).then((res) => res.data)},\n    {\n      onSuccess: (data) => {\n        // queryClient.invalidateQueries('login')\n        window.localStorage.setItem(\n          'loggedUser', JSON.stringify(data)\n        )\n        history.push('profile')\n      },\n      onError: (error) => {\n        // setErrorMessage('Wrong credentials')\n        console.log('something went wrong')\n        // setTimeout(()=> {\n        //   setErrorMessage(null)\n        // }, 3000)\n      }\n    }\n  )\n}","import React, { useState } from 'react'\nimport useRegister from '../react-query/useRegister'\nimport { NavLink } from 'react-router-dom'\nimport './Register.scss'\n\nconst Register = () => {\n  const [username, setUsername] = useState('')\n  const [email, setEmail] = useState('')\n  const [password, setPassword] = useState('')\n  \n  const registerMutation = useRegister()\n\n  const handleRegister = (event) => {\n    event.preventDefault()\n\n    registerMutation.mutate({username, email, password})\n    \n    // setUsername('')\n    // setEmail('')\n    // setPassword('')\n  }\n\n\n  return (\n    <form className='register' onSubmit={handleRegister}>\n        <label>Introduce your new credentials or click \"Login\" if you already have them</label>\n          <div className='register__username'>\n            <input\n              type='text'\n              value={username}\n              name='Username'\n              placeholder='Username'\n              onChange={\n                ({ target }) => setUsername(target.value)}\n            />\n          </div>\n          <div className='register__email'>\n            <input\n              type='text'\n              value={email}\n              name='Email'\n              placeholder='Email'\n              onChange={\n                ({ target }) => setEmail(target.value)}\n            />\n          </div>\n          <div className='register__password'>\n            <input\n              type='password'\n              value={password}\n              name='Password'\n              placeholder='Password'\n              onChange={\n                ({ target }) => setPassword(target.value)}\n            />\n          </div>\n          <button>\n            Register\n          </button>\n          {/* <Notification message={errorMessage}/> */}\n          <NavLink to='/login'>Login</NavLink>\n\n          \n        </form>\n  )\n}\n\nexport default Register\n","import axios from 'axios'\nimport { useHistory } from 'react-router';\nimport { useMutation, useQueryClient } from 'react-query';\n\nexport default function useRegister() {\n const queryClient = useQueryClient()\n const baseUrl = '/api/register'\n const history = useHistory()\n  return useMutation(\n    (data) => {\n      return axios.post(baseUrl, data).then((res) => res.data)},\n    {\n      onSuccess: (data) => {\n        // queryClient.invalidateQueries('login')\n        history.push('/login')\n      },\n      onError: (error) => {\n        // setErrorMessage('Wrong credentials')\n        console.log('something went wrong')\n        // setTimeout(()=> {\n        //   setErrorMessage(null)\n        // }, 3000)\n      }\n    }\n  )\n}","import React from 'react'\nimport { Link } from 'react-router-dom'\nimport './PageNotFound.scss'\n\nfunction PageNotFound (props) {\n  return (\n    <main className='page-not-found__container'>\n      <section className='page-not-found__message'>\n        <h1 className='page-not-found__title'>Error - 404</h1>\n        <p className='page-not-found__text'>Nothing to see here</p>\n        <Link className='page-not-found__link' to='/'>Back to Dashboard</Link>\n      </section>\n    </main>\n  )\n}\n\nexport default PageNotFound\n","import React, { useState } from 'react'\nimport { Route, Switch, BrowserRouter as Router } from 'react-router-dom'\nimport './App.scss'\nimport Dashboard from './components/Dashboard'\nimport Detail from './components/Detail'\nimport Header from './components/Header'\nimport Profile from './components/Profile'\nimport Login from './components/Login'\nimport Register from './components/Register'\nimport PageNotFound from './components/PageNotFound'\n\nexport const AppContext = React.createContext();\n\nfunction App (props) {\n  const [contextState, setContextState] = useState({\n    elementToEdit: '',\n    user: null,\n    userId: '',\n    username: '',\n    config: {},\n    adminId: process.env.REACT_APP_ADMIN,\n    setState(data) {\n        const { setState, ...res } = data;\n        const newState = { ...contextState, ...res };\n        setContextState(newState);\n    },\n  });\n  return (\n    <AppContext.Provider value={contextState}>\n      <Router>\n        <div className='container'>\n          <Header />\n\n          <div className='margin-body'>\n            <Switch>\n              <Route path='/' exact component={Dashboard} />\n              <Route path='/profile' component={Profile} />\n              <Route path='/login' component={Login} />\n              <Route path='/register' component={Register} />\n              <Route path='/:genre' exact component={Dashboard} />\n              <Route path='/detail/:poemId' exact component={Detail} />\n              <Route component={PageNotFound} />\n            </Switch>\n          </div>\n        </div>\n      </Router>\n    </AppContext.Provider>\n\n  )\n}\n\n\nexport default App\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n)\n\nexport function register (config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href)\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config)\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          )\n        })\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config)\n      }\n    })\n  }\n}\n\nfunction registerValidSW (swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing\n        if (installingWorker == null) {\n          return\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              )\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration)\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.')\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration)\n              }\n            }\n          }\n        }\n      }\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error)\n    })\n}\n\nfunction checkValidServiceWorker (swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type')\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload()\n          })\n        })\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config)\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      )\n    })\n}\n\nexport function unregister () {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister()\n      })\n      .catch(error => {\n        console.error(error.message)\n      })\n  }\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './App'\nimport * as serviceWorker from './serviceWorker'\nimport {\n  QueryClient,\n  QueryClientProvider,\n} from \"react-query\";\nimport { ReactQueryDevtools } from \"react-query/devtools\";\n\nlet redirectUri = 'http://localhost:3000/profile'\nif (process.env.NODE_ENV === 'production') {\n  redirectUri = 'https://poemunity.com/profile'\n}\n\nconst { REACT_APP_AUTH0_DOMAIN, REACT_APP_AUTH0_CLIENTID } = process.env\n// same as process.env.AUTH0_DOMAIN, but cleaner\n\nconst queryClient = new QueryClient();\n\nReactDOM.render(\n  <React.StrictMode>\n    <QueryClientProvider client={queryClient}>\n        <App />\n    <ReactQueryDevtools />\n    </QueryClientProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n)\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister()\n"],"sourceRoot":""}