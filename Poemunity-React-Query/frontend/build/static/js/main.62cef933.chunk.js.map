{"version":3,"sources":["data/constants.js","components/SimpleAccordion.js","react-query/usePoems.js","utils/getRanking.js","components/CircularIndeterminate.js","components/Ranking.jsx","react-query/useDeletePoem.js","react-query/useLikePoem.js","utils/capitalizeFirstLetter.ts","utils/sortPoems.js","data/normalizeSwaps.js","utils/normalizeString.js","utils/urlUtils.js","components/List.jsx","components/Dashboard.jsx","react-query/usePoem.js","components/Detail.tsx","components/LoginButton.jsx","components/Logout.jsx","utils/parseJWT.js","components/Header.jsx","utils/getPoemsByUser.ts","components/MyPoems.jsx","utils/getFavouritePoemsByUser.ts","components/MyFavouritePoems.jsx","components/Profile.jsx","react-query/useCreatePoem.js","react-query/useSavePoem.js","components/Login.tsx","react-query/useLogin.js","components/Register.jsx","react-query/useRegister.js","components/PageNotFound.js","App.js","serviceWorker.js","index.js"],"names":["CATEGORIES","LIKE","LIKES","ORDER_BY_TITLE","ORDER_BY_DATE","ORDER_BY_RANDOM","ORDER_BY_LIKES","SimpleAccordion","Accordion","className","AccordionSummary","expandIcon","id","sort","map","category","AccordionDetails","to","toLowerCase","usePoems","useQuery","axios","get","then","res","data","onError","error","console","useStyles","makeStyles","theme","root","display","marginLeft","spacing","CircularIndeterminate","classes","CircularProgress","color","table","minWidth","useDeletePoem","queryClient","useQueryClient","context","useContext","AppContext","useMutation","delete","config","onSuccess","poemDeleted","invalidateQueries","useLikePoem","poemId","put","modifiedPoem","capitalizeFirstLetter","string","charAt","toUpperCase","slice","sortPoems","poems","a","b","title","likes","length","Math","random","Date","date","normalizeSwaps","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","aa","ae","ai","ch","dj","dz","ei","gh","ii","ij","kh","lj","nj","oe","oi","oii","ps","sh","shch","ss","sx","th","ts","ue","uu","ya","yu","zh","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","AE","Ch","Dj","Dz","Gx","Hx","Ij","Jx","Kh","Lj","Nj","Oe","Ps","Sh","Shch","Ss","Th","Ts","Ya","Yu","Zh","normalizeString","input","str","String","replace","Object","keys","forEach","swap","RegExp","history","createBrowserHistory","getQueryParam","key","url","window","location","search","urlParams","URLSearchParams","Array","from","reduce","acc","has","JSON","parse","parseQuery","useFiltersFromQuery","defaultValue","useState","setData","useEffect","accumulatedQuery","value","undefined","keysData","keysToDelete","filteredData","filter","isNewValue","isDefaultValue","isValidValue","push","log","parsedValue","stringify","set","toString","pathname","stack","addQueryParams","List","props","genre","match","params","setPoems","setFilter","useHistory","poemsQuery","orderBy","paramsData","setParamsData","newData","poemsFiltered","poemsSorted","deletePoemMutation","likePoemMutation","onLike","event","preventDefault","mutate","isLoading","Helmet","style","fontSize","fill","TextField","label","InputLabelProps","InputProps","onChange","target","type","name","addQueryParam","selected","poem","author","includes","src","picture","user","username","some","onClick","userId","adminId","setState","elementToEdit","Dashboard","usePoem","initialData","getQueryData","find","initialStale","Detail","setPoem","poemQuery","disqusConfig","identifier","DiscussionEmbed","shortname","LoginButton","Logout","localStorage","removeItem","parseJwt","token","base64","split","jsonPayload","decodeURIComponent","atob","charCodeAt","join","Header","useLocation","loggedUserJSON","getItem","parseJWT","headers","Authorization","getPoemsByUser","MyPoems","getFavouritePoemsByUser","element","MyFavouritePoems","TabPanel","children","index","other","role","hidden","Box","Typography","a11yProps","backgroundColor","palette","background","paper","width","Profile","useTheme","React","setValue","poemContent","setPoemContent","poemFakeId","setPoemFakeId","poemTitle","setPoemTitle","poemCategory","setPoemCategory","poemLikes","setPoemLikes","createPoemMutation","post","useCreatePoem","savePoemMutation","patch","useSavePoem","onFieldChange","alt","required","placeholder","currentDatetime","formattedDate","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","AppBar","position","Tabs","newValue","indicatorColor","textColor","variant","Tab","axis","direction","onChangeIndex","dir","Login","setUsername","password","setPassword","loginQuery","credentials","setItem","useLogin","onSubmit","Register","email","setEmail","registerMutation","useRegister","PageNotFound","createContext","App","process","newState","contextState","setContextState","Provider","path","exact","component","Boolean","hostname","REACT_APP_AUTH0_DOMAIN","REACT_APP_AUTH0_CLIENTID","QueryClient","ReactDOM","render","StrictMode","client","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","message"],"mappings":"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","file":"static/js/main.62cef933.chunk.js","sourcesContent":["export const WEB_SUBTITLE = 'Your poem community!!'\nexport const CATEGORIES_TITLE = 'Categories'\nexport const CATEGORIES = ['Anniversary', 'Friendship', 'Funny', 'Haikus', 'Hope', 'Life', 'Love', 'Sad']\nexport const ALL = 'All'\nexport const PROFILE_TITLE = \"'s Profile\"\nexport const PROFILE_SUBTITLE = 'Insert a poem:'\nexport const PROFILE_SELECT_TITLE_AUTHOR = \"Author's Id: \"\nexport const PROFILE_SELECT_TITLE_TITLE = 'Title: '\nexport const PROFILE_SELECT_TITLE = 'Title'\nexport const PROFILE_SELECT_LIKES = 'Likes'\nexport const PROFILE_SELECT_CATEGORY_TITLE = 'Category: '\nexport const PROFILE_SELECT_CATEGORY = 'Select'\nexport const PROFILE_POEM_PLACEHOLDER = 'Insert your poem here'\nexport const PROFILE_SEND_POEM = 'Send'\nexport const PROFILE_RESET_POEM = 'Reset'\nexport const PROFILE_POEMS = 'My poems'\nexport const PROFILE_FAVOURITE_POEMS = 'My favourite poems'\nexport const LIKE = 'Like'\nexport const LIKES = 'Likes'\nexport const READ_MORE = 'Read more'\nexport const SEARCH_PLACEHOLDER = 'Search an author'\nexport const ORDER_BY = 'Order poems by: '\nexport const ORDER_BY_TITLE = 'Title'\nexport const ORDER_BY_DATE = 'Date'\nexport const ORDER_BY_RANDOM = 'Random'\nexport const ORDER_BY_LIKES = 'Likes'\nexport const CATEGORIES_TITLE_LABEL = 'Category: '\nexport const RANKING_TITLE = 'Poets ranking'\nexport const RANKING_SUBTITLE = '3 points per poem, 1 per like'\nexport const RANKING_POETS_TITLE = 'Poets'\nexport const RANKING_POINTS_TITLE = 'Points'","import React from 'react'\nimport Accordion from '@material-ui/core/Accordion'\nimport AccordionSummary from '@material-ui/core/AccordionSummary'\nimport AccordionDetails from '@material-ui/core/AccordionDetails'\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore'\nimport './Header.scss'\nimport { Link } from 'react-router-dom'\nimport { CATEGORIES_TITLE, CATEGORIES, ALL } from '../data/constants'\n\nexport default function SimpleAccordion () {\n  return (\n    <div>\n      <Accordion className='accordion'>\n        <AccordionSummary expandIcon={<ExpandMoreIcon />} aria-controls='panel1a-content' id='panel1a-header'>\n          <p className='header__dropdown-categories'>{CATEGORIES_TITLE}</p>\n        </AccordionSummary>\n        <div>\n          {CATEGORIES?.sort().map((category) => (\n            <AccordionDetails key={category}>\n              <Link className='header__dropdown-subcategories' to={`/${category.toLowerCase()}`}>\n                {category}\n              </Link>\n            </AccordionDetails>\n          ))}\n        </div>\n        <AccordionDetails>\n          <Link className='header__dropdown-subcategories' to='/'>\n            {ALL}\n          </Link>\n        </AccordionDetails>\n      </Accordion>\n    </div>\n  )\n}\n","import axios from 'axios'\nimport { useQuery } from 'react-query';\n\nexport default function usePoems() {\n  return useQuery(\n    'poems',\n    () => axios.get('/api/poems').then((res) => res.data),\n    {\n        onError: (error) => {\n            console.error(error);\n      }\n    }\n  )\n}\n// with \"fetch\" I would have to put this somehow inside the useQuery\n// export const loadPoems = async () => {\n//     const response = await fetch('/api/poems')\n//     if(!response.ok) {\n//       throw new Error('Something went wrong')    \n//     }\n//     return response.json()\n//   }\n","export const SortObjectOfObjects = (data, attribute) => {\n    const array = []\n    for (const prop in data) {\n      if (data.hasOwnProperty(prop)) {\n        const object = {}\n        object[prop] = data[prop]\n        object.tempSortName = data[prop][attribute]\n        array.push(object)\n      }\n    }\n\n    array.sort(function (a, b) {\n      const at = a.tempSortName\n      const bt = b.tempSortName\n      return at > bt ? -1 : (at < bt ? 1 : 0)\n    })\n\n    const result = []\n    for (let i = 0, l = array.length; i < l; i++) {\n      const object = array[i]\n      delete object.tempSortName\n      for (const prop in object) {\n        if (object.hasOwnProperty(prop)) {\n          var id = prop\n        }\n      }\n      const item = object[id]\n      result.push(item)\n    }\n    return result\n}\n\nexport const getRanking = (poems, poemPoints, likePoints) => {\n    let rank = poems?.reduce(function (accumulator, item) {\n        const points = (accumulator[item.userId]?.points || 0) + poemPoints + (likePoints * item.likes.length)\n\n        accumulator[item.userId] = {\n        author: item.author,\n        picture: item.picture,\n        points\n        }\n\n        return accumulator\n    }, {})\n\n    rank = SortObjectOfObjects(rank, 'points')\n\nreturn rank\n}","import React from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\nimport CircularProgress from '@material-ui/core/CircularProgress'\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: 'flex',\n    '& > * + *': {\n      marginLeft: theme.spacing(2)\n    }\n  }\n}))\n\nexport default function CircularIndeterminate () {\n  const classes = useStyles()\n\n  return (\n    <div className={classes.root}>\n      <CircularProgress color='secondary' />\n    </div>\n  )\n}\n","import React, { useState, useEffect } from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\nimport Table from '@material-ui/core/Table'\nimport TableBody from '@material-ui/core/TableBody'\nimport TableCell from '@material-ui/core/TableCell'\nimport TableContainer from '@material-ui/core/TableContainer'\nimport TableHead from '@material-ui/core/TableHead'\nimport TableRow from '@material-ui/core/TableRow'\nimport Paper from '@material-ui/core/Paper'\nimport './Ranking.scss'\nimport usePoems from '../react-query/usePoems'\nimport { getRanking } from '../utils/getRanking.js'\nimport CircularProgress from './CircularIndeterminate'\nimport {\n  RANKING_TITLE,\n  RANKING_SUBTITLE,\n  RANKING_POETS_TITLE,\n  RANKING_POINTS_TITLE\n} from '../data/constants'\n\nconst useStyles = makeStyles({\n  table: {\n    minWidth: 50\n  }\n})\n\nexport default function Ranking () {\n  const classes = useStyles()\n  const poemPoints = 3\n  const likePoints = 1\n\n  const [poems, setPoems] = useState([])\n  const poemsQuery = usePoems()\n\n  const [rank, setRank] = useState(\n    getRanking(null)\n  )\n\n  useEffect(()=> {\n    if(poemsQuery.data) {\n      setPoems(poemsQuery.data)\n    }\n  }, [JSON.stringify(poemsQuery.data)])\n\n  useEffect(()=> {\n    if(poems) {\n      setRank(getRanking(poems, poemPoints, likePoints))\n    }\n  }, [JSON.stringify([poems, poemPoints, likePoints])])\n\n  if (poemsQuery.isLoading) {\n    return <CircularProgress />\n  }\n\n  return (\n    <>\n      <main className='ranking'>\n        <h3 className='ranking__title'>{RANKING_TITLE}</h3>\n        <h5 className='ranking__subtitle'>{RANKING_SUBTITLE}</h5>\n        <TableContainer className='ranking__body' component={Paper}>\n          <Table className={classes.table} aria-label='simple table'>\n            <TableHead>\n              <TableRow>\n                <TableCell align='center'>{RANKING_POETS_TITLE}</TableCell>\n                <TableCell align='center'>{RANKING_POINTS_TITLE}</TableCell>\n              </TableRow>\n            </TableHead>\n            <TableBody>\n              {Object.keys(rank).map((element, index) => (\n                <TableRow key={index}>\n                  <TableCell\n                    className='ranking__picture-container'\n                    align='center'\n                    component='th'\n                    scope='row'\n                  >\n                    <div className='ranking__picture-wrap'>\n                      <img\n                        className='ranking__picture'\n                        src={rank[element].picture}\n                      />\n                      <p className='ranking__picture-description'>\n                        {rank[element].author}\n                      </p>\n                    </div>\n                  </TableCell>\n                  <TableCell className='ranking__number' align='center'>\n                    {rank[element].points}\n                  </TableCell>\n                </TableRow>\n              ))}\n            </TableBody>\n          </Table>\n        </TableContainer>\n      </main>\n    </>\n  )\n}\n","import axios from 'axios'\nimport { useMutation, useQueryClient } from 'react-query';\nimport { useContext } from 'react';\nimport { AppContext } from '../App';\n\nexport default function useDeletePoem() {\n const queryClient = useQueryClient()\n const context = useContext(AppContext);\n  return useMutation(\n    (id) => axios.delete(`/api/poems/${id}`, context.config).then((res) => res.data),\n    {\n      onSuccess: (data, poemDeleted) => {\n        // const oldPoems = queryClient.getQueryData('poems')\n  \n\n        // if (oldPoems) {\n        //   return () => {\n        //       queryClient.setQueryData('poems', oldPoems.filter((poem) => poem !== poemDeleted))\n        //       debugger\n        //     }\n        // }\n        // debugger\n        // return () => queryClient.setQueryData('poems', oldPoems)\n        // queryClient.setQueryData('poems', old=>old.filter((poem) => poem !== poemDeleted))\n        // debugger\n        queryClient.invalidateQueries('poems')\n      },\n        // onSuccess: () => queryCache.refetchQueries('poems'),\n        onError: (error) => {\n            console.error(error);\n      }\n    }\n  )\n}","import axios from 'axios'\nimport { useMutation, useQueryClient } from 'react-query';\nimport { useContext } from 'react';\nimport { AppContext } from '../App';\n\nexport default function useLikePoem() {\n const queryClient = useQueryClient()\n const context = useContext(AppContext);\n  return useMutation(\n    // arguments have to be a single variable or object in this case\n    (poemId) => axios.put(`/api/poems/${poemId}`, null, \n        context.config).then((res) => res.data),\n    {\n      // data is here the whole poem object\n      // modifiedPoem is here the id of the poem\n      onSuccess: (data, modifiedPoem) => {        \n        queryClient.invalidateQueries('poems')\n      },\n        onError: (error) => {\n            console.error(error);\n      }\n    }\n  )\n}\n","function capitalizeFirstLetter (string: string) {\n  return string.charAt(0).toUpperCase() + string.slice(1)\n}\n\nexport default capitalizeFirstLetter\n","import {\n    ORDER_BY_DATE,\n    ORDER_BY_LIKES,\n    ORDER_BY_RANDOM,\n    ORDER_BY_TITLE,\n  } from '../data/constants'\n\nfunction sortPoems (sort, poems) {\n    if (sort === ORDER_BY_TITLE) {\n      poems.sort(function (a, b) {\n        if (a.title.toLowerCase() < b.title.toLowerCase()) return -1\n        if (a.title.toLowerCase() > b.title.toLowerCase()) return 1\n        return 0\n      })\n    }\n    if (sort === ORDER_BY_LIKES) {\n      poems.sort(function (a, b) {\n        return b.likes.length - a.likes.length\n      })\n    }\n    if (sort === ORDER_BY_RANDOM) {\n      poems.sort(() => Math.random() - 0.5)\n    }\n    if (sort === ORDER_BY_DATE) {\n      poems.sort(function (a, b) {\n        return new Date(b.date) - new Date(a.date)\n      })\n    }\n    return poems\n  }\n\n  export default sortPoems","export const normalizeSwaps = {\n    0: ['°', '₀', '۰', '０'],\n    1: ['¹', '₁', '۱', '１'],\n    2: ['²', '₂', '۲', '２'],\n    3: ['³', '₃', '۳', '３'],\n    4: ['⁴', '₄', '۴', '٤', '４'],\n    5: ['⁵', '₅', '۵', '٥', '５'],\n    6: ['⁶', '₆', '۶', '٦', '６'],\n    7: ['⁷', '₇', '۷', '７'],\n    8: ['⁸', '₈', '۸', '８'],\n    9: ['⁹', '₉', '۹', '９'],\n    a: ['à', 'á', 'ả', 'ã', 'ạ', 'ă', 'ắ', 'ằ', 'ẳ', 'ẵ', 'ặ', 'â', 'ấ', 'ầ', 'ẩ', 'ẫ', 'ậ', 'ā', 'ą', 'å', 'α', 'ά', 'ἀ', 'ἁ', 'ἂ', 'ἃ', 'ἄ', 'ἅ', 'ἆ', 'ἇ', 'ᾀ', 'ᾁ', 'ᾂ', 'ᾃ', 'ᾄ', 'ᾅ', 'ᾆ', 'ᾇ', 'ὰ', 'ά', 'ᾰ', 'ᾱ', 'ᾲ', 'ᾳ', 'ᾴ', 'ᾶ', 'ᾷ', 'а', 'أ', 'အ', 'ာ', 'ါ', 'ǻ', 'ǎ', 'ª', 'ა', 'अ', 'ا', 'ａ', 'ä'],\n    b: ['б', 'β', 'ب', 'ဗ', 'ბ', 'ｂ'],\n    c: ['ç', 'ć', 'č', 'ĉ', 'ċ', 'ｃ'],\n    d: ['ď', 'ð', 'đ', 'ƌ', 'ȡ', 'ɖ', 'ɗ', 'ᵭ', 'ᶁ', 'ᶑ', 'д', 'δ', 'د', 'ض', 'ဍ', 'ဒ', 'დ', 'ｄ'],\n    e: ['é', 'è', 'ẻ', 'ẽ', 'ẹ', 'ê', 'ế', 'ề', 'ể', 'ễ', 'ệ', 'ë', 'ē', 'ę', 'ě', 'ĕ', 'ė', 'ε', 'έ', 'ἐ', 'ἑ', 'ἒ', 'ἓ', 'ἔ', 'ἕ', 'ὲ', 'έ', 'е', 'ё', 'э', 'є', 'ə', 'ဧ', 'ေ', 'ဲ', 'ე', 'ए', 'إ', 'ئ', 'ｅ'],\n    f: ['ф', 'φ', 'ف', 'ƒ', 'ფ', 'ｆ'],\n    g: ['ĝ', 'ğ', 'ġ', 'ģ', 'г', 'ґ', 'γ', 'ဂ', 'გ', 'گ', 'ｇ'],\n    h: ['ĥ', 'ħ', 'η', 'ή', 'ح', 'ه', 'ဟ', 'ှ', 'ჰ', 'ｈ'],\n    i: ['í', 'ì', 'ỉ', 'ĩ', 'ị', 'î', 'ï', 'ī', 'ĭ', 'į', 'ı', 'ι', 'ί', 'ϊ', 'ΐ', 'ἰ', 'ἱ', 'ἲ', 'ἳ', 'ἴ', 'ἵ', 'ἶ', 'ἷ', 'ὶ', 'ί', 'ῐ', 'ῑ', 'ῒ', 'ΐ', 'ῖ', 'ῗ', 'і', 'ї', 'и', 'ဣ', 'ိ', 'ီ', 'ည်', 'ǐ', 'ი', 'इ', 'ی', 'ｉ'],\n    j: ['ĵ', 'ј', 'Ј', 'ჯ', 'ج', 'ｊ'],\n    k: ['ķ', 'ĸ', 'к', 'κ', 'Ķ', 'ق', 'ك', 'က', 'კ', 'ქ', 'ک', 'ｋ'],\n    l: ['ł', 'ľ', 'ĺ', 'ļ', 'ŀ', 'л', 'λ', 'ل', 'လ', 'ლ', 'ｌ'],\n    m: ['м', 'μ', 'م', 'မ', 'მ', 'ｍ'],\n    n: ['ñ', 'ń', 'ň', 'ņ', 'ŉ', 'ŋ', 'ν', 'н', 'ن', 'န', 'ნ', 'ｎ'],\n    o: ['ó', 'ò', 'ỏ', 'õ', 'ọ', 'ô', 'ố', 'ồ', 'ổ', 'ỗ', 'ộ', 'ơ', 'ớ', 'ờ', 'ở', 'ỡ', 'ợ', 'ø', 'ō', 'ő', 'ŏ', 'ο', 'ὀ', 'ὁ', 'ὂ', 'ὃ', 'ὄ', 'ὅ', 'ὸ', 'ό', 'о', 'و', 'θ', 'ို', 'ǒ', 'ǿ', 'º', 'ო', 'ओ', 'ｏ', 'ö'],\n    p: ['п', 'π', 'ပ', 'პ', 'پ', 'ｐ'],\n    q: ['ყ', 'ｑ'],\n    r: ['ŕ', 'ř', 'ŗ', 'р', 'ρ', 'ر', 'რ', 'ｒ'],\n    s: ['ś', 'š', 'ş', 'с', 'σ', 'ș', 'ς', 'س', 'ص', 'စ', 'ſ', 'ს', 'ｓ'],\n    t: ['ť', 'ţ', 'т', 'τ', 'ț', 'ت', 'ط', 'ဋ', 'တ', 'ŧ', 'თ', 'ტ', 'ｔ'],\n    u: ['ú', 'ù', 'ủ', 'ũ', 'ụ', 'ư', 'ứ', 'ừ', 'ử', 'ữ', 'ự', 'û', 'ū', 'ů', 'ű', 'ŭ', 'ų', 'µ', 'у', 'ဉ', 'ု', 'ူ', 'ǔ', 'ǖ', 'ǘ', 'ǚ', 'ǜ', 'უ', 'उ', 'ｕ', 'ў', 'ü'],\n    v: ['в', 'ვ', 'ϐ', 'ｖ'],\n    w: ['ŵ', 'ω', 'ώ', 'ဝ', 'ွ', 'ｗ'],\n    x: ['χ', 'ξ', 'ｘ'],\n    y: ['ý', 'ỳ', 'ỷ', 'ỹ', 'ỵ', 'ÿ', 'ŷ', 'й', 'ы', 'υ', 'ϋ', 'ύ', 'ΰ', 'ي', 'ယ', 'ｙ'],\n    z: ['ź', 'ž', 'ż', 'з', 'ζ', 'ز', 'ဇ', 'ზ', 'ｚ'],\n    aa: ['ع', 'आ', 'آ'],\n    ae: ['æ', 'ǽ'],\n    ai: ['ऐ'],\n    ch: ['ч', 'ჩ', 'ჭ', 'چ'],\n    dj: ['ђ', 'đ'],\n    dz: ['џ', 'ძ'],\n    ei: ['ऍ'],\n    gh: ['غ', 'ღ'],\n    ii: ['ई'],\n    ij: ['ĳ'],\n    kh: ['х', 'خ', 'ხ'],\n    lj: ['љ'],\n    nj: ['њ'],\n    oe: ['ö', 'œ', 'ؤ'],\n    oi: ['ऑ'],\n    oii: ['ऒ'],\n    ps: ['ψ'],\n    sh: ['ш', 'შ', 'ش'],\n    shch: ['щ'],\n    ss: ['ß'],\n    sx: ['ŝ'],\n    th: ['þ', 'ϑ', 'ث', 'ذ', 'ظ'],\n    ts: ['ц', 'ც', 'წ'],\n    ue: ['ü'],\n    uu: ['ऊ'],\n    ya: ['я'],\n    yu: ['ю'],\n    zh: ['ж', 'ჟ', 'ژ'],\n    '(c)': ['©'],\n    A: ['Á', 'À', 'Ả', 'Ã', 'Ạ', 'Ă', 'Ắ', 'Ằ', 'Ẳ', 'Ẵ', 'Ặ', 'Â', 'Ấ', 'Ầ', 'Ẩ', 'Ẫ', 'Ậ', 'Å', 'Ā', 'Ą', 'Α', 'Ά', 'Ἀ', 'Ἁ', 'Ἂ', 'Ἃ', 'Ἄ', 'Ἅ', 'Ἆ', 'Ἇ', 'ᾈ', 'ᾉ', 'ᾊ', 'ᾋ', 'ᾌ', 'ᾍ', 'ᾎ', 'ᾏ', 'Ᾰ', 'Ᾱ', 'Ὰ', 'Ά', 'ᾼ', 'А', 'Ǻ', 'Ǎ', 'Ａ', 'Ä'],\n    B: ['Б', 'Β', 'ब', 'Ｂ'],\n    C: ['Ç', 'Ć', 'Č', 'Ĉ', 'Ċ', 'Ｃ'],\n    D: ['Ď', 'Ð', 'Đ', 'Ɖ', 'Ɗ', 'Ƌ', 'ᴅ', 'ᴆ', 'Д', 'Δ', 'Ｄ'],\n    E: ['É', 'È', 'Ẻ', 'Ẽ', 'Ẹ', 'Ê', 'Ế', 'Ề', 'Ể', 'Ễ', 'Ệ', 'Ë', 'Ē', 'Ę', 'Ě', 'Ĕ', 'Ė', 'Ε', 'Έ', 'Ἐ', 'Ἑ', 'Ἒ', 'Ἓ', 'Ἔ', 'Ἕ', 'Έ', 'Ὲ', 'Е', 'Ё', 'Э', 'Є', 'Ə', 'Ｅ'],\n    F: ['Ф', 'Φ', 'Ｆ'],\n    G: ['Ğ', 'Ġ', 'Ģ', 'Г', 'Ґ', 'Γ', 'Ｇ'],\n    H: ['Η', 'Ή', 'Ħ', 'Ｈ'],\n    I: ['Í', 'Ì', 'Ỉ', 'Ĩ', 'Ị', 'Î', 'Ï', 'Ī', 'Ĭ', 'Į', 'İ', 'Ι', 'Ί', 'Ϊ', 'Ἰ', 'Ἱ', 'Ἳ', 'Ἴ', 'Ἵ', 'Ἶ', 'Ἷ', 'Ῐ', 'Ῑ', 'Ὶ', 'Ί', 'И', 'І', 'Ї', 'Ǐ', 'ϒ', 'Ｉ'],\n    J: ['Ｊ'],\n    K: ['К', 'Κ', 'Ｋ'],\n    L: ['Ĺ', 'Ł', 'Л', 'Λ', 'Ļ', 'Ľ', 'Ŀ', 'ल', 'Ｌ'],\n    M: ['М', 'Μ', 'Ｍ'],\n    N: ['Ń', 'Ñ', 'Ň', 'Ņ', 'Ŋ', 'Н', 'Ν', 'Ｎ'],\n    O: ['Ó', 'Ò', 'Ỏ', 'Õ', 'Ọ', 'Ô', 'Ố', 'Ồ', 'Ổ', 'Ỗ', 'Ộ', 'Ơ', 'Ớ', 'Ờ', 'Ở', 'Ỡ', 'Ợ', 'Ø', 'Ō', 'Ő', 'Ŏ', 'Ο', 'Ό', 'Ὀ', 'Ὁ', 'Ὂ', 'Ὃ', 'Ὄ', 'Ὅ', 'Ὸ', 'Ό', 'О', 'Θ', 'Ө', 'Ǒ', 'Ǿ', 'Ｏ', 'Ö'],\n    P: ['П', 'Π', 'Ｐ'],\n    Q: ['Ｑ'],\n    R: ['Ř', 'Ŕ', 'Р', 'Ρ', 'Ŗ', 'Ｒ'],\n    S: ['Ş', 'Ŝ', 'Ș', 'Š', 'Ś', 'С', 'Σ', 'Ｓ'],\n    T: ['Ť', 'Ţ', 'Ŧ', 'Ț', 'Т', 'Τ', 'Ｔ'],\n    U: ['Ú', 'Ù', 'Ủ', 'Ũ', 'Ụ', 'Ư', 'Ứ', 'Ừ', 'Ử', 'Ữ', 'Ự', 'Û', 'Ū', 'Ů', 'Ű', 'Ŭ', 'Ų', 'У', 'Ǔ', 'Ǖ', 'Ǘ', 'Ǚ', 'Ǜ', 'Ｕ', 'Ў', 'Ü'],\n    V: ['В', 'Ｖ'],\n    W: ['Ω', 'Ώ', 'Ŵ', 'Ｗ'],\n    X: ['Χ', 'Ξ', 'Ｘ'],\n    Y: ['Ý', 'Ỳ', 'Ỷ', 'Ỹ', 'Ỵ', 'Ÿ', 'Ῠ', 'Ῡ', 'Ὺ', 'Ύ', 'Ы', 'Й', 'Υ', 'Ϋ', 'Ŷ', 'Ｙ'],\n    Z: ['Ź', 'Ž', 'Ż', 'З', 'Ζ', 'Ｚ'],\n    AE: ['Æ', 'Ǽ'],\n    Ch: ['Ч'],\n    Dj: ['Ђ'],\n    Dz: ['Џ'],\n    Gx: ['Ĝ'],\n    Hx: ['Ĥ'],\n    Ij: ['Ĳ'],\n    Jx: ['Ĵ'],\n    Kh: ['Х'],\n    Lj: ['Љ'],\n    Nj: ['Њ'],\n    Oe: ['Œ'],\n    Ps: ['Ψ'],\n    Sh: ['Ш'],\n    Shch: ['Щ'],\n    Ss: ['ẞ'],\n    Th: ['Þ'],\n    Ts: ['Ц'],\n    Ya: ['Я'],\n    Yu: ['Ю'],\n    Zh: ['Ж'],\n    '-': [' '],\n};\n","import { normalizeSwaps } from '../data/normalizeSwaps';\n\n/**\n *\n * @param input {string} String to be normalized\n * @returns {string}\n */\nconst normalizeString = (input = '') => {\n    let str = String(input);\n    str = str.replace(/^\\s+|\\s+$/g, ''); // trim\n    str = str.toLowerCase();\n\n    // remove accents, swap ñ for n, etc\n    Object.keys(normalizeSwaps).forEach((swap) => {\n        normalizeSwaps[swap].forEach((s) => {\n            str = str.replace(new RegExp(s, 'g'), swap);\n        });\n    });\n    return str;\n}\n\nexport default normalizeString","import { useEffect, useState } from 'react';\nimport { createBrowserHistory } from 'history';\n\nconst history = createBrowserHistory();\n\nexport function parseQuery(url = window.location.search) {\n    const urlParams = new URLSearchParams(url);\n    return Array.from(urlParams.keys()).reduce((acc, key) => {\n        if (key !== '__proto__') {\n            acc[key] = urlParams.has(key) ? JSON.parse(urlParams.get(key)) : null;\n        }\n        return acc;\n    }, {});\n}\n\nexport function urlParse(url = '') {\n    const protocol = url.split('://')[0];\n    const host = url.split('://')[1].split('/')[0];\n    const splitUrl = url.split('/');\n    const tail = splitUrl[splitUrl.length - 1];\n    return {\n        protocol,\n        host,\n        tail,\n    };\n}\n\nexport function urlTail(url = '') {\n    const { tail } = urlParse(url);\n    return tail;\n}\n\n/**\n * @description Sets a new query param into the url or updates an existing one.\n * @param {string} id - Query key id to be set or updated\n * @param {any} value - Query value to be assigned\n */\nexport function addQueryParam({ id, value }) {\n    try {\n        const urlParams = new URLSearchParams(window.location.search);\n        const parsedValue = JSON.stringify(value);\n        urlParams.set(id, parsedValue);\n        history.push({\n            search: urlParams.toString(),\n            pathname: history.location.pathname,\n        });\n    } catch (error) {\n        console.error(error.stack);\n    }\n}\n\n/**\n * @description Sets a new query param into the url or updates an existing one.\n * @param {array} data - Query key id to be set or updated.\n * @param {array} keysToDelete - An array of keys to delete.\n */\nexport function addQueryParams(data = [], keysToDelete = []) {\n    try {\n        const urlParams = new URLSearchParams(window.location.search);\n        keysToDelete.forEach(key => urlParams.delete(key));\n        console.log(keysToDelete);\n        data.forEach(({ key, value }) => {\n            const parsedValue = JSON.stringify(value);\n            console.log(`Adding key ${key} with value ${parsedValue}`);\n            urlParams.set(key, parsedValue);\n        });\n        const newQuery = urlParams.toString();\n        if (newQuery !== window.location.search) {\n            history.push({\n                search: urlParams.toString(),\n                pathname: history.location.pathname,\n            });\n        }\n    } catch (error) {\n        console.error(error.stack);\n    }\n}\n\nexport function getQueryParam(key) {\n    const { [key]: value } = parseQuery();\n    return value;\n}\n\nexport function decodeRedirectQuery(query = '') {\n    const urlParams = new URLSearchParams(query);\n    const encodedQuery = urlParams.toString();\n    const decodedQuery = encodedQuery\n        .split('%3F')\n        .join('?')\n        .split('%3D')\n        .join('=')\n        .split('%26')\n        .join('&');\n    return decodedQuery;\n}\n\n/**\n * @description A hook to manage filters that load data from url query\n * @param {object} defaultValue - The object with the properties\n */\nexport function useFiltersFromQuery(defaultValue) {\n    const [data, setData] = useState(defaultValue);\n    useEffect(() => {\n        const keys = Object.keys(defaultValue);\n        const accumulatedQuery = {};\n        keys.forEach((key) => {\n            const value = getQueryParam(key);\n            if (value !== undefined) {\n                accumulatedQuery[key] = value;\n            }\n        });\n        setData({\n            ...data,\n            ...accumulatedQuery,\n        });\n    }, []);\n    useEffect(() => {\n        const keysData = Object.keys(data).map(key => ({ key, value: data[key] }));\n        const keysToDelete = [];\n        const filteredData = keysData.filter(({ key, value }) => {\n            const currentValue = getQueryParam(key);\n            const isNewValue = currentValue !== value;\n            const isDefaultValue = value === defaultValue[key];\n            const isValidValue = value !== null && value !== undefined;\n            if (isDefaultValue || !isValidValue) {\n                keysToDelete.push(key);\n            }\n            return isNewValue && !isDefaultValue && isValidValue;\n        });\n        const totalKeys = filteredData.length + keysToDelete.length;\n        if (totalKeys >= 1) {\n            addQueryParams(filteredData, keysToDelete);\n        }\n    }, [JSON.stringify(data)]);\n    return [data, setData];\n}\n\n\nexport function queryMatch(key, value) {\n    return getQueryParam(key) === value;\n}\n\nexport function getEncodedUri(rawUri) {\n    return encodeURI(rawUri);\n}\n","import React, { useEffect, useState, useContext } from 'react'\nimport { Link, useHistory } from 'react-router-dom'\nimport usePoems from '../react-query/usePoems'\nimport useDeletePoem from '../react-query/useDeletePoem'\nimport useLikePoem from '../react-query/useLikePoem'\nimport { AppContext } from '../App'\nimport './List.scss'\nimport './Detail.scss'\nimport '../App.scss'\nimport { TextField } from '@material-ui/core'\nimport SearchIcon from '@material-ui/icons/Search'\nimport HighlightOffSharpIcon from '@material-ui/icons/HighlightOffSharp'\nimport EditIcon from '@material-ui/icons/Edit'\nimport SubjectSharpIcon from '@material-ui/icons/SubjectSharp'\nimport CircularProgress from './CircularIndeterminate'\nimport capitalizeFirstLetter from '../utils/capitalizeFirstLetter'\nimport sortPoems from '../utils/sortPoems'\nimport { Helmet } from 'react-helmet'\nimport {\n  LIKE,\n  LIKES,\n  READ_MORE,\n  SEARCH_PLACEHOLDER,\n  ORDER_BY,\n  ORDER_BY_DATE,\n  ORDER_BY_LIKES,\n  ORDER_BY_RANDOM,\n  ORDER_BY_TITLE,\n  CATEGORIES_TITLE_LABEL\n} from '../data/constants'\nimport normalizeString from '../utils/normalizeString'\nimport { addQueryParam, useFiltersFromQuery } from '../utils/urlUtils.js'\n\nfunction List (props) {\n  const genre = props.match.params.genre\n  const [poems, setPoems] = useState([])\n  const [filter, setFilter] = useState('')\n\n  const history = useHistory()\n  const context = useContext(AppContext)\n  const poemsQuery = usePoems()\n\n  console.log(poemsQuery)\n\n  const [paramsData, setParamsData] = useFiltersFromQuery({\n    orderBy: null\n  })\n\n  useEffect(() => {\n    if (poemsQuery.data) {\n      const newData = [...poemsQuery.data]\n\n      if (genre) {\n        const poemsFiltered = newData.filter((poems) => poems.genre === genre)\n        const poemsSorted = sortPoems(paramsData.orderBy, poemsFiltered)\n        setPoems(poemsSorted)\n      } else {\n        const poemsSorted = sortPoems(paramsData.orderBy, newData)\n        setPoems(poemsSorted)\n      }\n    }\n  }, [JSON.stringify([poemsQuery.data, genre, paramsData])])\n\n  const handleOrderChange = (event) => {\n    addQueryParam({ id: 'orderBy', value: event.target.value })\n    setParamsData({ orderBy: event.target.value })\n  }\n\n  const deletePoemMutation = useDeletePoem()\n  const likePoemMutation = useLikePoem()\n\n  const onLike = (event, poemId) => {\n    event.preventDefault()\n    likePoemMutation.mutate(poemId)\n  }\n\n  const editPoem = (poemId) => {\n    const newPath = '/profile'\n    history.push(newPath)\n    context.setState({ elementToEdit: poemId })\n  }\n\n  const handleSearchChange = (event) => {\n    setFilter(normalizeString(event.target.value))\n  }\n\n  if (poemsQuery.isLoading) {\n    return <CircularProgress />\n  }\n\n  console.log(poemsQuery)\n\n  return (\n    <>\n      <Helmet>\n        <title>\n          {genre ? `${capitalizeFirstLetter(genre)} poems` : 'Poemunity'}\n        </title>\n      </Helmet>\n      <div className='list__container'>\n        <div className='list__intro'>\n          {genre && (\n            <p className='list__presentation'>\n              {CATEGORIES_TITLE_LABEL}\n              {genre.toUpperCase()}\n            </p>\n          )}\n          <div className='list__search'>\n            <div className='separator' />\n            <SearchIcon style={{ fontSize: 40, fill: '#4F5D73' }} />\n            <TextField\n              label={SEARCH_PLACEHOLDER}\n              InputLabelProps={{\n                style: { color: '#4F5D73' }\n              }}\n              InputProps={{\n                style: { color: '#4F5D73' }\n              }}\n              onChange={handleSearchChange}\n            />\n          </div>\n          <form className='list__sort'>\n            <label>\n              {ORDER_BY}\n              <select\n                type='submit'\n                id='sort'\n                name='sort'\n                onChange={handleOrderChange}\n              >\n                <option value={ORDER_BY_LIKES} selected={ORDER_BY_LIKES === paramsData.orderBy}>{ORDER_BY_LIKES}</option>\n                <option value={ORDER_BY_DATE} selected={ORDER_BY_DATE === paramsData.orderBy}>{ORDER_BY_DATE}</option>\n                <option value={ORDER_BY_RANDOM} selected={ORDER_BY_RANDOM === paramsData.orderBy}>{ORDER_BY_RANDOM}</option>\n                <option value={ORDER_BY_TITLE} selected={ORDER_BY_TITLE === paramsData.orderBy}>{ORDER_BY_TITLE}</option>\n              </select>\n            </label>\n          </form>\n        </div>\n\n        {poems?.map((poem) => (\n          <main key={poem.id} className='poem__detail'>\n            {normalizeString(poem.author).includes(filter) && (\n              <section className='poem__block'>\n                <section>\n                  <Link to={`/detail/${poem.id}`} className='poem__title'>\n                    {poem.title}\n                  </Link>\n                  <div className='poem__author-container'>\n                    <img className='poem__picture' src={poem.picture} />\n                    <p className='poem__author'>{poem.author}</p>\n                  </div>\n                  <div className='poem__date'>{poem.date}</div>\n                </section>\n                <section>\n                  <div className='poem__content poems__content'>\n                    {poem.poem}\n                  </div>\n                  <div className='poems__read-more'>\n                    <Link\n                      to={`/detail/${poem.id}`}\n                      className='poems__read-more'\n                    >\n                      {READ_MORE}\n                    </Link>\n                  </div>\n                </section>\n                <section className='poem__footer'>\n                  {poem.likes?.length === 1 && (\n                    <div className='poem__likes'>\n                      {poem.likes?.length} {LIKE}\n                    </div>\n                  )}\n                  {poem.likes?.length !== 1 && (\n                    <div className='poem__likes'>\n                      {poem.likes?.length} {LIKES}\n                    </div>\n                  )}\n                  <div className='separator' />\n                  {context.user &&\n                    poem.author !== context.username &&\n                    poem.likes.some((id) => id === context.username) && (\n                      <Link\n                        className='poem__likes-icon'\n                        onClick={(event) => onLike(event, poem.id)}\n                      />\n                  )}\n                  {context.user &&\n                    poem.author !== context.username &&\n                    !poem.likes.some((id) => id === context.username) && (\n                      <Link\n                        className='poem__unlikes-icon'\n                        onClick={(event) => onLike(event, poem.id)}\n                      />\n                  )}\n                  {context.user &&\n                    (poem.author === context.username ||\n                      context.userId === context.adminId) && (\n                        <EditIcon\n                          className='poem__edit-icon'\n                          onClick={(event) => editPoem(poem.id)}\n                        />\n                  )}\n                  {context.user &&\n                    (poem.author === context.username ||\n                      context.userId === context.adminId) && (\n                        <HighlightOffSharpIcon\n                          className='poem__delete-icon'\n                          style={{ fill: 'red' }}\n                          onClick={(event) => deletePoemMutation.mutate(poem.id)}\n                        />\n                  )}\n                  <Link\n                    to={`/detail/${poem.id}`}\n                    className='poem__comments-icon'\n                  >\n                    <SubjectSharpIcon style={{ fill: '#000' }} />\n                  </Link>\n                </section>\n              </section>\n            )}\n          </main>\n        ))}\n      </div>\n    </>\n  )\n}\nexport default List\n","import React from 'react'\nimport './List.scss'\nimport './Detail.scss'\nimport '../App.scss'\nimport './Dashboard.scss'\nimport Accordion from './SimpleAccordion'\nimport Ranking from './Ranking'\nimport List from './List'\n\nfunction Dashboard (props) {\n  return (\n    <main className='dashboard'>\n      <div className='dashboard__accordion'>\n        <Accordion />\n      </div>\n      <div className='dashboard__list'>\n        <List {...props} />\n      </div>\n      <div className='dashboard__ranking'>\n        {/* <Ranking /> */}\n      </div>\n    </main>\n  )\n}\nexport default Dashboard\n","import axios from 'axios'\nimport { useQuery, useQueryClient } from 'react-query';\n\nexport default function usePoem(id) {\n const queryClient = useQueryClient()\n  return useQuery(\n    ['poems', id],\n    () => axios.get(`/api/poems/${id}`).then((res) => res.data),\n    {\n      initialData: () => { \n        return queryClient.getQueryData('poems')?.find(d => d.id === id)\n      },\n      initialStale: true,\n      onError: (error) => {\n          console.error(error);\n      }\n    }\n  )\n}\n","import React, { useEffect, useState, useContext } from 'react'\nimport { AppContext } from '../App';\nimport { Link } from 'react-router-dom'\nimport './Detail.scss'\nimport '../App.scss'\nimport HighlightOffSharpIcon from '@material-ui/icons/HighlightOffSharp'\nimport EditIcon from '@material-ui/icons/Edit';\nimport SubjectSharpIcon from '@material-ui/icons/SubjectSharp'\nimport Disqus from 'disqus-react'\nimport CircularProgress from './CircularIndeterminate'\nimport './PageNotFound.scss'\nimport { Helmet } from 'react-helmet'\nimport { LIKE, LIKES } from '../data/constants'\nimport usePoem from '../react-query/usePoem'\nimport useDeletePoem from '../react-query/useDeletePoem'\nimport useLikePoem from '../react-query/useLikePoem'\nimport { useHistory } from \"react-router-dom\";\nimport { Poem } from '../typescript/interfaces'\nimport { FormElement } from '../typescript/types'\n\nfunction Detail (props: any): JSX.Element {\n  const [poem, setPoem] = useState<Poem>({\n    id: '',\n    title: '',\n    picture: '',\n    author: '',\n    date: '',\n    poem: '',\n    likes: [],\n  })\n\n  const context = useContext(AppContext);\n\n  const poemQuery = usePoem(props.match.params.poemId)\n\n  useEffect(()=> {\n    if(poemQuery.data) {\n      setPoem(poemQuery.data)\n    }\n  }, [JSON.stringify(poemQuery.data)])\n\n  const deletePoemMutation: {mutate: Function} = useDeletePoem()\n  const likePoemMutation: {mutate: Function} = useLikePoem()\n\n  function onLike (event: any, poemId: string) {\n    event.preventDefault()\n    likePoemMutation.mutate(poemId)\n  }\n  \n  const history = useHistory();\n\n  const editPoem = (poemId: string) => {\n    const newPath = '/profile'\n    history.push(newPath);\n    context.setState({elementToEdit: poemId})\n  }\n\n  if (poemQuery.isLoading) {\n    return <CircularProgress />\n  }\n\n  const disqusShortname = 'poemunity'\n  const disqusConfig = {\n    url: `http://localhost:3000/detail/${props.match.params.poemId}`,\n    identifier: `http://localhost:3000/detail/${props.match.params.poemId}`,\n    title: 'Title of Your Article'\n  }\n\n  return (\n    <>\n      {!poem && (\n        <main className='page-not-found__container'>\n          <section className='page-not-found__message'>\n            <h1 className='page-not-found__title'>Error - 404</h1>\n            <p className='page-not-found__text'>Nothing to see here</p>\n            <Link className='page-not-found__link' to='/'>\n              Back to Dashboard\n            </Link>\n          </section>\n        </main>\n      )}\n      {poem && poem.likes && (\n        <main className='poem__detail'>\n          <Helmet>\n            <title>{`Poem: ${poem.title}`}</title>\n          </Helmet>\n          <section className='poem__block'>\n            <section>\n              <h2 className='poem__title'>{poem.title}</h2>\n              <div className='poem__author-container'>\n                <img className='poem__picture' src={poem.picture} />\n                <p className='poem__author'>{poem.author}</p>\n              </div>\n              <div className='poem__date'>{poem.date}</div>\n            </section>\n            <section>\n              <div className='poem__content'>{poem.poem}</div>\n            </section>\n            <br />\n            <section className='poem__footer'>\n              {poem.likes.length === 1 && (\n                <div className='poem__likes'>\n                  {poem.likes.length} {LIKE}\n                </div>\n              )}\n              {poem.likes.length !== 1 && (\n                <div className='poem__likes'>\n                  {poem.likes.length} {LIKES}\n                </div>\n              )}\n              <div className='separator' />\n              {context.user &&\n                poem.author !== context.username &&\n                poem.likes.some((id) => id === context.username) && (\n                  <div\n                    className='poem__likes-icon'\n                    onClick = {(event) => onLike(event, poem.id)}>\n                  </div>\n              )}\n              {context.user &&\n                poem.author !== context.username &&\n                !poem.likes.some((id) => id === context.username) && (\n                  <div\n                    className='poem__unlikes-icon'\n                    onClick={(event) => onLike(event, poem.id)}>\n                  </div>\n              )}\n              {context.user &&\n                (poem.author === context.username ||\n                  context.userId === context.adminId) && (\n                    <EditIcon\n                    className='poem__edit-icon'\n                    onClick={(event) => editPoem(poem.id)}\n                    />\n              )}\n              {context.user &&\n                (poem.author === context.username || context.userId === context.adminId) && (\n                  <HighlightOffSharpIcon\n                    className='poem__delete-icon'\n                    style={{ fill: 'red' }}\n                    onClick={(event) => deletePoemMutation.mutate(poem.id)}\n                  />\n              )}\n              <Link to={`/detail/${poem.id}`} className='poem__comments-icon'>\n                <SubjectSharpIcon style={{ fill: '#000' }} />\n              </Link>\n            </section>\n          </section>\n          <div className='article-container'>\n            <Disqus.DiscussionEmbed\n              shortname={disqusShortname}\n              config={disqusConfig}\n            />\n          </div>\n        </main>\n      )}\n    </>\n  )\n}\n\nexport default Detail\n","import React from 'react'\nimport { useHistory } from 'react-router'\nimport './Header.scss'\n\n\nconst LoginButton = () => {\n  const history = useHistory()\n  return <button className='header__login' onClick={() => history.push('/login')} /> \n}\n\nexport default LoginButton\n","import React from 'react'\nimport { useHistory } from 'react-router'\nimport './Header.scss'\n\nconst Logout = () => {\n  const history = useHistory()\n \n  const handleLogout = (event) => {\n    event.preventDefault()\n    window.localStorage.removeItem('loggedUser')\n    history.push('/')\n  }\n\n  return (\n    <button className='header__logout' onClick={handleLogout} />\n  )\n}\n\nexport default Logout\n","const parseJwt = (token) => {\n    if(token) {\n        var base64Url = token.split('.')[1];\n        var base64 = base64Url.replace(/-/g, '+').replace(/_/g, '/');\n        var jsonPayload = decodeURIComponent(atob(base64).split('').map(function(c) {\n            return '%' + ('00' + c.charCodeAt(0).toString(16)).slice(-2);\n        }).join(''));\n    \n        return JSON.parse(jsonPayload);\n    }\n}\n\nexport default parseJwt","import React, { useState, useEffect, useContext } from 'react'\nimport { Link } from 'react-router-dom'\nimport './Header.scss'\nimport '../App.scss'\nimport Accordion from './SimpleAccordion'\nimport CircularProgress from './CircularIndeterminate'\nimport LoginButton from './LoginButton'\nimport LogoutButton from './Logout'\nimport {\n  WEB_SUBTITLE,\n} from '../data/constants'\nimport { AppContext } from '../App';\nimport {useLocation} from 'react-router-dom'\nimport parseJWT from '../utils/parseJWT'\n\nfunction Header () {\n  const context = useContext(AppContext);\n  const location = useLocation()\n\n  useEffect(()=>{\n    const loggedUserJSON = window.localStorage.getItem('loggedUser')\n    context.setState({ \n      user: JSON.parse(loggedUserJSON), \n      userId: parseJWT(JSON.parse(loggedUserJSON))?.id,\n      username: parseJWT(JSON.parse(loggedUserJSON))?.username,\n      config: {\n        headers: {\n          Authorization: `Bearer ${JSON.parse(loggedUserJSON)}`\n      }}})\n  }, [JSON.stringify(location)])\n  \n  // if (isLoading) {\n  //   return <CircularProgress />\n  // }\n  return (\n    <>\n      <section className='header'>\n        <div className='header__dropdown'>\n          <Accordion />\n        </div>\n        <div className='header__logo'>\n          <Link to='/' className='header__text-logo-first'>\n            P\n          </Link>\n          <Link to='/' className='header__logo-icon' />\n          <Link to='/' className='header__text-logo-second'>\n            emunity\n          </Link>\n        </div>\n        <p className='list__presentation'>{WEB_SUBTITLE}</p>\n        <div className='separator' />\n        {context.user ? (\n          <Link to='/profile' className='header__profile' />\n        ) : (\n          <></>\n        )}\n        {context.user ? <LogoutButton /> : <LoginButton />}\n      </section>\n    </>\n  )\n}\n\nexport default Header\n","import { Poem } from '../typescript/interfaces'\n\nconst getPoemsByUser = (poems: Poem[], username: string) => {\n    return poems.filter((poem) => poem?.author === username)\n}\n\nexport default getPoemsByUser","import React, { useEffect, useState, useContext } from 'react'\nimport { AppContext } from '../App';\nimport { Link } from 'react-router-dom'\nimport './List.scss'\nimport './Detail.scss'\nimport '../App.scss'\nimport { TextField } from '@material-ui/core'\nimport SearchIcon from '@material-ui/icons/Search'\nimport EditIcon from '@material-ui/icons/Edit';\nimport HighlightOffSharpIcon from '@material-ui/icons/HighlightOffSharp'\nimport SubjectSharpIcon from '@material-ui/icons/SubjectSharp'\nimport CircularProgress from './CircularIndeterminate'\nimport usePoems from '../react-query/usePoems'\nimport getPoemsByUser from '../utils/getPoemsByUser'\nimport useDeletePoem from '../react-query/useDeletePoem'\n\nfunction MyPoems (props) {\n  const [poems, setPoems] = useState([])\n  const [filter, setFilter] = useState('')\n\n  const context = useContext(AppContext);\n  const poemsQuery = usePoems()\n\n  useEffect(()=> {\n    if(poemsQuery.data) {\n      const poemsFiltered = getPoemsByUser(poemsQuery.data, context.username)\n      setPoems(poemsFiltered)\n    }\n  }, [JSON.stringify([poemsQuery.data, context.username])])\n\n  const editPoem = (poemId) => {\n    context.setState({elementToEdit: poemId})\n  }\n\n  const deletePoemMutation = useDeletePoem()\n\n  const LIKE = 'Like'\n  const LIKES = 'Likes'\n  const READ_MORE = 'Leer más'\n\n  const handleSearchChange = (event) => {\n    setFilter(event.target.value)\n  }\n\n  // if (isLoading) {\n  //   return <CircularProgress />\n  // }\n\n  return (\n    <>\n      <div className='search__container'>\n        <div className='separator' />\n        <div className='list__intro'>\n          <SearchIcon style={{ fontSize: 40, fill: '#551A8B' }} />\n          <TextField\n            label='Buscar autor'\n            InputLabelProps={{\n              style: { color: '#551A8B' }\n            }}\n            InputProps={{\n              style: { color: '#551A8B' }\n            }}\n            onChange={handleSearchChange}\n          />\n        </div>\n      </div>\n      {poems.map((poem) => (\n        <main key={poem.id} className='poem__detail'>\n          {poem.author?.includes(filter) && (\n            <section className='poem__block'>\n              <section>\n                <Link to={`/detail/${poem.id}`} className='poem__title'>\n                  {poem.title}\n                </Link>\n                <p className='poem__author'>{poem?.author}</p>\n                <div className='poem__date'>{poem.date}</div>\n              </section>\n              <section>\n                <div className='poem__content poems__content'>{poem.poem}</div>\n                <div className='poems__read-more'>\n                  <Link\n                    to={`/detail/${poem.id}`}\n                    className='poems__read-more'\n                  >\n                    {READ_MORE}\n                  </Link>\n                </div>\n              </section>\n              <section className='poem__footer'>\n                {poem.likes.length === 1 && (\n                  <div className='poem__likes'>\n                    {poem.likes.length} {LIKE}\n                  </div>\n                )}\n                {poem.likes.length !== 1 && (\n                  <div className='poem__likes'>\n                    {poem.likes.length} {LIKES}\n                  </div>\n                )}\n                <div className='separator' />\n                {context.user &&\n                  (poem.author === context.username ||\n                    context.userId === context.adminId) && (\n                      <EditIcon\n                      className='poem__edit-icon'\n                      onClick={(event) => editPoem(poem.id)}\n                      />\n                )}\n                {context.user && poem.author === context.username && (\n                  <HighlightOffSharpIcon\n                    className='poem__delete-icon'\n                    style={{ fill: 'red' }}\n                    onClick={(event) => deletePoemMutation.mutate(poem.id)}\n                  />\n                )}\n                <Link\n                  to={`/detail/${poem.id}`}\n                  className='poem__comments-icon'\n                >\n                  <SubjectSharpIcon style={{ fill: '#000' }} />\n                </Link>\n              </section>\n            </section>\n          )}\n        </main>\n      ))}\n    </>\n  )\n}\nexport default MyPoems\n","import { Poem } from '../typescript/interfaces'\n\nconst getFavouritePoemsByUser = (poems: Poem[], userId: string) => {\n    return poems.filter((poem) => poem.likes.some((element) => element === userId))\n}\n\nexport default getFavouritePoemsByUser","import React, { useEffect, useState, useContext } from 'react'\nimport { AppContext } from '../App';\nimport { Link } from 'react-router-dom'\nimport './List.scss'\nimport './Detail.scss'\nimport '../App.scss'\nimport { TextField } from '@material-ui/core'\nimport SearchIcon from '@material-ui/icons/Search'\nimport HighlightOffSharpIcon from '@material-ui/icons/HighlightOffSharp'\nimport SubjectSharpIcon from '@material-ui/icons/SubjectSharp'\nimport CircularProgress from './CircularIndeterminate'\nimport usePoems from '../react-query/usePoems'\nimport useDeletePoem from '../react-query/useDeletePoem'\nimport useLikePoem from '../react-query/useLikePoem'\nimport getFavouritePoemsByUser from '../utils/getFavouritePoemsByUser'\nimport parseJWT from '../utils/parseJWT'\n\nfunction MyFavouritePoems (props) {\n  const context = useContext(AppContext)\n\n  const [poems, setPoems] = useState([])\n  const [filter, setFilter] = useState('')\n\n  const poemsQuery = usePoems()\n  \n  useEffect(()=> {\n    if(poemsQuery.data) {\n      const poemsFiltered = getFavouritePoemsByUser(poemsQuery.data, context.userId)\n      setPoems(poemsFiltered)\n    }\n  }, [JSON.stringify([poemsQuery.data, context.username])])\n\n  const deletePoemMutation = useDeletePoem()\n  const likePoemMutation = useLikePoem()\n\n  function onLike (event, poemId) {\n    event.preventDefault()\n    likePoemMutation.mutate(poemId)\n  }\n\n  const LIKE = 'Like'\n  const LIKES = 'Likes'\n  const READ_MORE = 'Leer más'\n\n  const handleSearchChange = (event) => {\n    setFilter(event.target.value)\n  }\n\n  // if (isLoading) {\n  //   return <CircularProgress />\n  // }\n\n  return (\n    <>\n      <div className='search__container'>\n        <div className='separator' />\n        <div className='list__intro'>\n          <SearchIcon style={{ fontSize: 40, fill: '#551A8B' }} />\n          <TextField\n            label='Buscar autor'\n            InputLabelProps={{\n              style: { color: '#551A8B' }\n            }}\n            InputProps={{\n              style: { color: '#551A8B' }\n            }}\n            onChange={handleSearchChange}\n          />\n        </div>\n      </div>\n      {poems.map((poem) => (\n        <main key={poem.id} className='poem__detail'>\n          {poem.author.includes(filter) && (\n            <section className='poem__block'>\n              <section>\n                <Link to={`/detail/${poem.id}`} className='poem__title'>\n                  {poem.title}\n                </Link>\n                <div className='poem__author-container'>\n                  <img className='poem__picture' src={poem.picture} />\n                  <p className='poem__author'>{poem.author}</p>\n                </div>\n                <div className='poem__date'>{poem.date}</div>\n              </section>\n              <section>\n                <div className='poem__content poems__content'>{poem.poem}</div>\n                <div className='poems__read-more'>\n                  <Link\n                    to={`/detail/${poem.id}`}\n                    className='poems__read-more'\n                  >\n                    {READ_MORE}\n                  </Link>\n                </div>\n              </section>\n              <section className='poem__footer'>\n                {poem.likes.length === 1 && (\n                  <div className='poem__likes'>\n                    {poem.likes.length} {LIKE}\n                  </div>\n                )}\n                {poem.likes.length !== 1 && (\n                  <div className='poem__likes'>\n                    {poem.likes.length} {LIKES}\n                  </div>\n                )}\n                <div className='separator' />\n                {context.user &&\n                  poem.author !== context.username &&\n                  poem.likes.some((id) => id === context.username) && (\n                    <Link\n                      className='poem__likes-icon'\n                      onClick={(event) => onLike(event, poem.id)}\n                    />\n                )}\n                {context.user &&\n                  poem.author !== context.username &&\n                  !poem.likes.some((id) => id === context.username) && (\n                    <Link\n                      className='poem__unlikes-icon'\n                      onClick={(event) => onLike(event, poem.id)}\n                    />\n                )}\n                {context.user && poem.author === context.username && (\n                  <HighlightOffSharpIcon\n                    className='poem__delete-icon'\n                    style={{ fill: 'red' }}\n                    onClick={(event) => deletePoemMutation.mutate(poem.id)}\n                  />\n                )}\n                <Link\n                  to={`/detail/${poem.id}`}\n                  className='poem__comments-icon'\n                >\n                  <SubjectSharpIcon style={{ fill: '#000' }} />\n                </Link>\n              </section>\n            </section>\n          )}\n        </main>\n      ))}\n    </>\n  )\n}\nexport default MyFavouritePoems\n","import React, { useState, useEffect, useContext } from 'react'\nimport { AppContext } from '../App';\nimport PropTypes from 'prop-types'\nimport SwipeableViews from 'react-swipeable-views'\nimport { makeStyles, useTheme } from '@material-ui/core/styles'\nimport AppBar from '@material-ui/core/AppBar'\nimport Tabs from '@material-ui/core/Tabs'\nimport Tab from '@material-ui/core/Tab'\nimport Typography from '@material-ui/core/Typography'\nimport Box from '@material-ui/core/Box'\nimport './Profile.scss'\nimport '../App.scss'\nimport MyPoems from './MyPoems'\nimport MyFavouritePoems from './MyFavouritePoems'\nimport CircularProgress from './CircularIndeterminate'\nimport useCreatePoem from '../react-query/useCreatePoem'\nimport useSavePoem from '../react-query/useSavePoem'\nimport usePoem from '../react-query/usePoem'\nimport {\n  PROFILE_TITLE,\n  PROFILE_SUBTITLE,\n  PROFILE_POEMS,\n  PROFILE_FAVOURITE_POEMS,\n  CATEGORIES,\n  PROFILE_SELECT_CATEGORY_TITLE,\n  PROFILE_SELECT_CATEGORY,\n  PROFILE_SELECT_TITLE_AUTHOR,\n  PROFILE_SELECT_TITLE_TITLE,\n  PROFILE_SELECT_TITLE,\n  PROFILE_SELECT_LIKES,\n  PROFILE_POEM_PLACEHOLDER,\n  PROFILE_SEND_POEM,\n  PROFILE_RESET_POEM\n} from '../data/constants'\n\nfunction TabPanel (props) {\n  const { children, value, index, ...other } = props\n\n  return (\n    <div\n      role='tabpanel'\n      hidden={value !== index}\n      id={`full-width-tabpanel-${index}`}\n      aria-labelledby={`full-width-tab-${index}`}\n      {...other}\n    >\n      {value === index && (\n        <Box p={3}>\n          <Typography>{children}</Typography>\n        </Box>\n      )}\n    </div>\n  )\n}\n\nTabPanel.propTypes = {\n  children: PropTypes.node,\n  index: PropTypes.any.isRequired,\n  value: PropTypes.any.isRequired\n}\n\nfunction a11yProps (index) {\n  return {\n    id: `full-width-tab-${index}`,\n    'aria-controls': `full-width-tabpanel-${index}`\n  }\n}\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    backgroundColor: theme.palette.background.paper,\n    width: 500\n  }\n}))\n\nexport default function Profile (props) {\n  const theme = useTheme()\n  const [value, setValue] = React.useState(0)\n\n  const [poemContent, setPoemContent] = useState('')\n  const [poemFakeId, setPoemFakeId] = useState('')\n  const [poemTitle, setPoemTitle] = useState('')\n  const [poemCategory, setPoemCategory] = useState('')\n  const [poemLikes, setPoemLikes] = useState([])\n\n  // const [errorMessage, setErrorMessage] = useState(null)\n  const createPoemMutation = useCreatePoem()\n  const savePoemMutation = useSavePoem()\n\n  const context = useContext(AppContext);\n  const poemQuery = usePoem(context.elementToEdit)\n\n  useEffect(()=> {\n    setPoemTitle(context.elementToEdit ? poemQuery?.data?.title : '')\n    setPoemContent(context.elementToEdit ? poemQuery?.data?.poem : '')\n    setPoemFakeId(context.elementToEdit ? poemQuery?.data?.userId : '')\n    setPoemLikes(context.elementToEdit ? poemQuery?.data?.likes?.toString() : [])\n    setPoemCategory(context.elementToEdit ? poemQuery?.data?.genre : '')\n  }, [JSON.stringify([context.elementToEdit, poemQuery.data])])\n\n  const editPoem = (poemId) => {\n    context.setState({elementToEdit: poemId})\n  }\n\n  const handleChange = (event, newValue) => {\n    setValue(newValue)\n  }\n\n  const handleChangeIndex = (index) => {\n    setValue(index)\n  }\n\n  function onFieldChange (value, setValue) {\n    setValue(value)\n  }\n\n  const handleSend = (event) => {\n    event.preventDefault()\n    // event.target.reset()\n\n    const currentDatetime = new Date()\n    const formattedDate =\n      currentDatetime.getFullYear() +\n      '-' +\n      (currentDatetime.getMonth() + 1) +\n      '-' +\n      currentDatetime.getDate() +\n      ' ' +\n      currentDatetime.getHours() +\n      ':' +\n      currentDatetime.getMinutes() +\n      ':' +\n      currentDatetime.getSeconds()\n\n      if(!context.elementToEdit) {\n        if(context.userId === context.adminId) {\n          createPoemMutation.mutate({\n            userId: poemFakeId,\n            poem: poemContent,\n            title: poemTitle,\n            genre: poemCategory,\n            likes: poemLikes.length !== 0 ? [...poemLikes?.split(',')] : [],\n            date: formattedDate,\n          });  \n        } else {\n          createPoemMutation.mutate({\n            poem: poemContent,\n            title: poemTitle,\n            genre: poemCategory,\n            likes: [],\n            date: formattedDate,\n          });\n        }\n        setPoemContent('')\n        setPoemTitle('')\n        setPoemCategory('')\n      } else {\n        if(context.userId === context.adminId) {\n          savePoemMutation.mutate({poem: {\n            userId: poemFakeId,\n            poem: poemContent,\n            title: poemTitle,\n            genre: poemCategory,\n            likes: poemLikes.length !== 0 ? [...poemLikes?.split(',')] : [],\n            date: formattedDate,\n          }, poemId: poemQuery.data.id});  \n        } else {\n          savePoemMutation.mutate({poem: {\n            poem: poemContent,\n            title: poemTitle,\n            genre: poemCategory,\n            likes: [],\n            date: formattedDate,\n          }, poemId: poemQuery.data.id});\n        }\n        context.setState({elementToEdit: ''})\n      }\n  }\n\n  const handleReset = (event) => {\n    context.setState({elementToEdit: ''})\n  }\n\n  const handleLogout = (event) => {\n    event.preventDefault()\n    context.setState({ user: null })\n    \n    window.localStorage.removeItem('loggedUser')\n  }\n\n  return (\n    \n      <main className='profile__main'>\n        {\n          context.user ?\n          (\n          <div>\n          <section className='profile__title'>\n          <div>\n            {context.username}\n            {PROFILE_TITLE}\n          </div>\n        </section>\n        <section className='profile__intro'>\n          <img\n            className='profile__image'\n            // src={context.user?.picture}\n            alt={context.username}\n          />\n          <div className='profile__personal-data'>\n            <div className='profile__insert-poem'>\n              <p className='profile__insert-poem-title'>{PROFILE_SUBTITLE}</p>\n              <br />\n              <form\n                className='profile__insert-poem-form'\n              >\n                <div className='profile__insert-poem-inputs'>\n                  {\n                  context.userId === context.adminId && (\n                  <>\n                    <label className='profile__insert-poem-input'>\n                      {PROFILE_SELECT_TITLE_AUTHOR}\n                      <input\n                        className='profile__insert-poem-input'\n                        name='author'\n                        required\n                        value={poemFakeId}\n                        onChange={(event) =>\n                          onFieldChange(event.target.value, setPoemFakeId)}\n                      />\n                    </label>\n                    <label className='profile__insert-poem-input'>\n                    {PROFILE_SELECT_LIKES}\n                    <input\n                      className='profile__insert-poem-input'\n                      name='likes'\n                      value={poemLikes}\n                      onChange={(event) =>\n                        onFieldChange(event.target.value, setPoemLikes)}\n                    />\n                  </label>\n                </>\n                  )\n                  }\n                  <label className='profile__insert-poem-input'>\n                    {PROFILE_SELECT_TITLE_TITLE}\n                    <input\n                      className='profile__insert-poem-input'\n                      placeholder={PROFILE_SELECT_TITLE}\n                      name='title'\n                      required\n                      value={poemTitle}\n                      onChange={(event) =>\n                        onFieldChange(event.target.value, setPoemTitle)}\n                    />\n                  </label>\n                  <label className='profile__insert-poem-input'>\n                    {PROFILE_SELECT_CATEGORY_TITLE}\n                    <select\n                      className='profile__insert-poem-input'\n                      id='category'\n                      name='category'\n                      required\n                      onChange={(event) => {\n                        onFieldChange(event.target.value, setPoemCategory)\n                      }}\n                    >\n                      <option value=''>{PROFILE_SELECT_CATEGORY}</option>\n                      {CATEGORIES?.map((category) => (\n                        <option value={category.toLowerCase()} selected={poemQuery?.data?.genre === category.toLowerCase()}>\n                          {category}\n                        </option>\n                      ))}\n                    </select>\n                  </label>\n                </div>\n                <div>\n                  <textarea\n                    className='profile__text-area'\n                    id='poem'\n                    name='poem'\n                    required\n                    placeholder={PROFILE_POEM_PLACEHOLDER}\n                    value={poemContent}\n                    onChange={(event) =>\n                      onFieldChange(event.target.value, setPoemContent)}\n                  />\n                </div>\n\n                <button className='profile__send-poem' type='submit' onClick={handleReset}>\n                  {PROFILE_RESET_POEM}\n                </button>\n                <button className='profile__send-poem' type='submit' onClick={handleSend}>\n                  {PROFILE_SEND_POEM}\n                </button>\n              </form>\n            </div>\n          </div>\n        </section>\n        <section className='profile__outro'>\n          <div className='profile__tabs'>\n            <AppBar position='static' color='default'>\n              <Tabs\n                value={value}\n                onChange={handleChange}\n                indicatorColor='primary'\n                textColor='primary'\n                variant='fullWidth'\n                aria-label='full width tabs example'\n              >\n                <Tab label={PROFILE_POEMS} {...a11yProps(0)} />\n                <Tab label={PROFILE_FAVOURITE_POEMS} {...a11yProps(1)} />\n              </Tabs>\n            </AppBar>\n            <SwipeableViews\n              axis={theme.direction === 'rtl' ? 'x-reverse' : 'x'}\n              index={value}\n              onChangeIndex={handleChangeIndex}\n            >\n              <TabPanel\n                className='profile__myPoems'\n                value={value}\n                index={0}\n                dir={theme.direction}\n              >\n                <MyPoems />\n              </TabPanel>\n              <TabPanel\n                className='profile__myPoems'\n                value={value}\n                index={1}\n                dir={theme.direction}\n              >\n                <MyFavouritePoems />\n              </TabPanel>\n            </SwipeableViews>\n          </div>\n        </section>\n        </div>\n\n        ) : null\n        }\n        \n        \n      </main>\n    \n  )\n}\n","import axios from 'axios'\nimport { useMutation, useQueryClient } from 'react-query';\nimport { useContext } from 'react';\nimport { AppContext } from '../App';\n\nexport default function useCreatePoem() {\n const queryClient = useQueryClient()\n const context = useContext(AppContext);\n return useMutation(\n   (poem) => {\n     console.log(poem)\n      axios.post('/api/poems', poem, context.config).then((res) => res.data)},\n    {\n      onSuccess: () => {        \n        queryClient.invalidateQueries('poems')\n      },\n        onError: (error) => {\n            console.error(error);\n      }\n    }\n  )\n}\n","import axios from 'axios'\nimport { useMutation, useQueryClient } from 'react-query';\n\nexport default function useSavePoem() {\n const queryClient = useQueryClient()\n  return useMutation(\n    // arguments have to be a single variable or object in this case\n    ({poem, poemId}) => axios.patch(`/api/poems/${poemId}`, poem).then((res) => res.data),\n    {\n      onSuccess: () => {        \n        queryClient.invalidateQueries('poems')\n      },\n        onError: (error) => {\n            console.error(error);\n      }\n    }\n  )\n}\n","import React, {useState} from 'react'\nimport './Login.scss'\nimport { useHistory } from 'react-router'\nimport { NavLink } from 'react-router-dom'\nimport useLogin from '../react-query/useLogin'\nimport { FormElement } from '../typescript/types'\n\nconst Login = (): JSX.Element => {\n  const history = useHistory()\n  \n  const [username, setUsername] = useState('')\n  const [password, setPassword] = useState('')\n\n  const loginQuery: {mutate: Function} = useLogin()\n\n  const handleLogin = (event: any) => {\n    event.preventDefault()\n    loginQuery.mutate({username, password})\n    \n    setUsername('')\n    setPassword('')\n  }\n\n  return (\n    <form className='login' onSubmit={handleLogin}>\n        <label>Introduce your login credentials or click \"Register\" if you don't have them</label>\n          <div className='login__username'>\n            <input\n              type='text'\n              value={username}\n              name='Username'\n              placeholder='Username'\n              onChange={\n                (event) => setUsername(event.target.value)}\n            />\n          </div>\n          <div className='login__password'>\n            <input\n              type='password'\n              value={password}\n              name='Password'\n              placeholder='Password'\n              onChange={\n                ( event ) => setPassword(event.target.value)}\n            />\n          </div>\n          <button>\n            Login\n          </button>\n          <NavLink to='/register'>Register</NavLink>\n          {/* <Notification message={errorMessage}/> */}\n          \n        </form>\n  )\n}\n\nexport default Login\n","import axios from 'axios'\nimport { useMutation, useQueryClient } from 'react-query';\nimport { useHistory } from 'react-router';\n\nexport default function useLogin() {\n const queryClient = useQueryClient()\n const baseUrl = '/api/login'\n const history = useHistory()\n  return useMutation(\n    (credentials) => {\n      return axios.post(baseUrl, credentials).then((res) => res.data)},\n    {\n      onSuccess: (data) => {\n        // queryClient.invalidateQueries('login')\n        window.localStorage.setItem(\n          'loggedUser', JSON.stringify(data)\n        )\n        history.push('profile')\n      },\n      onError: (error) => {\n        // setErrorMessage('Wrong credentials')\n        console.log('something went wrong')\n        // setTimeout(()=> {\n        //   setErrorMessage(null)\n        // }, 3000)\n      }\n    }\n  )\n}","import React, { useState } from 'react'\nimport useRegister from '../react-query/useRegister'\nimport { NavLink } from 'react-router-dom'\nimport './Register.scss'\n\nconst Register = () => {\n  const [username, setUsername] = useState('')\n  const [email, setEmail] = useState('')\n  const [password, setPassword] = useState('')\n  \n  const registerMutation = useRegister()\n\n  const handleRegister = (event) => {\n    event.preventDefault()\n\n    registerMutation.mutate({username, email, password})\n    \n    // setUsername('')\n    // setEmail('')\n    // setPassword('')\n  }\n\n\n  return (\n    <form className='register' onSubmit={handleRegister}>\n        <label>Introduce your new credentials or click \"Login\" if you already have them</label>\n          <div className='register__username'>\n            <input\n              type='text'\n              value={username}\n              name='Username'\n              placeholder='Username'\n              onChange={\n                ({ target }) => setUsername(target.value)}\n            />\n          </div>\n          <div className='register__email'>\n            <input\n              type='text'\n              value={email}\n              name='Email'\n              placeholder='Email'\n              onChange={\n                ({ target }) => setEmail(target.value)}\n            />\n          </div>\n          <div className='register__password'>\n            <input\n              type='password'\n              value={password}\n              name='Password'\n              placeholder='Password'\n              onChange={\n                ({ target }) => setPassword(target.value)}\n            />\n          </div>\n          <button>\n            Register\n          </button>\n          {/* <Notification message={errorMessage}/> */}\n          <NavLink to='/login'>Login</NavLink>\n\n          \n        </form>\n  )\n}\n\nexport default Register\n","import axios from 'axios'\nimport { useHistory } from 'react-router';\nimport { useMutation, useQueryClient } from 'react-query';\n\nexport default function useRegister() {\n const queryClient = useQueryClient()\n const baseUrl = '/api/register'\n const history = useHistory()\n  return useMutation(\n    (data) => {\n      return axios.post(baseUrl, data).then((res) => res.data)},\n    {\n      onSuccess: (data) => {\n        // queryClient.invalidateQueries('login')\n        history.push('/login')\n      },\n      onError: (error) => {\n        // setErrorMessage('Wrong credentials')\n        console.log('something went wrong')\n        // setTimeout(()=> {\n        //   setErrorMessage(null)\n        // }, 3000)\n      }\n    }\n  )\n}","import React from 'react'\nimport { Link } from 'react-router-dom'\nimport './PageNotFound.scss'\n\nfunction PageNotFound (props) {\n  return (\n    <main className='page-not-found__container'>\n      <section className='page-not-found__message'>\n        <h1 className='page-not-found__title'>Error - 404</h1>\n        <p className='page-not-found__text'>Nothing to see here</p>\n        <Link className='page-not-found__link' to='/'>Back to Dashboard</Link>\n      </section>\n    </main>\n  )\n}\n\nexport default PageNotFound\n","import React, { useState } from 'react'\nimport { Route, Switch, BrowserRouter as Router } from 'react-router-dom'\nimport './App.scss'\nimport Dashboard from './components/Dashboard'\nimport Detail from './components/Detail'\nimport Header from './components/Header'\nimport Profile from './components/Profile'\nimport Login from './components/Login'\nimport Register from './components/Register'\nimport PageNotFound from './components/PageNotFound'\n\nexport const AppContext = React.createContext();\n\nfunction App (props) {\n  const [contextState, setContextState] = useState({\n    elementToEdit: '',\n    user: null,\n    userId: '',\n    username: '',\n    config: {},\n    adminId: process.env.REACT_APP_ADMIN,\n    setState(data) {\n        const { setState, ...res } = data;\n        const newState = { ...contextState, ...res };\n        setContextState(newState);\n    },\n  });\n  return (\n    <AppContext.Provider value={contextState}>\n      <Router>\n        <div className='container'>\n          <Header />\n\n          <div className='margin-body'>\n            <Switch>\n              <Route path='/' exact component={Dashboard} />\n              <Route path='/profile' component={Profile} />\n              <Route path='/login' component={Login} />\n              <Route path='/register' component={Register} />\n              <Route path='/:genre' exact component={Dashboard} />\n              <Route path='/detail/:poemId' exact component={Detail} />\n              <Route component={PageNotFound} />\n            </Switch>\n          </div>\n        </div>\n      </Router>\n    </AppContext.Provider>\n\n  )\n}\n\n\nexport default App\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n)\n\nexport function register (config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href)\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config)\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          )\n        })\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config)\n      }\n    })\n  }\n}\n\nfunction registerValidSW (swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing\n        if (installingWorker == null) {\n          return\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              )\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration)\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.')\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration)\n              }\n            }\n          }\n        }\n      }\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error)\n    })\n}\n\nfunction checkValidServiceWorker (swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type')\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload()\n          })\n        })\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config)\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      )\n    })\n}\n\nexport function unregister () {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister()\n      })\n      .catch(error => {\n        console.error(error.message)\n      })\n  }\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './App'\nimport * as serviceWorker from './serviceWorker'\nimport {\n  QueryClient,\n  QueryClientProvider,\n} from \"react-query\";\nimport { ReactQueryDevtools } from \"react-query/devtools\";\n\nlet redirectUri = 'http://localhost:3000/profile'\nif (process.env.NODE_ENV === 'production') {\n  redirectUri = 'https://poemunity.com/profile'\n}\n\nconst { REACT_APP_AUTH0_DOMAIN, REACT_APP_AUTH0_CLIENTID } = process.env\n// same as process.env.AUTH0_DOMAIN, but cleaner\n\nconst queryClient = new QueryClient();\n\nReactDOM.render(\n  <React.StrictMode>\n    <QueryClientProvider client={queryClient}>\n        <App />\n    <ReactQueryDevtools />\n    </QueryClientProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n)\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister()\n"],"sourceRoot":""}