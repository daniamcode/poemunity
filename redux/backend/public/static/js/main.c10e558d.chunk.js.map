{"version":3,"sources":["data/constants.js","components/SimpleAccordion.js","appDispatcher.js","actions/actionTypes.js","stores/poemStore.js","actions/poemActions.js","components/Ranking.jsx","components/CircularIndeterminate.js","scripts/capitalizeFirstLetter.js","components/List.jsx","components/Dashboard.jsx","components/Detail.jsx","components/Login.jsx","components/Logout.jsx","components/Header.jsx","components/MyPoems.jsx","components/MyFavouritePoems.jsx","components/Profile.jsx","components/PageNotFound.js","App.js","serviceWorker.js","index.js"],"names":["CATEGORIES","SimpleAccordion","Accordion","className","AccordionSummary","expandIcon","aria-controls","id","sort","map","category","AccordionDetails","to","toLowerCase","appDispatcher","Dispatcher","_poem","_poems","poemStore","callback","this","on","removeListener","emit","filter","poem","_id","criteria","poems","genre","user","author","name","likes","some","element","sub","a","b","title","length","Math","random","Date","date","data","attribute","array","prop","hasOwnProperty","object","tempSortName","push","at","bt","result","i","l","item","poemPoints","likePoints","rank","reduce","accumulator","points","userId","picture","SortObjectOfObjects","EventEmitter","dispatcher","register","action","type","actionTypes","emitChange","sortPoems","loadPoems","axios","get","then","dispatch","deletePoem","delete","likePoem","poemId","put","modifiedPoem","useStyles","makeStyles","table","minWidth","Ranking","classes","useState","getPoems","setPoems","getRanking","setRank","onChange","useEffect","addChangeListener","removeChangeListener","TableContainer","component","Paper","Table","aria-label","TableHead","TableRow","TableCell","align","TableBody","Object","keys","index","key","scope","src","theme","root","display","marginLeft","spacing","CircularIndeterminate","CircularProgress","color","capitalizeFirstLetter","string","charAt","toUpperCase","slice","List","props","useAuth0","isAuthenticated","isLoading","match","params","setSort","setFilter","onLike","event","preventDefault","console","log","Helmet","value","target","style","fontSize","fill","TextField","label","InputLabelProps","InputProps","includes","onClick","process","onDelete","Dashboard","Detail","getPoem","setPoem","disqusConfig","url","identifier","DiscussionEmbed","shortname","config","Login","loginWithRedirect","Logout","logout","returnTo","window","location","origin","Header","MyPoems","getPoemsByUser","MyFavouritePoems","getFavouritePoemsByUser","TabPanel","children","other","role","hidden","aria-labelledby","Box","p","Typography","a11yProps","backgroundColor","palette","background","paper","width","Profile","useTheme","React","setValue","poemContent","setPoemContent","poemTitle","setPoemTitle","poemCategory","setPoemCategory","onFieldChange","alt","onSubmit","reset","currentDatetime","formattedDate","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","post","savedPoem","placeholder","required","AppBar","position","Tabs","newValue","indicatorColor","textColor","variant","Tab","axis","direction","onChangeIndex","dir","PageNotFound","App","path","exact","Boolean","hostname","redirectUri","REACT_APP_AUTH0_DOMAIN","REACT_APP_AUTH0_CLIENTID","ReactDOM","render","StrictMode","domain","clientId","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","error","message"],"mappings":"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","file":"static/js/main.c10e558d.chunk.js","sourcesContent":["export const WEB_SUBTITLE = 'Your poem community!'\nexport const CATEGORIES_TITLE = 'Categories'\nexport const CATEGORIES = ['Anniversary', 'Friendship', 'Funny', 'Haikus', 'Hope', 'Life', 'Love', 'Sad']\nexport const ALL = 'All'\nexport const PROFILE_TITLE = \"'s Profile\"\nexport const PROFILE_SUBTITLE = 'Insert a poem:'\nexport const PROFILE_SELECT_TITLE_TITLE = 'Title: '\nexport const PROFILE_SELECT_TITLE = 'Title'\nexport const PROFILE_SELECT_CATEGORY_TITLE = 'Category: '\nexport const PROFILE_SELECT_CATEGORY = 'Select'\nexport const PROFILE_POEM_PLACEHOLDER = 'Insert your poem here'\nexport const PROFILE_SEND_POEM = 'Send'\nexport const PROFILE_POEMS = 'My poems'\nexport const PROFILE_FAVOURITE_POEMS = 'My favourite poems'\nexport const LIKE = 'Like'\nexport const LIKES = 'Likes!'\nexport const READ_MORE = 'Read more'\nexport const SEARCH_PLACEHOLDER = 'Search an author'\nexport const ORDER_BY = 'Order poems by: '\nexport const ORDER_BY_TITLE = 'Title'\nexport const ORDER_BY_DATE = 'Date'\nexport const ORDER_BY_RANDOM = 'Random'\nexport const ORDER_BY_LIKES = 'Likes'\nexport const CATEGORIES_TITLE_LABEL = 'Category: '\nexport const RANKING_TITLE = 'Poets ranking'\nexport const RANKING_SUBTITLE = '3 points per poem, 1 per like'\nexport const RANKING_POETS_TITLE = 'Poets'\nexport const RANKING_POINTS_TITLE = 'Points'\n","import React from 'react'\nimport Accordion from '@material-ui/core/Accordion'\nimport AccordionSummary from '@material-ui/core/AccordionSummary'\nimport AccordionDetails from '@material-ui/core/AccordionDetails'\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore'\nimport './Header.scss'\nimport { Link } from 'react-router-dom'\nimport { CATEGORIES_TITLE, CATEGORIES, ALL } from '../data/constants'\n\nexport default function SimpleAccordion () {\n  return (\n    <div>\n      <Accordion className='accordion'>\n        <AccordionSummary expandIcon={<ExpandMoreIcon />} aria-controls='panel1a-content' id='panel1a-header'>\n          <p className='header__dropdown-categories'>{CATEGORIES_TITLE}</p>\n        </AccordionSummary>\n        <div>\n          {CATEGORIES?.sort().map((category) => (\n            <AccordionDetails>\n              <Link className='header__dropdown-subcategories' to={`/${category.toLowerCase()}`}>\n                {category}\n              </Link>\n            </AccordionDetails>\n          ))}\n        </div>\n        <AccordionDetails>\n          <Link className='header__dropdown-subcategories' to='/'>\n            {ALL}\n          </Link>\n        </AccordionDetails>\n      </Accordion>\n    </div>\n  )\n}\n","import { Dispatcher } from 'flux'\n\nconst appDispatcher = new Dispatcher()\n\nexport default appDispatcher\n","export default {\n  LOAD_POEM: 'LOAD_POEM',\n  LOAD_POEMS: 'LOAD_POEMS',\n  CREATE_POEM: 'CREATE_POEM',\n  DELETE_POEM: 'DELETE_POEM',\n  LIKE_POEM: 'LIKE_POEM',\n  SORT_POEMS: 'SORT_POEMS'\n}\n","import {\n  EventEmitter\n} from 'events'\nimport dispatcher from '../appDispatcher'\nimport actionTypes from '../actions/actionTypes'\nimport {\n  ORDER_BY_DATE,\n  ORDER_BY_LIKES,\n  ORDER_BY_RANDOM,\n  ORDER_BY_TITLE\n} from '../data/constants'\n\nconst CHANGE_EVENT = 'change'\nlet _poem = null\nlet _poems = []\nconst _sort = ''\n\nclass PoemStore extends EventEmitter {\n  addChangeListener (callback) {\n    this.on(CHANGE_EVENT, callback)\n  }\n\n  removeChangeListener (callback) {\n    this.removeListener(CHANGE_EVENT, callback)\n  }\n\n  emitChange () {\n    this.emit(CHANGE_EVENT)\n  }\n\n  getPoem (id) {\n    return id ? _poems.filter(poem => poem._id === id)[0] : _poem\n  }\n\n  getPoems (criteria) {\n    if (!criteria) {\n      return _poems\n    } else {\n      return _poems.filter((poems) => poems.genre === criteria)\n    }\n  }\n\n  getPoemsByUser (user) {\n    return _poems.filter((poems) => poems.author === user.name)\n  }\n\n  getFavouritePoemsByUser (user) {\n    return _poems.filter((poems) => poems.likes.some((element) => element === user.sub))\n  }\n\n  sortPoems (sort, poems) {\n    if (sort === ORDER_BY_TITLE) {\n      poems.sort(function (a, b) {\n        if (a.title.toLowerCase() < b.title.toLowerCase()) return -1\n        if (a.title.toLowerCase() > b.title.toLowerCase()) return 1\n        return 0\n      })\n    }\n    if (sort === ORDER_BY_LIKES) {\n      poems.sort(function (a, b) {\n        return b.likes.length - a.likes.length\n      })\n    }\n    if (sort === ORDER_BY_RANDOM) {\n      poems.sort(() => Math.random() - 0.5)\n    }\n    if (sort === ORDER_BY_DATE) {\n      poems.sort(function (a, b) {\n        return new Date(b.date) - new Date(a.date)\n      })\n    }\n    return poems\n  }\n\n  SortObjectOfObjects (data, attribute) {\n    const array = []\n    for (const prop in data) {\n      if (data.hasOwnProperty(prop)) {\n        const object = {}\n        object[prop] = data[prop]\n        object.tempSortName = data[prop][attribute]\n        array.push(object)\n      }\n    }\n\n    array.sort(function (a, b) {\n      const at = a.tempSortName\n      const bt = b.tempSortName\n      return at > bt ? -1 : (at < bt ? 1 : 0)\n    })\n\n    const result = []\n    for (let i = 0, l = array.length; i < l; i++) {\n      const object = array[i]\n      delete object.tempSortName\n      for (const prop in object) {\n        if (object.hasOwnProperty(prop)) {\n          var id = prop\n        }\n      }\n      const item = object[id]\n      result.push(item)\n    }\n    return result\n  }\n\n  getRanking (poems, poemPoints, likePoints) {\n    let rank = poems.reduce(function (accumulator, item) {\n      const points = (accumulator[item.userId]?.points || 0) + poemPoints + (likePoints * item.likes.length)\n\n      accumulator[item.userId] = {\n        author: item.author,\n        picture: item.picture,\n        points\n      }\n\n      return accumulator\n    }, {})\n\n    rank = this.SortObjectOfObjects(rank, 'points')\n\n    return rank\n  }\n}\n\nconst poemStore = new PoemStore()\ndispatcher.register((action) => {\n  switch (action.type) {\n    case actionTypes.LOAD_POEM:\n      _poem = action.data\n      poemStore.emitChange()\n      break\n    case actionTypes.LOAD_POEMS:\n      _poems = poemStore.sortPoems('likes', action.data)\n      poemStore.emitChange()\n      break\n    case actionTypes.CREATE_POEM:\n      _poems = [..._poems, {\n        ...action.data\n      }]\n      poemStore.emitChange()\n      break\n    case actionTypes.DELETE_POEM:\n      _poems = _poems.filter((poem) => poem._id !== action.data._id)\n      poemStore.emitChange()\n      break\n    case actionTypes.LIKE_POEM:\n      _poems = _poems.map((poem) => {\n        if (poem._id === action.data._id) {\n          poem.likes = action.data.likes\n        }\n        return poem\n      })\n      _poem = action.data\n      poemStore.emitChange()\n      break\n    case actionTypes.SORT_POEMS:\n      // _sort = action.data\n      _poems = poemStore.sortPoems(action.data, _poems)\n      poemStore.emitChange()\n      break\n    default:\n      break\n  }\n})\n\nexport default poemStore\n","import axios from 'axios'\nimport dispatcher from '../appDispatcher'\nimport actionTypes from './actionTypes'\n\nexport function loadPoems () {\n  return axios.get('/api/poems').then((poems) => {\n    dispatcher.dispatch({\n      type: actionTypes.LOAD_POEMS,\n      data: poems.data\n    })\n  })\n}\n\nexport function loadPoem (_id) {\n  return axios.get(`/api/poems/${_id}`).then((poem) => {\n    dispatcher.dispatch({\n      type: actionTypes.LOAD_POEM,\n      data: poem.data\n    })\n  })\n}\n\nexport function savePoem (poem) {\n  return axios.post('/api/poems', poem).then((savedPoem) => {\n    dispatcher.dispatch({\n      type: actionTypes.CREATE_POEM,\n      data: savedPoem.data\n    })\n  })\n}\n\nexport function deletePoem (_id) {\n  return axios.delete(`/api/poems/${_id}`).then(() => {\n    dispatcher.dispatch({\n      type: actionTypes.DELETE_POEM,\n      data: {\n        _id\n      }\n    })\n  })\n}\n\nexport function likePoem (poemId, userId) {\n  return axios.put(`/api/poems/${poemId}`, {\n    userId\n  }).then((modifiedPoem) => {\n    dispatcher.dispatch({\n      type: actionTypes.LIKE_POEM,\n      data: modifiedPoem.data\n    })\n  })\n}\n\nexport function sortByCriteria (criteria) {\n  dispatcher.dispatch({\n    type: actionTypes.SORT_POEMS,\n    data: criteria\n  })\n}\n","import React, { useState, useEffect } from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\nimport Table from '@material-ui/core/Table'\nimport TableBody from '@material-ui/core/TableBody'\nimport TableCell from '@material-ui/core/TableCell'\nimport TableContainer from '@material-ui/core/TableContainer'\nimport TableHead from '@material-ui/core/TableHead'\nimport TableRow from '@material-ui/core/TableRow'\nimport Paper from '@material-ui/core/Paper'\nimport './Ranking.scss'\nimport poemStore from '../stores/poemStore'\nimport { loadPoems } from '../actions/poemActions'\nimport {\n  RANKING_TITLE,\n  RANKING_SUBTITLE,\n  RANKING_POETS_TITLE,\n  RANKING_POINTS_TITLE\n} from '../data/constants'\n\nconst useStyles = makeStyles({\n  table: {\n    minWidth: 50\n  }\n})\n\nexport default function Ranking () {\n  const classes = useStyles()\n  const poemPoints = 3\n  const likePoints = 1\n\n  const [poems, setPoems] = useState(poemStore.getPoems())\n  const [rank, setRank] = useState(\n    poemStore.getRanking(poems, poemPoints, likePoints)\n  )\n\n  useEffect(\n    () => {\n      poemStore.addChangeListener(onChange)\n      if (poems.length === 0) loadPoems()\n      else {\n        onChange()\n      }\n      return () => poemStore.removeChangeListener(onChange)\n    },\n    [poems.length],\n    rank\n  )\n\n  function onChange () {\n    setPoems(poemStore.getPoems())\n    setRank(poemStore.getRanking(poems, poemPoints, likePoints))\n  }\n\n  return (\n    <>\n      <main className='ranking'>\n        <h3 className='ranking__title'>{RANKING_TITLE}</h3>\n        <h5 className='ranking__subtitle'>{RANKING_SUBTITLE}</h5>\n        <TableContainer className='ranking__body' component={Paper}>\n          <Table className={classes.table} aria-label='simple table'>\n            <TableHead>\n              <TableRow>\n                <TableCell align='center'>{RANKING_POETS_TITLE}</TableCell>\n                <TableCell align='center'>{RANKING_POINTS_TITLE}</TableCell>\n              </TableRow>\n            </TableHead>\n            <TableBody>\n              {Object.keys(rank).map((element, index) => (\n                <TableRow key={index}>\n                  <TableCell\n                    className='ranking__picture-container'\n                    align='center'\n                    component='th'\n                    scope='row'\n                  >\n                    <div className='ranking__picture-wrap'>\n                      <img\n                        className='ranking__picture'\n                        src={rank[element].picture}\n                      />\n                      <p className='ranking__picture-description'>\n                        {rank[element].author}\n                      </p>\n                    </div>\n                  </TableCell>\n                  <TableCell className='ranking__number' align='center'>\n                    {rank[element].points}\n                  </TableCell>\n                </TableRow>\n              ))}\n            </TableBody>\n          </Table>\n        </TableContainer>\n      </main>\n    </>\n  )\n}\n","import React from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\nimport CircularProgress from '@material-ui/core/CircularProgress'\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: 'flex',\n    '& > * + *': {\n      marginLeft: theme.spacing(2)\n    }\n  }\n}))\n\nexport default function CircularIndeterminate () {\n  const classes = useStyles()\n\n  return (\n    <div className={classes.root}>\n      <CircularProgress color='secondary' />\n    </div>\n  )\n}\n","function capitalizeFirstLetter (string) {\n  return string.charAt(0).toUpperCase() + string.slice(1)\n}\n\nexport default capitalizeFirstLetter\n","import React, { useEffect, useState } from 'react'\nimport { Link } from 'react-router-dom'\nimport {\n  loadPoems,\n  deletePoem,\n  likePoem,\n  sortByCriteria\n} from '../actions/poemActions'\nimport poemStore from '../stores/poemStore'\nimport './List.scss'\nimport './Detail.scss'\nimport '../App.scss'\nimport { TextField } from '@material-ui/core'\nimport SearchIcon from '@material-ui/icons/Search'\nimport HighlightOffSharpIcon from '@material-ui/icons/HighlightOffSharp'\nimport SubjectSharpIcon from '@material-ui/icons/SubjectSharp'\nimport { useAuth0 } from '@auth0/auth0-react'\nimport CircularProgress from './CircularIndeterminate'\nimport capitalizeFirstLetter from '../scripts/capitalizeFirstLetter'\nimport { Helmet } from 'react-helmet'\nimport {\n  WEB_SUBTITLE,\n  LIKE,\n  LIKES,\n  READ_MORE,\n  SEARCH_PLACEHOLDER,\n  ORDER_BY,\n  ORDER_BY_DATE,\n  ORDER_BY_LIKES,\n  ORDER_BY_RANDOM,\n  ORDER_BY_TITLE,\n  CATEGORIES_TITLE_LABEL\n} from '../data/constants'\nconst { REACT_APP_ADMIN } = process.env\n\nfunction List (props) {\n  const { user, isAuthenticated, isLoading } = useAuth0()\n  const genre = props.match.params.genre\n  const [poems, setPoems] = useState(poemStore.getPoems(genre))\n  const [sort, setSort] = useState(ORDER_BY_LIKES)\n  const [filter, setFilter] = useState('')\n\n  console.log(poems)\n  console.log(genre)\n\n  useEffect(() => {\n    poemStore.addChangeListener(onChange)\n    if (poems.length === 0) loadPoems()\n    else {\n      onChange()\n    }\n    return () => poemStore.removeChangeListener(onChange)\n  }, [poems.length, genre, sort])\n\n  function onChange () {\n    setPoems(poemStore.getPoems(genre))\n  }\n\n  function onDelete (event, poemId) {\n    event.preventDefault()\n    deletePoem(poemId)\n  }\n\n  function onLike (event, poemId, userId) {\n    event.preventDefault()\n    likePoem(poemId, userId)\n  }\n\n  const handleSearchChange = (event) => {\n    setFilter(event.target.value)\n  }\n\n  function onFieldChange (value, setValue) {\n    setValue(value)\n  }\n\n  if (isLoading) {\n    return <CircularProgress />\n  }\n\n  return (\n    <>\n      <Helmet>\n        <title>\n          {genre ? `${capitalizeFirstLetter(genre)} poems` : 'Poemunity'}\n        </title>\n      </Helmet>\n      <div className='list__container'>\n        <div className='list__intro'>\n          {!genre && <p className='list__presentation'>{WEB_SUBTITLE}</p>}\n          {genre && (\n            <p className='list__presentation'>\n              {CATEGORIES_TITLE_LABEL}\n              {genre.toUpperCase()}\n            </p>\n          )}\n          <div className='separator' />\n          <form className='list__sort'>\n            <label>\n              {ORDER_BY}\n              <select\n                type='submit'\n                id='sort'\n                name='sort'\n                onChange={(event) => {\n                  onFieldChange(event.target.value, setSort)\n                  sortByCriteria(event.target.value)\n                }}\n              >\n                <option value={ORDER_BY_LIKES}>{ORDER_BY_LIKES}</option>\n                <option value={ORDER_BY_DATE}>{ORDER_BY_DATE}</option>\n                <option value={ORDER_BY_RANDOM}>{ORDER_BY_RANDOM}</option>\n                <option value={ORDER_BY_TITLE}>{ORDER_BY_TITLE}</option>\n              </select>\n            </label>\n          </form>\n          <div className='list__search'>\n            <SearchIcon style={{ fontSize: 40, fill: '#4F5D73' }} />\n            <TextField\n              label={SEARCH_PLACEHOLDER}\n              InputLabelProps={{\n                style: { color: '#4F5D73' }\n              }}\n              InputProps={{\n                style: { color: '#4F5D73' }\n              }}\n              onChange={handleSearchChange}\n            />\n          </div>\n        </div>\n\n        {poems.map((poem) => (\n          <main key={poem._id} className='poem__detail'>\n            {poem.author.includes(filter) && (\n              <section className='poem__block'>\n                <section>\n                  <Link to={`/detalle/${poem._id}`} className='poem__title'>\n                    {poem.title}\n                  </Link>\n                  <div className='poem__author-container'>\n                    <img className='poem__picture' src={poem.picture} />\n                    <p className='poem__author'>{poem.author}</p>\n                  </div>\n                  <div className='poem__date'>{poem.date}</div>\n                </section>\n                <section>\n                  <div className='poem__content poems__content'>\n                    {poem.poem}\n                  </div>\n                  <div className='poems__read-more'>\n                    <Link\n                      to={`/detalle/${poem._id}`}\n                      className='poems__read-more'\n                    >\n                      {READ_MORE}\n                    </Link>\n                  </div>\n                </section>\n                <section className='poem__footer'>\n                  {poem.likes.length === 1 && (\n                    <div className='poem__likes'>\n                      {poem.likes.length} {LIKE}\n                    </div>\n                  )}\n                  {poem.likes.length !== 1 && (\n                    <div className='poem__likes'>\n                      {poem.likes.length} {LIKES}\n                    </div>\n                  )}\n                  <div className='separator' />\n                  {isAuthenticated &&\n                    poem.author !== user.name &&\n                    poem.likes.some((id) => id === user.sub) && (\n                      <Link\n                        className='poem__likes-icon'\n                        onClick={(event) => onLike(event, poem._id, user.sub)}\n                      />\n                  )}\n                  {isAuthenticated &&\n                    poem.author !== user.name &&\n                    !poem.likes.some((id) => id === user.sub) && (\n                      <Link\n                        className='poem__unlikes-icon'\n                        onClick={(event) => onLike(event, poem._id, user.sub)}\n                      />\n                  )}\n                  {isAuthenticated &&\n                    (poem.author === user.name ||\n                      user.sub === REACT_APP_ADMIN) && (\n                        <HighlightOffSharpIcon\n                          className='poem__delete-icon'\n                          style={{ fill: 'red' }}\n                          onClick={(event) => onDelete(event, poem._id)}\n                        />\n                  )}\n                  <Link\n                    to={`/detalle/${poem._id}`}\n                    className='poem__comments-icon'\n                  >\n                    <SubjectSharpIcon style={{ fill: '#000' }} />\n                  </Link>\n                </section>\n              </section>\n            )}\n          </main>\n        ))}\n      </div>\n    </>\n  )\n}\nexport default List\n","import React from 'react'\nimport './List.scss'\nimport './Detail.scss'\nimport '../App.scss'\nimport './Dashboard.scss'\nimport Accordion from './SimpleAccordion'\nimport Ranking from './Ranking'\nimport List from './List'\n\nfunction Dashboard (props) {\n  return (\n    <main className='dashboard'>\n      <div className='dashboard__accordion'>\n        <Accordion />\n      </div>\n      <div className='dashboard__list'>\n        <List {...props} />\n      </div>\n      <div className='dashboard__ranking'>\n        <Ranking />\n      </div>\n    </main>\n  )\n}\nexport default Dashboard\n","import React, { useEffect, useState } from 'react'\nimport { Link } from 'react-router-dom'\nimport poemStore from '../stores/poemStore'\nimport { loadPoem, deletePoem, likePoem } from '../actions/poemActions'\nimport './Detail.scss'\nimport '../App.scss'\nimport HighlightOffSharpIcon from '@material-ui/icons/HighlightOffSharp'\nimport SubjectSharpIcon from '@material-ui/icons/SubjectSharp'\nimport { useAuth0 } from '@auth0/auth0-react'\nimport Disqus from 'disqus-react'\nimport CircularProgress from './CircularIndeterminate'\nimport './PageNotFound.scss'\nimport { Helmet } from 'react-helmet'\nimport { LIKE, LIKES } from '../data/constants'\nconst { REACT_APP_ADMIN } = process.env\n\nfunction Detail (props) {\n  const { user, isAuthenticated, isLoading } = useAuth0()\n  const [poem, setPoem] = useState(\n    poemStore.getPoem(props.match.params.poemId)\n  )\n\n  useEffect(() => {\n    poemStore.addChangeListener(onChange)\n\n    if (!poem) {\n      loadPoem(props.match.params.poemId)\n    }\n\n    return () => {\n      poemStore.removeChangeListener(onChange)\n    }\n  }, [poem])\n\n  function onChange () {\n    setPoem(poemStore.getPoem())\n  }\n\n  function onDelete (event, poemId) {\n    event.preventDefault()\n    deletePoem(poemId)\n  }\n\n  function onLike (event, poemId, userId) {\n    event.preventDefault()\n    likePoem(poemId, userId)\n  }\n\n  if (isLoading) {\n    return <CircularProgress />\n  }\n\n  const disqusShortname = 'poemunity'\n  const disqusConfig = {\n    url: `http://localhost:3000/detalle/${props.match.params.poemId}`,\n    identifier: `http://localhost:3000/detalle/${props.match.params.poemId}`,\n    title: 'Title of Your Article'\n  }\n\n  return (\n    <>\n      {!poem && (\n        <main className='page-not-found__container'>\n          <section className='page-not-found__message'>\n            <h1 className='page-not-found__title'>Error - 404</h1>\n            <p className='page-not-found__text'>Nothing to see here</p>\n            <Link className='page-not-found__link' to='/'>\n              Back to Dashboard\n            </Link>\n          </section>\n        </main>\n      )}\n      {poem && poem.likes && (\n        <main className='poem__detail'>\n          <Helmet>\n            <title>{`Poem: ${poem.title}`}</title>\n          </Helmet>\n          <section className='poem__block'>\n            <section>\n              <h2 className='poem__title'>{poem.title}</h2>\n              <div className='poem__author-container'>\n                <img className='poem__picture' src={poem.picture} />\n                <p className='poem__author'>{poem.author}</p>\n              </div>\n              <div className='poem__date'>{poem.date}</div>\n            </section>\n            <section>\n              <div className='poem__content'>{poem.poem}</div>\n            </section>\n            <br />\n            <section className='poem__footer'>\n              {poem.likes.length === 1 && (\n                <div className='poem__likes'>\n                  {poem.likes.length} {LIKE}\n                </div>\n              )}\n              {poem.likes.length !== 1 && (\n                <div className='poem__likes'>\n                  {poem.likes.length} {LIKES}\n                </div>\n              )}\n              <div className='separator' />\n              {isAuthenticated &&\n                poem.author !== user.name &&\n                poem.likes.some((id) => id === user.sub) && (\n                  <Link\n                    className='poem__likes-icon'\n                    onClick={(event) => onLike(event, poem._id, user.sub)}\n                  />\n              )}\n              {isAuthenticated &&\n                poem.author !== user.name &&\n                !poem.likes.some((id) => id === user.sub) && (\n                  <Link\n                    className='poem__unlikes-icon'\n                    onClick={(event) => onLike(event, poem._id, user.sub)}\n                  />\n              )}\n              {isAuthenticated &&\n                (poem.author === user.name || user.sub === REACT_APP_ADMIN) && (\n                  <HighlightOffSharpIcon\n                    className='poem__delete-icon'\n                    style={{ fill: 'red' }}\n                    onClick={(event) => onDelete(event, poem._id)}\n                  />\n              )}\n              <Link to={`/detalle/${poem._id}`} className='poem__comments-icon'>\n                <SubjectSharpIcon style={{ fill: '#000' }} />\n              </Link>\n            </section>\n          </section>\n          <div className='article-container'>\n            <Disqus.DiscussionEmbed\n              shortname={disqusShortname}\n              config={disqusConfig}\n            />\n          </div>\n        </main>\n      )}\n    </>\n  )\n}\n\nexport default Detail\n","import React from 'react'\nimport { useAuth0 } from '@auth0/auth0-react'\nimport './Header.scss'\n\nconst Login = () => {\n  const { loginWithRedirect } = useAuth0()\n\n  return <button className='header__login' onClick={() => loginWithRedirect()} />\n}\n\nexport default Login\n","import React from 'react'\nimport { useAuth0 } from '@auth0/auth0-react'\nimport './Header.scss'\n\nconst Logout = () => {\n  const { logout } = useAuth0()\n\n  return (\n    <button className='header__logout' onClick={() => logout({ returnTo: window.location.origin })} />\n  )\n}\n\nexport default Logout\n","import React from 'react'\nimport { Link } from 'react-router-dom'\nimport './Header.scss'\nimport '../App.scss'\nimport Accordion from './SimpleAccordion'\nimport CircularProgress from './CircularIndeterminate'\nimport LoginButton from './Login'\nimport LogoutButton from './Logout'\nimport { useAuth0 } from '@auth0/auth0-react'\n\nfunction Header () {\n  const { isAuthenticated, isLoading } = useAuth0()\n\n  if (isLoading) {\n    return <CircularProgress />\n  }\n  return (\n    <>\n      <section className='header'>\n        <div className='header__dropdown'>\n          <Accordion />\n        </div>\n        <div className='header__logo'>\n          <Link to='/' className='header__text-logo-first'>\n            P\n          </Link>\n          <Link to='/' className='header__logo-icon' />\n          <Link to='/' className='header__text-logo-second'>\n            emunity\n          </Link>\n        </div>\n        <div className='separator' />\n        {isAuthenticated ? (\n          <Link to='/perfil' className='header__profile' />\n        ) : (\n          <></>\n        )}\n        {isAuthenticated ? <LogoutButton /> : <LoginButton />}\n      </section>\n    </>\n  )\n}\n\nexport default Header\n","import React, { useEffect, useState } from 'react'\nimport { Link } from 'react-router-dom'\nimport { loadPoems, deletePoem } from '../actions/poemActions'\nimport poemStore from '../stores/poemStore'\nimport './List.scss'\nimport './Detail.scss'\nimport '../App.scss'\nimport { TextField } from '@material-ui/core'\nimport SearchIcon from '@material-ui/icons/Search'\nimport HighlightOffSharpIcon from '@material-ui/icons/HighlightOffSharp'\nimport SubjectSharpIcon from '@material-ui/icons/SubjectSharp'\nimport { useAuth0 } from '@auth0/auth0-react'\nimport CircularProgress from './CircularIndeterminate'\n\nfunction MyPoems (props) {\n  const { user, isAuthenticated, isLoading } = useAuth0()\n\n  const [poems, setPoems] = useState(poemStore.getPoemsByUser(user))\n\n  const [filter, setFilter] = useState('')\n\n  useEffect(() => {\n    poemStore.addChangeListener(onChange)\n    if (poems.length === 0) loadPoems()\n    else {\n      onChange()\n    }\n    return () => poemStore.removeChangeListener(onChange)\n  }, [poems.length])\n\n  function onChange () {\n    setPoems(poemStore.getPoemsByUser(user))\n  }\n\n  function onDelete (event, poemId) {\n    event.preventDefault()\n    deletePoem(poemId)\n  }\n\n  const LIKE = 'Like'\n  const LIKES = 'Likes'\n  const READ_MORE = 'Leer más'\n\n  const handleSearchChange = (event) => {\n    setFilter(event.target.value)\n  }\n\n  if (isLoading) {\n    return <CircularProgress />\n  }\n\n  return (\n    <>\n      <div className='search__container'>\n        <div className='separator' />\n        <div className='list__intro'>\n          <SearchIcon style={{ fontSize: 40, fill: '#551A8B' }} />\n          <TextField\n            label='Buscar autor'\n            InputLabelProps={{\n              style: { color: '#551A8B' }\n            }}\n            InputProps={{\n              style: { color: '#551A8B' }\n            }}\n            onChange={handleSearchChange}\n          />\n        </div>\n      </div>\n      {poems.map((poem) => (\n        <main key={poem._id} className='poem__detail'>\n          {poem.author.includes(filter) && (\n            <section className='poem__block'>\n              <section>\n                <Link to={`/detalle/${poem._id}`} className='poem__title'>\n                  {poem.title}\n                </Link>\n                <p className='poem__author'>{poem.author}</p>\n                <div className='poem__date'>{poem.date}</div>\n              </section>\n              <section>\n                <div className='poem__content poems__content'>{poem.poem}</div>\n                <div className='poems__read-more'>\n                  <Link\n                    to={`/detalle/${poem._id}`}\n                    className='poems__read-more'\n                  >\n                    {READ_MORE}\n                  </Link>\n                </div>\n              </section>\n              <section className='poem__footer'>\n                {poem.likes.length === 1 && (\n                  <div className='poem__likes'>\n                    {poem.likes.length} {LIKE}\n                  </div>\n                )}\n                {poem.likes.length !== 1 && (\n                  <div className='poem__likes'>\n                    {poem.likes.length} {LIKES}\n                  </div>\n                )}\n                <div className='separator' />\n                {isAuthenticated && poem.author === user.name && (\n                  <HighlightOffSharpIcon\n                    className='poem__delete-icon'\n                    style={{ fill: 'red' }}\n                    onClick={(event) => onDelete(event, poem._id)}\n                  />\n                )}\n                <Link\n                  to={`/detalle/${poem._id}`}\n                  className='poem__comments-icon'\n                >\n                  <SubjectSharpIcon style={{ fill: '#000' }} />\n                </Link>\n              </section>\n            </section>\n          )}\n        </main>\n      ))}\n    </>\n  )\n}\nexport default MyPoems\n","import React, { useEffect, useState } from 'react'\nimport { Link } from 'react-router-dom'\nimport { loadPoems, deletePoem, likePoem } from '../actions/poemActions'\nimport poemStore from '../stores/poemStore'\nimport './List.scss'\nimport './Detail.scss'\nimport '../App.scss'\nimport { TextField } from '@material-ui/core'\nimport SearchIcon from '@material-ui/icons/Search'\nimport HighlightOffSharpIcon from '@material-ui/icons/HighlightOffSharp'\nimport SubjectSharpIcon from '@material-ui/icons/SubjectSharp'\nimport { useAuth0 } from '@auth0/auth0-react'\nimport CircularProgress from './CircularIndeterminate'\n\nfunction MyFavouritePoems (props) {\n  const { user, isAuthenticated, isLoading } = useAuth0()\n\n  const [poems, setPoems] = useState(poemStore.getPoemsByUser(user))\n\n  const [filter, setFilter] = useState('')\n\n  useEffect(() => {\n    poemStore.addChangeListener(onChange)\n    if (poems.length === 0) loadPoems()\n    else {\n      onChange()\n    }\n    return () => poemStore.removeChangeListener(onChange)\n  }, [poems.length])\n\n  function onChange () {\n    setPoems(poemStore.getFavouritePoemsByUser(user))\n  }\n\n  function onDelete (event, poemId) {\n    event.preventDefault()\n    deletePoem(poemId)\n  }\n\n  function onLike (event, poemId, userId) {\n    event.preventDefault()\n    likePoem(poemId, userId)\n  }\n\n  const LIKE = 'Like'\n  const LIKES = 'Likes'\n  const READ_MORE = 'Leer más'\n\n  const handleSearchChange = (event) => {\n    setFilter(event.target.value)\n  }\n\n  if (isLoading) {\n    return <CircularProgress />\n  }\n\n  return (\n    <>\n      <div className='search__container'>\n        <div className='separator' />\n        <div className='list__intro'>\n          <SearchIcon style={{ fontSize: 40, fill: '#551A8B' }} />\n          <TextField\n            label='Buscar autor'\n            InputLabelProps={{\n              style: { color: '#551A8B' }\n            }}\n            InputProps={{\n              style: { color: '#551A8B' }\n            }}\n            onChange={handleSearchChange}\n          />\n        </div>\n      </div>\n      {poems.map((poem) => (\n        <main key={poem._id} className='poem__detail'>\n          {poem.author.includes(filter) && (\n            <section className='poem__block'>\n              <section>\n                <Link to={`/detalle/${poem._id}`} className='poem__title'>\n                  {poem.title}\n                </Link>\n                <div className='poem__author-container'>\n                  <img className='poem__picture' src={poem.picture} />\n                  <p className='poem__author'>{poem.author}</p>\n                </div>\n                <div className='poem__date'>{poem.date}</div>\n              </section>\n              <section>\n                <div className='poem__content poems__content'>{poem.poem}</div>\n                <div className='poems__read-more'>\n                  <Link\n                    to={`/detalle/${poem._id}`}\n                    className='poems__read-more'\n                  >\n                    {READ_MORE}\n                  </Link>\n                </div>\n              </section>\n              <section className='poem__footer'>\n                {poem.likes.length === 1 && (\n                  <div className='poem__likes'>\n                    {poem.likes.length} {LIKE}\n                  </div>\n                )}\n                {poem.likes.length !== 1 && (\n                  <div className='poem__likes'>\n                    {poem.likes.length} {LIKES}\n                  </div>\n                )}\n                <div className='separator' />\n                {isAuthenticated &&\n                  poem.author !== user.name &&\n                  poem.likes.some((id) => id === user.sub) && (\n                    <Link\n                      className='poem__likes-icon'\n                      onClick={(event) => onLike(event, poem._id, user.sub)}\n                    />\n                )}\n                {isAuthenticated &&\n                  poem.author !== user.name &&\n                  !poem.likes.some((id) => id === user.sub) && (\n                    <Link\n                      className='poem__unlikes-icon'\n                      onClick={(event) => onLike(event, poem._id, user.sub)}\n                    />\n                )}\n                {isAuthenticated && poem.author === user.name && (\n                  <HighlightOffSharpIcon\n                    className='poem__delete-icon'\n                    style={{ fill: 'red' }}\n                    onClick={(event) => onDelete(event, poem._id)}\n                  />\n                )}\n                <Link\n                  to={`/detalle/${poem._id}`}\n                  className='poem__comments-icon'\n                >\n                  <SubjectSharpIcon style={{ fill: '#000' }} />\n                </Link>\n              </section>\n            </section>\n          )}\n        </main>\n      ))}\n    </>\n  )\n}\nexport default MyFavouritePoems\n","import React, { useState } from 'react'\nimport PropTypes from 'prop-types'\nimport SwipeableViews from 'react-swipeable-views'\nimport { makeStyles, useTheme } from '@material-ui/core/styles'\nimport AppBar from '@material-ui/core/AppBar'\nimport Tabs from '@material-ui/core/Tabs'\nimport Tab from '@material-ui/core/Tab'\nimport Typography from '@material-ui/core/Typography'\nimport Box from '@material-ui/core/Box'\nimport './Profile.scss'\nimport '../App.scss'\nimport { savePoem } from '../actions/poemActions'\nimport MyPoems from './MyPoems'\nimport MyFavouritePoems from './MyFavouritePoems'\nimport { useAuth0 } from '@auth0/auth0-react'\nimport CircularProgress from './CircularIndeterminate'\nimport {\n  PROFILE_TITLE,\n  PROFILE_SUBTITLE,\n  PROFILE_POEMS,\n  PROFILE_FAVOURITE_POEMS,\n  CATEGORIES,\n  PROFILE_SELECT_CATEGORY_TITLE,\n  PROFILE_SELECT_CATEGORY,\n  PROFILE_SELECT_TITLE_TITLE,\n  PROFILE_SELECT_TITLE,\n  PROFILE_POEM_PLACEHOLDER,\n  PROFILE_SEND_POEM\n} from '../data/constants'\n\nfunction TabPanel (props) {\n  const { children, value, index, ...other } = props\n\n  return (\n    <div\n      role='tabpanel'\n      hidden={value !== index}\n      id={`full-width-tabpanel-${index}`}\n      aria-labelledby={`full-width-tab-${index}`}\n      {...other}\n    >\n      {value === index && (\n        <Box p={3}>\n          <Typography>{children}</Typography>\n        </Box>\n      )}\n    </div>\n  )\n}\n\nTabPanel.propTypes = {\n  children: PropTypes.node,\n  index: PropTypes.any.isRequired,\n  value: PropTypes.any.isRequired\n}\n\nfunction a11yProps (index) {\n  return {\n    id: `full-width-tab-${index}`,\n    'aria-controls': `full-width-tabpanel-${index}`\n  }\n}\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    backgroundColor: theme.palette.background.paper,\n    width: 500\n  }\n}))\n\nexport default function Profile (props) {\n  const theme = useTheme()\n  const [value, setValue] = React.useState(0)\n\n  const [poemContent, setPoemContent] = useState('')\n  const [poemTitle, setPoemTitle] = useState('')\n  const [poemCategory, setPoemCategory] = useState('')\n\n  const { user, isAuthenticated, isLoading } = useAuth0()\n\n  if (isLoading) {\n    return <CircularProgress />\n  }\n\n  const handleChange = (event, newValue) => {\n    setValue(newValue)\n  }\n\n  const handleChangeIndex = (index) => {\n    setValue(index)\n  }\n\n  function onFieldChange (value, setValue) {\n    setValue(value)\n  }\n\n  function handleSubmit (event) {\n    event.preventDefault()\n    event.target.reset()\n\n    const currentDatetime = new Date()\n    const formattedDate =\n      currentDatetime.getFullYear() +\n      '-' +\n      (currentDatetime.getMonth() + 1) +\n      '-' +\n      currentDatetime.getDate() +\n      ' ' +\n      currentDatetime.getHours() +\n      ':' +\n      currentDatetime.getMinutes() +\n      ':' +\n      currentDatetime.getSeconds()\n\n    savePoem({\n      userId: user.sub,\n      author: user.name,\n      picture: user.picture,\n      poem: poemContent,\n      title: poemTitle,\n      genre: poemCategory,\n      likes: [],\n      date: formattedDate\n    })\n    setPoemContent('')\n    setPoemTitle('')\n    setPoemCategory('')\n  }\n\n  return (\n    isAuthenticated && (\n      <main className='profile__main'>\n        <section className='profile__title'>\n          <div>\n            {user.name}\n            {PROFILE_TITLE}\n          </div>\n        </section>\n        <section className='profile__intro'>\n          <img\n            className='profile__image'\n            src={user.picture}\n            alt={user.name}\n          />\n          <div className='profile__personal-data'>\n            <div className='profile__insert-poem'>\n              <p className='profile__insert-poem-title'>{PROFILE_SUBTITLE}</p>\n              <br />\n              <form\n                className='profile__insert-poem-form'\n                onSubmit={handleSubmit}\n              >\n                <div className='profile__insert-poem-inputs'>\n                  <label className='profile__insert-poem-input'>\n                    {PROFILE_SELECT_TITLE_TITLE}\n                    <input\n                      className='profile__insert-poem-input'\n                      placeholder={PROFILE_SELECT_TITLE}\n                      name='title'\n                      required\n                      value={poemTitle}\n                      onChange={(event) =>\n                        onFieldChange(event.target.value, setPoemTitle)}\n                    />\n                  </label>\n                  <label className='profile__insert-poem-input'>\n                    {PROFILE_SELECT_CATEGORY_TITLE}\n                    <select\n                      className='profile__insert-poem-input'\n                      id='category'\n                      name='category'\n                      required\n                      onChange={(event) => {\n                        onFieldChange(event.target.value, setPoemCategory)\n                      }}\n                    >\n                      <option value=''>{PROFILE_SELECT_CATEGORY}</option>\n                      {CATEGORIES?.map((category) => (\n                        <option value={category.toLowerCase()}>\n                          {category}\n                        </option>\n                      ))}\n                    </select>\n                  </label>\n                </div>\n                <div>\n                  <textarea\n                    className='profile__text-area'\n                    id='poem'\n                    name='poem'\n                    required\n                    placeholder={PROFILE_POEM_PLACEHOLDER}\n                    value={poemContent}\n                    onChange={(event) =>\n                      onFieldChange(event.target.value, setPoemContent)}\n                  />\n                </div>\n\n                <button className='profile__send-poem' type='submit'>\n                  {PROFILE_SEND_POEM}\n                </button>\n              </form>\n            </div>\n          </div>\n        </section>\n        <section className='profile__outro'>\n          <div className='profile__tabs'>\n            <AppBar position='static' color='default'>\n              <Tabs\n                value={value}\n                onChange={handleChange}\n                indicatorColor='primary'\n                textColor='primary'\n                variant='fullWidth'\n                aria-label='full width tabs example'\n              >\n                <Tab label={PROFILE_POEMS} {...a11yProps(0)} />\n                <Tab label={PROFILE_FAVOURITE_POEMS} {...a11yProps(1)} />\n              </Tabs>\n            </AppBar>\n            <SwipeableViews\n              axis={theme.direction === 'rtl' ? 'x-reverse' : 'x'}\n              index={value}\n              onChangeIndex={handleChangeIndex}\n            >\n              <TabPanel\n                className='profile__myPoems'\n                value={value}\n                index={0}\n                dir={theme.direction}\n              >\n                <MyPoems />\n              </TabPanel>\n              <TabPanel\n                className='profile__myPoems'\n                value={value}\n                index={1}\n                dir={theme.direction}\n              >\n                <MyFavouritePoems />\n              </TabPanel>\n            </SwipeableViews>\n          </div>\n        </section>\n      </main>\n    )\n  )\n}\n","import React from 'react'\nimport { Link } from 'react-router-dom'\nimport './PageNotFound.scss'\n\nfunction PageNotFound (props) {\n  return (\n    <main className='page-not-found__container'>\n      <section className='page-not-found__message'>\n        <h1 className='page-not-found__title'>Error - 404</h1>\n        <p className='page-not-found__text'>Nothing to see here</p>\n        <Link className='page-not-found__link' to='/'>Back to Dashboard</Link>\n      </section>\n    </main>\n  )\n}\n\nexport default PageNotFound\n","import React from 'react'\nimport { Route, Switch, BrowserRouter as Router } from 'react-router-dom'\nimport './App.scss'\nimport Dashboard from './components/Dashboard'\nimport Detail from './components/Detail'\nimport Header from './components/Header'\nimport Profile from './components/Profile'\nimport PageNotFound from './components/PageNotFound'\n\nfunction App (props) {\n  return (\n    <Router>\n      <div className='container'>\n        <Header />\n\n        <div className='margin-body'>\n          <Switch>\n            <Route path='/' exact component={Dashboard} />\n            <Route path='/perfil' component={Profile} />\n            <Route path='/:genre' exact component={Dashboard} />\n            <Route path='/detalle/:poemId' exact component={Detail} />\n            <Route component={PageNotFound} />\n          </Switch>\n        </div>\n      </div>\n    </Router>\n  )\n}\n\n\nexport default App\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n)\n\nexport function register (config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href)\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config)\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          )\n        })\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config)\n      }\n    })\n  }\n}\n\nfunction registerValidSW (swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing\n        if (installingWorker == null) {\n          return\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              )\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration)\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.')\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration)\n              }\n            }\n          }\n        }\n      }\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error)\n    })\n}\n\nfunction checkValidServiceWorker (swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type')\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload()\n          })\n        })\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config)\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      )\n    })\n}\n\nexport function unregister () {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister()\n      })\n      .catch(error => {\n        console.error(error.message)\n      })\n  }\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './App'\nimport * as serviceWorker from './serviceWorker'\nimport { BrowserRouter as Router } from 'react-router-dom'\nimport { Auth0Provider } from '@auth0/auth0-react'\n\nlet redirectUri = 'http://localhost:3000/perfil'\nif (process.env.NODE_ENV === 'production') {\n  redirectUri = 'https://poemunity.com/perfil'\n}\n\nconst { REACT_APP_AUTH0_DOMAIN, REACT_APP_AUTH0_CLIENTID } = process.env\n// same as process.env.AUTH0_DOMAIN, but cleaner\n\nReactDOM.render(\n  <React.StrictMode>\n    <Router>\n      <Auth0Provider\n        domain={REACT_APP_AUTH0_DOMAIN}\n        clientId={REACT_APP_AUTH0_CLIENTID}\n        redirectUri={redirectUri}\n      >\n        <App />\n      </Auth0Provider>\n    </Router>\n  </React.StrictMode>,\n  document.getElementById('root')\n)\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister()\n"],"sourceRoot":""}