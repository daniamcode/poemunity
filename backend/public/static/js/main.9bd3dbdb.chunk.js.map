{"version":3,"sources":["components/SimpleAccordion.js","appDispatcher.js","actions/actionTypes.js","stores/poemStore.js","actions/poemActions.js","components/Ranking.jsx","components/CircularIndeterminate.js","components/List.jsx","components/Dashboard.jsx","components/Detail.jsx","components/Login.jsx","components/Logout.jsx","components/Header.jsx","components/MyPoems.jsx","components/MyFavouritePoems.jsx","components/Profile.jsx","components/PageNotFound.js","App.js","serviceWorker.js","index.js"],"names":["SimpleAccordion","Accordion","className","AccordionSummary","expandIcon","aria-controls","id","AccordionDetails","to","appDispatcher","Dispatcher","_poem","_poems","poemStore","callback","this","on","removeListener","emit","filter","poem","_id","criteria","poems","genre","user","author","name","likes","some","element","sub","sort","a","b","title","toLowerCase","length","Math","random","Date","date","data","attribute","array","prop","hasOwnProperty","object","tempSortName","push","at","bt","result","i","l","item","poemPoints","likePoints","rank","reduce","accumulator","points","userId","picture","SortObjectOfObjects","EventEmitter","dispatcher","register","action","type","actionTypes","emitChange","sortPoems","map","loadPoems","axios","get","then","dispatch","deletePoem","delete","likePoem","poemId","put","modifiedPoem","useStyles","makeStyles","table","minWidth","Ranking","classes","useState","getPoems","setPoems","getRanking","setRank","onChange","useEffect","addChangeListener","removeChangeListener","TableContainer","component","Paper","Table","aria-label","TableHead","TableRow","TableCell","align","TableBody","Object","keys","index","key","scope","src","theme","root","display","marginLeft","spacing","CircularIndeterminate","CircularProgress","color","List","props","useAuth0","isAuthenticated","isLoading","match","params","setSort","setFilter","onLike","event","preventDefault","toUpperCase","value","target","style","fontSize","fill","TextField","label","InputLabelProps","InputProps","includes","onClick","onDelete","Dashboard","Detail","getPoem","setPoem","disqusConfig","url","identifier","DiscussionEmbed","shortname","config","Login","loginWithRedirect","Logout","logout","returnTo","window","location","origin","Header","MyPoems","getPoemsByUser","MyFavouritePoems","getFavouritePoemsByUser","TabPanel","children","other","role","hidden","aria-labelledby","Box","p","Typography","a11yProps","backgroundColor","palette","background","paper","width","Profile","useTheme","React","setValue","poemContent","setPoemContent","poemTitle","setPoemTitle","poemCategory","setPoemCategory","onFieldChange","alt","onSubmit","reset","current_datetime","formattedDate","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","post","savedPoem","placeholder","required","AppBar","position","Tabs","newValue","indicatorColor","textColor","variant","Tab","axis","direction","onChangeIndex","dir","PageNotFound","App","path","exact","Boolean","hostname","redirectUri","ReactDOM","render","StrictMode","domain","clientId","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","error","console","message"],"mappings":"uXASe,SAASA,IAEtB,OACE,6BACE,kBAACC,EAAA,EAAD,CAAWC,UAAU,aACnB,kBAACC,EAAA,EAAD,CACEC,WAAY,kBAAC,IAAD,MACZC,gBAAc,kBACdC,GAAG,kBAEH,uBAAGJ,UAAU,+BAAb,kBAEF,kBAACK,EAAA,EAAD,KACE,kBAAC,IAAD,CAAML,UAAU,iCAAiCM,GAAG,YAApD,eAIF,kBAACD,EAAA,EAAD,KACE,kBAAC,IAAD,CAAML,UAAU,iCAAiCM,GAAG,YAApD,YAIF,kBAACD,EAAA,EAAD,KACE,kBAAC,IAAD,CAAML,UAAU,iCAAiCM,GAAG,SAApD,SAIF,kBAACD,EAAA,EAAD,KACE,kBAAC,IAAD,CAAML,UAAU,iCAAiCM,GAAG,gBAApD,gBAIF,kBAACD,EAAA,EAAD,KACE,kBAAC,IAAD,CAAML,UAAU,iCAAiCM,GAAG,YAApD,YAIF,kBAACD,EAAA,EAAD,KACE,kBAAC,IAAD,CAAML,UAAU,iCAAiCM,GAAG,WAApD,WAIF,kBAACD,EAAA,EAAD,KACE,kBAAC,IAAD,CAAML,UAAU,iCAAiCM,GAAG,eAApD,eAIF,kBAACD,EAAA,EAAD,KACE,kBAAC,IAAD,CAAML,UAAU,iCAAiCM,GAAG,YAApD,YAIF,kBAACD,EAAA,EAAD,KACE,kBAAC,IAAD,CAAML,UAAU,iCAAiCM,GAAG,KAApD,Y,0JCzDKC,EAHO,I,OAAIC,YCFX,EACF,YADE,EAED,aAFC,EAGA,cAHA,EAIA,cAJA,EAKF,YALE,EAMD,aCEVC,EAAQ,KACRC,EAAS,GAiHPC,EAAY,I,uKA7GhB,SAAkBC,GAChBC,KAAKC,GAPY,SAOKF,K,kCAGxB,SAAqBA,GACnBC,KAAKE,eAXY,SAWiBH,K,wBAGpC,WACEC,KAAKG,KAfY,Y,qBAkBnB,SAAQZ,GACN,OAAOA,EAAKM,EAAOO,QAAO,SAAAC,GAAI,OAAIA,EAAKC,MAAQf,KAAI,GAAKK,I,sBAI1D,SAASW,GACP,OAAKA,EAGIV,EAAOO,QAAO,SAACI,GAAD,OAAWA,EAAMC,QAAUF,KAFzCV,I,4BAMX,SAAea,GACb,OAAOb,EAAOO,QAAO,SAACI,GAAD,OAAWA,EAAMG,SAAWD,EAAKE,U,qCAGxD,SAAwBF,GACtB,OAAOb,EAAOO,QAAO,SAACI,GAAD,OAAWA,EAAMK,MAAMC,MAAK,SAACC,GAAD,OAAaA,IAAYL,EAAKM,Y,uBAGjF,SAAUC,EAAMT,GAqBd,MApBa,WAATS,GACFT,EAAMS,MAAK,SAAUC,EAAGC,GACtB,OAAID,EAAEE,MAAMC,cAAgBF,EAAEC,MAAMC,eAAuB,EACvDH,EAAEE,MAAMC,cAAgBF,EAAEC,MAAMC,cAAsB,EACnD,KAGE,UAATJ,GACFT,EAAMS,MAAK,SAAUC,EAAGC,GACtB,OAAOA,EAAEN,MAAMS,OAASJ,EAAEL,MAAMS,UAGvB,cAATL,GACFT,EAAMS,MAAK,kBAAMM,KAAKC,SAAW,MAEtB,UAATP,GACFT,EAAMS,MAAK,SAAUC,EAAGC,GACtB,OAAO,IAAIM,KAAKN,EAAEO,MAAQ,IAAID,KAAKP,EAAEQ,SAGlClB,I,iCAGT,SAAoBmB,EAAMC,GACxB,IAAIC,EAAQ,GACZ,IAAK,IAAIC,KAAQH,EACb,GAAIA,EAAKI,eAAeD,GAAO,CAC3B,IAAIE,EAAS,GACbA,EAAOF,GAAQH,EAAKG,GACpBE,EAAOC,aAAeN,EAAKG,GAAMF,GACjCC,EAAMK,KAAKF,GAInBH,EAAMZ,MAAK,SAASC,EAAGC,GACnB,IAAIgB,EAAKjB,EAAEe,aACPG,EAAKjB,EAAEc,aACX,OAAOE,EAAKC,GAAM,EAAMD,EAAKC,EAAK,EAAI,KAI1C,IADA,IAAIC,EAAS,GACJC,EAAE,EAAGC,EAAEV,EAAMP,OAAQgB,EAAEC,EAAGD,IAAK,CACpC,IAAIN,EAASH,EAAMS,GAEnB,IAAK,IAAIR,YADFE,EAAOC,aACGD,EACb,GAAIA,EAAOD,eAAeD,GACtB,IAAIvC,EAAKuC,EAGjB,IAAIU,EAAOR,EAAOzC,GAClB8C,EAAOH,KAAKM,GAEhB,OAAOH,I,wBAGT,SAAW7B,EAAOiC,EAAYC,GAC5B,IAAIC,EAAOnC,EAAMoC,QAAO,SAAUC,EAAaL,GAAO,IAAD,EAEjDM,IAAU,UAAAD,EAAYL,EAAKO,eAAjB,eAA0BD,SAAU,GAAKL,EAAcC,EAAaF,EAAK3B,MAAMS,OAQ3F,OANAuB,EAAYL,EAAKO,QAAU,CACzBpC,OAAQ6B,EAAK7B,OACbqC,QAASR,EAAKQ,QACdF,UAGKD,IACN,IAIH,OAFAF,EAAO3C,KAAKiD,oBAAoBN,EAAM,c,GAxGlBO,iBA+GxBC,EAAWC,UAAS,SAACC,GACnB,OAAQA,EAAOC,MACb,KAAKC,EACH3D,EAAQyD,EAAO1B,KACf7B,EAAU0D,aACV,MACF,KAAKD,EACH1D,EAASC,EAAU2D,UAAU,QAASJ,EAAO1B,MAC7C7B,EAAU0D,aACV,MACF,KAAKD,EACH1D,EAAM,sBAAOA,GAAP,gBACDwD,EAAO1B,QAEZ7B,EAAU0D,aACV,MACF,KAAKD,EACH1D,EAASA,EAAOO,QAAO,SAACC,GAAD,OAAUA,EAAKC,MAAQ+C,EAAO1B,KAAKrB,OAC1DR,EAAU0D,aACV,MACF,KAAKD,EACH1D,EAASA,EAAO6D,KAAI,SAACrD,GAInB,OAHIA,EAAKC,MAAQ+C,EAAO1B,KAAKrB,MAC3BD,EAAKQ,MAAQwC,EAAO1B,KAAKd,OAEpBR,KAETT,EAAQyD,EAAO1B,KACf7B,EAAU0D,aACV,MACF,KAAKD,EACKF,EAAO1B,KACf9B,EAASC,EAAU2D,UAAUJ,EAAO1B,KAAM9B,GAC1CC,EAAU0D,iBAOD1D,Q,iBC/JR,SAAS6D,IACd,OAAOC,IAAMC,IAAI,cAAcC,MAAK,SAACtD,GACnC2C,EAAWY,SAAS,CAClBT,KAAMC,EACN5B,KAAMnB,EAAMmB,UAuBX,SAASqC,EAAW1D,GACzB,OAAOsD,IAAMK,OAAN,qBAA2B3D,IAAOwD,MAAK,WAC5CX,EAAWY,SAAS,CAClBT,KAAMC,EACN5B,KAAM,CACJrB,YAMD,SAAS4D,EAASC,EAAQpB,GAC/B,OAAOa,IAAMQ,IAAN,qBAAwBD,GAAU,CACvCpB,WACCe,MAAK,SAACO,GACPlB,EAAWY,SAAS,CAClBT,KAAMC,EACN5B,KAAM0C,EAAa1C,UCnCzB,IAAM2C,EAAYC,YAAW,CAC3BC,MAAO,CACLC,SAAU,MAIC,SAASC,IACtB,IAAMC,EAAUL,IADgB,EAKNM,mBAAS9E,EAAU+E,YALb,mBAKzBrE,EALyB,KAKlBsE,EALkB,OAMRF,mBAAS9E,EAAUiF,WAAWvE,EAJnC,EACA,IAHa,mBAMzBmC,EANyB,KAMnBqC,EANmB,KAiBhC,SAASC,IACPH,EAAShF,EAAU+E,YACnBG,EAAQlF,EAAUiF,WAAWvE,EAjBZ,EACA,IAmBnB,OAdA0E,qBAAU,WAMR,OALApF,EAAUqF,kBAAkBF,GACP,IAAjBzE,EAAMc,OAAcqC,IAEtBsB,IAEK,kBAAMnF,EAAUsF,qBAAqBH,MAC3C,CAACzE,EAAMc,QAASqB,GAQjB,oCAEA,0BAAMxD,UAAU,WAChB,wBAAIA,UAAU,kBAAd,qBACA,wBAAIA,UAAU,qBAAd,kCACA,kBAACkG,EAAA,EAAD,CAAgBlG,UAAU,gBAAgBmG,UAAWC,KACnD,kBAACC,EAAA,EAAD,CAAOrG,UAAWwF,EAAQH,MAAOiB,aAAW,gBAC1C,kBAACC,EAAA,EAAD,KACE,kBAACC,EAAA,EAAD,KACE,kBAACC,EAAA,EAAD,CAAWC,MAAM,UAAjB,UACA,kBAACD,EAAA,EAAD,CAAWC,MAAM,UAAjB,YAGJ,kBAACC,EAAA,EAAD,KACCC,OAAOC,KAAKrD,GAAMe,KAAI,SAAC3C,EAASkF,GAAV,OACnB,kBAACN,EAAA,EAAD,CAAUO,IAAKD,GACb,kBAACL,EAAA,EAAD,CAAWzG,UAAU,6BAA6B0G,MAAM,SAASP,UAAU,KAAKa,MAAM,OACnF,yBAAKhH,UAAU,yBACd,yBAAKA,UAAU,mBAAmBiH,IAAKzD,EAAK5B,GAASiC,UACrD,uBAAG7D,UAAU,gCAAgCwD,EAAK5B,GAASJ,UAG/D,kBAACiF,EAAA,EAAD,CAAWzG,UAAU,kBAAkB0G,MAAM,UAAUlD,EAAK5B,GAAS+B,iB,sFC5D7EwB,GAAYC,aAAW,SAAC8B,GAAD,MAAY,CACvCC,KAAM,CACJC,QAAS,OACT,YAAa,CACXC,WAAYH,EAAMI,QAAQ,SAKjB,SAASC,KACtB,IAAM/B,EAAUL,KAEhB,OACE,yBAAKnF,UAAWwF,EAAQ2B,MACtB,kBAACK,GAAA,EAAD,CAAkBC,MAAM,eC8KfC,OA5Kf,SAAcC,GAAQ,IAAD,EAC0BC,eAArCrG,EADW,EACXA,KAAMsG,EADK,EACLA,gBAAiBC,EADZ,EACYA,UACzBxG,EAAQqG,EAAMI,MAAMC,OAAO1G,MAFd,EAGOmE,mBAAS9E,EAAU+E,SAASpE,IAHnC,mBAGZD,EAHY,KAGLsE,EAHK,OAIKF,mBAAS,SAJd,mBAIZ3D,EAJY,KAINmG,EAJM,OAKSxC,mBAAS,IALlB,mBAKZxE,EALY,KAKJiH,EALI,KAgBnB,SAASpC,IACPH,EAAShF,EAAU+E,SAASpE,IAQ9B,SAAS6G,EAAOC,EAAOpD,EAAQpB,GAC7BwE,EAAMC,iBACNtD,EAASC,EAAQpB,GAgBnB,OApCAmC,qBAAU,WAMR,OALApF,EAAUqF,kBAAkBF,GACP,IAAjBzE,EAAMc,OAAcqC,IAEtBsB,IAEK,kBAAMnF,EAAUsF,qBAAqBH,MAC3C,CAACzE,EAAMc,OAAQb,EAAOQ,IA6BrBgG,EACK,kBAAC,GAAD,MAIP,oCACE,yBAAK9H,UAAU,mBACb,yBAAKA,UAAU,gBACXsB,GACA,uBAAGtB,UAAU,sBAAb,mCAEDsB,GACC,uBAAGtB,UAAU,sBAAb,iBACcsB,EAAMgH,eAGtB,yBAAKtI,UAAU,cACf,0BAAMA,UAAU,cACd,sDAEE,4BACEmE,KAAK,SACL/D,GAAG,OACHqB,KAAK,OACLqE,SAAU,SAACsC,GA5BzB,IAAuBG,EHNMnH,EGMNmH,EA6BOH,EAAMI,OAAOD,MAAON,EA5BvCM,GHPkBnH,EGoCEgH,EAAMI,OAAOD,MHnC5CvE,EAAWY,SAAS,CAClBT,KAAMC,EACN5B,KAAMpB,MGoCM,4BAAQmH,MAAM,SAAd,SACA,4BAAQA,MAAM,SAAd,SACA,4BAAQA,MAAM,aAAd,aACA,4BAAQA,MAAM,UAAd,gBAIN,yBAAKvI,UAAU,gBACb,kBAAC,IAAD,CAAYyI,MAAO,CAAEC,SAAU,GAAIC,KAAM,aACzC,kBAACC,EAAA,EAAD,CACEC,MAAM,eACNC,gBAAiB,CACfL,MAAO,CAAEhB,MAAO,YAElBsB,WAAY,CACVN,MAAO,CAAEhB,MAAO,YAElB3B,SAtDe,SAACsC,GAC1BF,EAAUE,EAAMI,OAAOD,YA0DlBlH,EAAMkD,KAAI,SAACrD,GAAD,OACT,0BAAM6F,IAAK7F,EAAKC,IAAKnB,UAAU,gBAC5BkB,EAAKM,OAAOwH,SAAS/H,IACpB,6BAASjB,UAAU,eACjB,iCACE,kBAAC,IAAD,CAAMM,GAAE,mBAAcY,EAAKC,KAAOnB,UAAU,eACzCkB,EAAKe,OAER,yBAAKjC,UAAU,0BACf,yBAAKA,UAAU,gBAAgBiH,IAAK/F,EAAK2C,UACzC,uBAAG7D,UAAU,gBAAgBkB,EAAKM,SAElC,yBAAKxB,UAAU,cAAckB,EAAKqB,OAEpC,iCACE,yBAAKvC,UAAU,gCACZkB,EAAKA,MAER,yBAAKlB,UAAU,oBACb,kBAAC,IAAD,CACEM,GAAE,mBAAcY,EAAKC,KACrBnB,UAAU,oBAnFZ,iBAyFJ,6BAASA,UAAU,gBACM,IAAtBkB,EAAKQ,MAAMS,QACV,yBAAKnC,UAAU,eACZkB,EAAKQ,MAAMS,OADd,IA7FL,QAiG0B,IAAtBjB,EAAKQ,MAAMS,QACV,yBAAKnC,UAAU,eACZkB,EAAKQ,MAAMS,OADd,IAjGJ,SAqGE,yBAAKnC,UAAU,cACd6H,GACC3G,EAAKM,SAAWD,EAAKE,MACrBP,EAAKQ,MAAMC,MAAK,SAACvB,GAAD,OAAQA,IAAOmB,EAAKM,QAClC,kBAAC,IAAD,CACE7B,UAAU,mBACViJ,QAAS,SAACb,GAAD,OAAWD,EAAOC,EAAOlH,EAAKC,IAAKI,EAAKM,QAGtDgG,GACC3G,EAAKM,SAAWD,EAAKE,OACpBP,EAAKQ,MAAMC,MAAK,SAACvB,GAAD,OAAQA,IAAOmB,EAAKM,QACnC,kBAAC,IAAD,CACE7B,UAAU,qBACViJ,QAAS,SAACb,GAAD,OAAWD,EAAOC,EAAOlH,EAAKC,IAAKI,EAAKM,QAGtDgG,IACE3G,EAAKM,SAAWD,EAAKE,MArH1B,wCAqHkCF,EAAKM,MACjC,kBAAC,IAAD,CACE7B,UAAU,oBACVyI,MAAO,CAAEE,KAAM,OACfM,QAAS,SAACb,GAAD,OAtI/B,SAAkBA,EAAOpD,GACvBoD,EAAMC,iBACNxD,EAAWG,GAoI6BkE,CAASd,EAAOlH,EAAKC,QAG/C,kBAAC,IAAD,CACEb,GAAE,mBAAcY,EAAKC,KACrBnB,UAAU,uBAEV,kBAAC,KAAD,CAAkByI,MAAO,CAAEE,KAAM,oBC5JtCQ,OAff,SAAmBxB,GACjB,OACE,0BAAM3H,UAAU,aACd,yBAAKA,UAAU,wBACf,kBAAC,EAAD,OAEA,yBAAKA,UAAU,mBACf,kBAAC,GAAS2H,IAEV,yBAAK3H,UAAU,sBACf,kBAAC,EAAD,S,2BC0HSoJ,OAhIf,SAAgBzB,GAAQ,IAAD,EACwBC,eAArCrG,EADa,EACbA,KAAMsG,EADO,EACPA,gBAAiBC,EADV,EACUA,UADV,EAEGrC,mBACtB9E,EAAU0I,QAAQ1B,EAAMI,MAAMC,OAAOhD,SAHlB,mBAEd9D,EAFc,KAERoI,EAFQ,KAkBrB,SAASxD,IACPwD,EAAQ3I,EAAU0I,WAQpB,SAASlB,EAAOC,EAAOpD,EAAQpB,GAC7BwE,EAAMC,iBACNtD,EAASC,EAAQpB,GAOnB,GA9BAmC,qBAAU,WLPL,IAAkB5E,EKcrB,OANAR,EAAUqF,kBAAkBF,GAEvB5E,ILVgBC,EKWVwG,EAAMI,MAAMC,OAAOhD,OLVzBP,IAAMC,IAAN,qBAAwBvD,IAAOwD,MAAK,SAACzD,GAC1C8C,EAAWY,SAAS,CAClBT,KAAMC,EACN5B,KAAMtB,EAAKsB,WKUN,WACL7B,EAAUsF,qBAAqBH,MAEhC,CAAC5E,IAoBA4G,EACF,OAAO,kBAAC,GAAD,MAGT,IACMyB,EAAe,CACnBC,IAAI,iCAAD,OAAmC7B,EAAMI,MAAMC,OAAOhD,QACzDyE,WAAW,iCAAD,OAAmC9B,EAAMI,MAAMC,OAAOhD,QAChE/C,MAAO,yBAGT,OACE,qCACIf,GACA,0BAAMlB,UAAU,6BACd,6BAASA,UAAU,2BACjB,wBAAIA,UAAU,yBAAd,eACA,uBAAGA,UAAU,wBAAb,uBACA,kBAAC,IAAD,CAAMA,UAAU,uBAAuBM,GAAG,KAA1C,uBAMLY,GAAQA,EAAKQ,OACZ,0BAAM1B,UAAU,gBACd,6BAASA,UAAU,eACjB,iCACE,wBAAIA,UAAU,eAAekB,EAAKe,OAClC,yBAAKjC,UAAU,0BACb,yBAAKA,UAAU,gBAAgBiH,IAAK/F,EAAK2C,UACzC,uBAAG7D,UAAU,gBAAgBkB,EAAKM,SAEpC,yBAAKxB,UAAU,cAAckB,EAAKqB,OAEpC,iCACE,yBAAKvC,UAAU,iBAAiBkB,EAAKA,OAEvC,6BACA,6BAASlB,UAAU,gBACM,IAAtBkB,EAAKQ,MAAMS,QACV,yBAAKnC,UAAU,eACZkB,EAAKQ,MAAMS,OADd,IA7CD,QAiDsB,IAAtBjB,EAAKQ,MAAMS,QACV,yBAAKnC,UAAU,eACZkB,EAAKQ,MAAMS,OADd,IAjDA,SAqDF,yBAAKnC,UAAU,cACd6H,GACC3G,EAAKM,SAAWD,EAAKE,MACrBP,EAAKQ,MAAMC,MAAK,SAACvB,GAAD,OAAQA,IAAOmB,EAAKM,QAClC,kBAAC,IAAD,CACE7B,UAAU,mBACViJ,QAAS,SAACb,GAAD,OAAWD,EAAOC,EAAOlH,EAAKC,IAAKI,EAAKM,QAGtDgG,GACC3G,EAAKM,SAAWD,EAAKE,OACpBP,EAAKQ,MAAMC,MAAK,SAACvB,GAAD,OAAQA,IAAOmB,EAAKM,QACnC,kBAAC,IAAD,CACE7B,UAAU,qBACViJ,QAAS,SAACb,GAAD,OAAWD,EAAOC,EAAOlH,EAAKC,IAAKI,EAAKM,QAGtDgG,IACE3G,EAAKM,SAAWD,EAAKE,MAtEtB,wCAsE8BF,EAAKM,MACjC,kBAAC,IAAD,CACE7B,UAAU,oBACVyI,MAAO,CAAEE,KAAM,OACfM,QAAS,SAACb,GAAD,OAtF3B,SAAkBA,EAAOpD,GACvBoD,EAAMC,iBACNxD,EAAWG,GAoFyBkE,CAASd,EAAOlH,EAAKC,QAG/C,kBAAC,IAAD,CAAMb,GAAE,mBAAcY,EAAKC,KAAOnB,UAAU,uBAC1C,kBAAC,KAAD,CAAkByI,MAAO,CAAEE,KAAM,aAIvC,yBAAK3I,UAAU,qBACb,kBAAC,KAAO0J,gBAAR,CACEC,UA9EY,YA+EZC,OAAQL,QC3HPM,GAND,WAAO,IACXC,EAAsBlC,eAAtBkC,kBAER,OAAO,4BAAQ9J,UAAU,gBAAgBiJ,QAAS,kBAAMa,QCM3CC,GATA,WAAO,IACZC,EAAWpC,eAAXoC,OAER,OACE,4BAAQhK,UAAU,iBAAiBiJ,QAAS,kBAAMe,EAAO,CAAEC,SAAUC,OAAOC,SAASC,aCkC1EC,OA/Bf,WAAmB,IAAD,EACuBzC,eAA/BC,EADQ,EACRA,gBAER,OAHgB,EACSC,UAGhB,kBAAC,GAAD,MAGP,oCACE,6BAAS9H,UAAU,UACjB,yBAAKA,UAAU,oBACb,kBAAC,EAAD,OAEF,yBAAKA,UAAU,gBACb,kBAAC,IAAD,CAAMM,GAAG,IAAIN,UAAU,2BAAvB,KAGA,kBAAC,IAAD,CAAMM,GAAG,IAAIN,UAAU,sBACvB,kBAAC,IAAD,CAAMM,GAAG,IAAIN,UAAU,4BAAvB,YAIJ,yBAAKA,UAAU,cACZ6H,EAAkB,kBAAC,IAAD,CAAMvH,GAAG,UAAUN,UAAU,oBAA4B,qCAC3E6H,EAAkB,kBAAC,GAAD,MAAmB,kBAAC,GAAD,S,iGC+F/ByC,OAlHf,SAAiB3C,GAAQ,IAAD,EACuBC,eAArCrG,EADc,EACdA,KAAMsG,EADQ,EACRA,gBAAiBC,EADT,EACSA,UADT,EAGIrC,mBAAS9E,EAAU4J,eAAehJ,IAHtC,mBAGfF,EAHe,KAGRsE,EAHQ,OAKMF,mBAAS,IALf,mBAKfxE,EALe,KAKPiH,EALO,KAiBtB,SAASpC,IACLH,EAAShF,EAAU4J,eAAehJ,IAgBtC,OA3BAwE,qBAAU,WAMR,OALApF,EAAUqF,kBAAkBF,GACP,IAAjBzE,EAAMc,OAAcqC,IAEtBsB,IAEK,kBAAMnF,EAAUsF,qBAAqBH,MAC3C,CAACzE,EAAMc,SAoBN2F,EACK,kBAAC,GAAD,MAIP,oCACE,yBAAK9H,UAAU,qBACb,yBAAKA,UAAU,cACf,yBAAKA,UAAU,eAGb,kBAAC,IAAD,CAAYyI,MAAO,CAAEC,SAAU,GAAIC,KAAM,aACzC,kBAACC,EAAA,EAAD,CACEC,MAAM,eACNC,gBAAiB,CACfL,MAAO,CAAEhB,MAAO,YAElBsB,WAAY,CACVN,MAAO,CAAEhB,MAAO,YAElB3B,SAxBiB,SAACsC,GAC1BF,EAAUE,EAAMI,OAAOD,YA2BpBlH,EAAMkD,KAAI,SAACrD,GAAD,OACT,0BAAM6F,IAAK7F,EAAKC,IAAKnB,UAAU,gBAC5BkB,EAAKM,OAAOwH,SAAS/H,IACpB,6BAASjB,UAAU,eACjB,iCACE,kBAAC,IAAD,CAAMM,GAAE,mBAAcY,EAAKC,KAAOnB,UAAU,eACzCkB,EAAKe,OAER,uBAAGjC,UAAU,gBAAgBkB,EAAKM,QAClC,yBAAKxB,UAAU,cAAckB,EAAKqB,OAEpC,iCACE,yBAAKvC,UAAU,gCAAgCkB,EAAKA,MACpD,yBAAKlB,UAAU,oBACb,kBAAC,IAAD,CACEM,GAAE,mBAAcY,EAAKC,KACrBnB,UAAU,oBA9CV,iBAoDN,6BAASA,UAAU,gBACI,IAAtBkB,EAAKQ,MAAMS,QACV,yBAAKnC,UAAU,eACZkB,EAAKQ,MAAMS,OADd,IAxDD,QA4DwB,IAAtBjB,EAAKQ,MAAMS,QACZ,yBAAKnC,UAAU,eACZkB,EAAKQ,MAAMS,OADd,IA5DA,SAgEA,yBAAKnC,UAAU,cACd6H,GACD3G,EAAKM,SAAWD,EAAKE,MACnB,kBAAC,IAAD,CACEzB,UAAU,oBACVyI,MAAO,CAAEE,KAAM,OACfM,QAAS,SAACb,GAAD,OA5E3B,SAAkBA,EAAOpD,GACvBoD,EAAMC,iBACNxD,EAAWG,GA0EyBkE,CAASd,EAAOlH,EAAKC,QAG7C,kBAAC,IAAD,CACEb,GAAE,mBAAcY,EAAKC,KACrBnB,UAAU,uBAEV,kBAAC,KAAD,CAAkByI,MAAO,CAAEE,KAAM,mBC8BpC6B,OAtIf,SAA0B7C,GAAQ,IAAD,EACcC,eAArCrG,EADuB,EACvBA,KAAMsG,EADiB,EACjBA,gBAAiBC,EADA,EACAA,UADA,EAGLrC,mBAAS9E,EAAU4J,eAAehJ,IAH7B,mBAGxBF,EAHwB,KAGjBsE,EAHiB,OAKHF,mBAAS,IALN,mBAKxBxE,EALwB,KAKhBiH,EALgB,KAgB/B,SAASpC,IACPH,EAAShF,EAAU8J,wBAAwBlJ,IAQ7C,SAAS4G,EAAOC,EAAOpD,EAAQpB,GAC7BwE,EAAMC,iBACNtD,EAASC,EAAQpB,GAWnB,OA/BAmC,qBAAU,WAMR,OALApF,EAAUqF,kBAAkBF,GACP,IAAjBzE,EAAMc,OAAcqC,IAEtBsB,IAEK,kBAAMnF,EAAUsF,qBAAqBH,MAC3C,CAACzE,EAAMc,SAwBN2F,EACK,kBAAC,GAAD,MAIP,oCACE,yBAAK9H,UAAU,qBACb,yBAAKA,UAAU,cACf,yBAAKA,UAAU,eACb,kBAAC,IAAD,CAAYyI,MAAO,CAAEC,SAAU,GAAIC,KAAM,aACzC,kBAACC,EAAA,EAAD,CACEC,MAAM,eACNC,gBAAiB,CACfL,MAAO,CAAEhB,MAAO,YAElBsB,WAAY,CACVN,MAAO,CAAEhB,MAAO,YAElB3B,SAtBiB,SAACsC,GAC1BF,EAAUE,EAAMI,OAAOD,YAyBpBlH,EAAMkD,KAAI,SAACrD,GAAD,OACT,0BAAM6F,IAAK7F,EAAKC,IAAKnB,UAAU,gBAC5BkB,EAAKM,OAAOwH,SAAS/H,IACpB,6BAASjB,UAAU,eACjB,iCACE,kBAAC,IAAD,CAAMM,GAAE,mBAAcY,EAAKC,KAAOnB,UAAU,eACzCkB,EAAKe,OAER,yBAAKjC,UAAU,0BACb,yBAAKA,UAAU,gBAAgBiH,IAAK/F,EAAK2C,UACzC,uBAAG7D,UAAU,gBAAgBkB,EAAKM,SAEpC,yBAAKxB,UAAU,cAAckB,EAAKqB,OAEpC,iCACE,yBAAKvC,UAAU,gCAAgCkB,EAAKA,MACpD,yBAAKlB,UAAU,oBACb,kBAAC,IAAD,CACEM,GAAE,mBAAcY,EAAKC,KACrBnB,UAAU,oBA/CV,iBAqDN,6BAASA,UAAU,gBACM,IAAtBkB,EAAKQ,MAAMS,QACV,yBAAKnC,UAAU,eACZkB,EAAKQ,MAAMS,OADd,IAzDH,QA6DwB,IAAtBjB,EAAKQ,MAAMS,QACV,yBAAKnC,UAAU,eACZkB,EAAKQ,MAAMS,OADd,IA7DF,SAiEA,yBAAKnC,UAAU,cACd6H,GACC3G,EAAKM,SAAWD,EAAKE,MACrBP,EAAKQ,MAAMC,MAAK,SAACvB,GAAD,OAAQA,IAAOmB,EAAKM,QAClC,kBAAC,IAAD,CACE7B,UAAU,mBACViJ,QAAS,SAACb,GAAD,OAAWD,EAAOC,EAAOlH,EAAKC,IAAKI,EAAKM,QAGtDgG,GACC3G,EAAKM,SAAWD,EAAKE,OACpBP,EAAKQ,MAAMC,MAAK,SAACvB,GAAD,OAAQA,IAAOmB,EAAKM,QACnC,kBAAC,IAAD,CACE7B,UAAU,qBACViJ,QAAS,SAACb,GAAD,OAAWD,EAAOC,EAAOlH,EAAKC,IAAKI,EAAKM,QAGtDgG,GAAmB3G,EAAKM,SAAWD,EAAKE,MACvC,kBAAC,IAAD,CACEzB,UAAU,oBACVyI,MAAO,CAAEE,KAAM,OACfM,QAAS,SAACb,GAAD,OAjG3B,SAAkBA,EAAOpD,GACvBoD,EAAMC,iBACNxD,EAAWG,GA+FyBkE,CAASd,EAAOlH,EAAKC,QAG7C,kBAAC,IAAD,CACEb,GAAE,mBAAcY,EAAKC,KACrBnB,UAAU,uBAEV,kBAAC,KAAD,CAAkByI,MAAO,CAAEE,KAAM,mBCzHnD,SAAS+B,GAAS/C,GAAQ,IAChBgD,EAAqChD,EAArCgD,SAAUpC,EAA2BZ,EAA3BY,MAAOzB,EAAoBa,EAApBb,MAAU8D,EADZ,aACsBjD,EADtB,8BAGvB,OACE,uCACEkD,KAAK,WACLC,OAAQvC,IAAUzB,EAClB1G,GAAE,8BAAyB0G,GAC3BiE,kBAAA,yBAAmCjE,IAC/B8D,GAEHrC,IAAUzB,GACT,kBAACkE,GAAA,EAAD,CAAKC,EAAG,GACN,kBAACC,GAAA,EAAD,KAAaP,KAavB,SAASQ,GAAUrE,GACjB,MAAO,CACL1G,GAAG,kBAAD,OAAoB0G,GACtB,gBAAgB,uBAAhB,OAAwCA,IAI1B1B,aAAW,SAAC8B,GAAD,MAAY,CACvCC,KAAM,CACJiE,gBAAiBlE,EAAMmE,QAAQC,WAAWC,MAC1CC,MAAO,SAII,SAASC,GAAQ9D,GAC9B,IAAMT,EAAQwE,eADuB,EAEXC,IAAMlG,SAAS,GAFJ,mBAE9B8C,EAF8B,KAEvBqD,EAFuB,OAIDnG,mBAAS,IAJR,mBAIhCoG,EAJgC,KAInBC,EAJmB,OAKLrG,mBAAS,IALJ,mBAKhCsG,EALgC,KAKrBC,EALqB,OAMCvG,mBAAS,IANV,mBAMhCwG,EANgC,KAMlBC,EANkB,OAQQtE,eAArCrG,EAR6B,EAQ7BA,KAAMsG,EARuB,EAQvBA,gBAEd,GAVqC,EAQNC,UAG7B,OAAO,kBAAC,GAAD,MAWT,SAASqE,EAAc5D,EAAOqD,GAC5BA,EAASrD,GAoCX,OACEV,GACE,0BAAM7H,UAAU,iBACd,6BAASA,UAAU,kBACjB,0CAAgBuB,EAAKE,OAEvB,6BAASzB,UAAU,kBACjB,yBACEA,UAAU,iBACViH,IAAK1F,EAAKsC,QACVuI,IAAK7K,EAAKE,OAEZ,yBAAKzB,UAAU,0BACb,yBAAKA,UAAU,wBACb,uBAAGA,UAAU,8BAAb,sBACA,6BACA,0BACEA,UAAU,4BACVqM,SAnDd,SAAsBjE,GACpBA,EAAMC,iBACND,EAAMI,OAAO8D,QAEb,IXlEqBpL,EWkEjBqL,EAAmB,IAAIjK,KACvBkK,EACFD,EAAiBE,cACjB,KACCF,EAAiBG,WAAa,GAC/B,IACAH,EAAiBI,UACjB,IACAJ,EAAiBK,WACjB,IACAL,EAAiBM,aACjB,IACAN,EAAiBO,aX9EE5L,EWgFZ,CACP0C,OAAQrC,EAAKM,IACbL,OAAQD,EAAKE,KACboC,QAAStC,EAAKsC,QACd3C,KAAM2K,EACN5J,MAAO8J,EACPzK,MAAO2K,EACPvK,MAAO,GACPa,KAAMiK,GXvFH/H,IAAMsI,KAAK,aAAc7L,GAAMyD,MAAK,SAACqI,GAC1ChJ,EAAWY,SAAS,CAClBT,KAAMC,EACN5B,KAAMwK,EAAUxK,UWsFlBsJ,EAAe,IACfE,EAAa,IACbE,EAAgB,MAuBJ,yBAAKlM,UAAU,+BACb,2BAAOA,UAAU,8BAAjB,cAEE,2BACEA,UAAU,6BACViN,YAAY,YACZxL,KAAK,QACLyL,UAAQ,EACR3E,MAAOwD,EACPjG,SAAU,SAACsC,GAAD,OACR+D,EAAc/D,EAAMI,OAAOD,MAAOyD,OAIxC,2BAAOhM,UAAU,8BAAjB,iBAEE,4BACEA,UAAU,6BACVI,GAAG,WACHqB,KAAK,WACLyL,UAAQ,EACRpH,SAAU,SAACsC,GACT+D,EAAc/D,EAAMI,OAAOD,MAAO2D,KAIpC,4BAAQ3D,MAAM,IAAd,eACA,4BAAQA,MAAM,WAAd,cACA,4BAAQA,MAAM,WAAd,WACA,4BAAQA,MAAM,QAAd,QACA,4BAAQA,MAAM,eAAd,eACA,4BAAQA,MAAM,WAAd,WACA,4BAAQA,MAAM,UAAd,UACA,4BAAQA,MAAM,cAAd,cACA,4BAAQA,MAAM,WAAd,cAIN,6BACE,8BACEvI,UAAU,qBACVI,GAAG,OACHqB,KAAK,OACLyL,UAAQ,EACRD,YAAY,2BACZ1E,MAAOsD,EACP/F,SAAU,SAACsC,GAAD,OACR+D,EAAc/D,EAAMI,OAAOD,MAAOuD,OAKxC,4BAAQ9L,UAAU,qBAAqBmE,KAAK,UAA5C,cAOR,6BAASnE,UAAU,kBACjB,yBAAKA,UAAU,iBACb,kBAACmN,GAAA,EAAD,CAAQC,SAAS,SAAS3F,MAAM,WAC9B,kBAAC4F,GAAA,EAAD,CACE9E,MAAOA,EACPzC,SAjIO,SAACsC,EAAOkF,GAC3B1B,EAAS0B,IAiIGC,eAAe,UACfC,UAAU,UACVC,QAAQ,YACRnH,aAAW,2BAEX,kBAACoH,GAAA,EAAD,eAAK7E,MAAM,cAAiBsC,GAAU,KACtC,kBAACuC,GAAA,EAAD,eAAK7E,MAAM,wBAA2BsC,GAAU,OAGpD,kBAAC,KAAD,CACEwC,KAA0B,QAApBzG,EAAM0G,UAAsB,YAAc,IAChD9G,MAAOyB,EACPsF,cA1Ic,SAAC/G,GACzB8E,EAAS9E,KA2IC,kBAAC4D,GAAD,CACE1K,UAAU,mBACVuI,MAAOA,EACPzB,MAAO,EACPgH,IAAK5G,EAAM0G,WAEX,kBAAC,GAAD,OAEF,kBAAClD,GAAD,CACE1K,UAAU,mBACVuI,MAAOA,EACPzB,MAAO,EACPgH,IAAK5G,EAAM0G,WAEX,kBAAC,GAAD,WCrNDG,OAZf,SAAsBpG,GACrB,OACC,0BAAM3H,UAAU,6BACN,6BAASA,UAAU,2BAC5B,wBAAIA,UAAU,yBAAd,eACA,uBAAGA,UAAU,wBAAb,uBACA,kBAAC,IAAD,CAAMA,UAAU,uBAAuBM,GAAG,KAA1C,wBC6BY0N,OA9Bf,SAAarG,GACX,OACD,kBAAC,IAAD,KACA,yBAAK3H,UAAU,aACT,kBAAC,GAAD,MAEF,yBAAKA,UAAU,eAEjB,kBAAC,IAAD,KACC,kBAAC,IAAD,CAAOiO,KAAK,IAAIC,OAAK,EAAC/H,UAAWgD,KACjC,kBAAC,IAAD,CAAO8E,KAAK,UAAU9H,UAAWsF,KACjC,kBAAC,IAAD,CAAOwC,KAAK,UAAUC,OAAK,EAAC/H,UAAWgD,KAC/B,kBAAC,IAAD,CAAO8E,KAAK,WAAWC,OAAK,EAAC/H,UAAWgD,KACxC,kBAAC,IAAD,CAAO8E,KAAK,WAAWC,OAAK,EAAC/H,UAAWgD,KACxC,kBAAC,IAAD,CAAO8E,KAAK,QAAQC,OAAK,EAAC/H,UAAWgD,KACrC,kBAAC,IAAD,CAAO8E,KAAK,eAAeC,OAAK,EAAC/H,UAAWgD,KAC5C,kBAAC,IAAD,CAAO8E,KAAK,WAAWC,OAAK,EAAC/H,UAAWgD,KACxC,kBAAC,IAAD,CAAO8E,KAAK,UAAUC,OAAK,EAAC/H,UAAWgD,KAC/C,kBAAC,IAAD,CAAO8E,KAAK,cAAcC,OAAK,EAAC/H,UAAWgD,KACnC,kBAAC,IAAD,CAAO8E,KAAK,WAAWC,OAAK,EAAC/H,UAAWgD,KAChD,kBAAC,IAAD,CAAO8E,KAAK,mBAAmBC,OAAK,EAAC/H,UAAWiD,KAChD,kBAAC,IAAD,CAAOjD,UAAW4H,UCnBFI,QACW,cAA7BjE,OAAOC,SAASiE,UAEe,UAA7BlE,OAAOC,SAASiE,UAEhBlE,OAAOC,SAASiE,SAASrG,MACvB,2DCVN,IAAIsG,GAAc,wBAEhBA,GAAc,+BAKhBC,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAAC,IAAD,KACG,kBAAC,KAAD,CACHC,OAAO,4BACPC,SAAS,mCACTL,YAAaA,IAEd,kBAAC,GAAD,SAIDM,SAASC,eAAe,SDwGpB,kBAAmBC,WACrBA,UAAUC,cAAcC,MACrBpK,MAAK,SAAAqK,GACJA,EAAaC,gBAEdC,OAAM,SAAAC,GACLC,QAAQD,MAAMA,EAAME,a","file":"static/js/main.9bd3dbdb.chunk.js","sourcesContent":["import React from 'react';\nimport Accordion from '@material-ui/core/Accordion';\nimport AccordionSummary from '@material-ui/core/AccordionSummary';\nimport AccordionDetails from '@material-ui/core/AccordionDetails';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport \"./Header.scss\";\nimport { Link } from \"react-router-dom\";\n\n\nexport default function SimpleAccordion() {  \n\n  return (\n    <div>\n      <Accordion className=\"accordion\">\n        <AccordionSummary\n          expandIcon={<ExpandMoreIcon />}\n          aria-controls=\"panel1a-content\"\n          id=\"panel1a-header\"\n        >\n          <p className=\"header__dropdown-categories\">Categorías</p>\n        </AccordionSummary>\n        <AccordionDetails>\n          <Link className=\"header__dropdown-subcategories\" to=\"/alegria\">\n            Alegría\n          </Link>\n        </AccordionDetails>\n        <AccordionDetails>\n          <Link className=\"header__dropdown-subcategories\" to=\"/amistad\">\n            Amistad\n          </Link>\n        </AccordionDetails>\n        <AccordionDetails>\n          <Link className=\"header__dropdown-subcategories\" to=\"/amor\">\n            Amor\n          </Link>\n        </AccordionDetails>\n        <AccordionDetails>\n          <Link className=\"header__dropdown-subcategories\" to=\"/aniversario\">\n            Aniversario\n          </Link>\n        </AccordionDetails>\n        <AccordionDetails>\n          <Link className=\"header__dropdown-subcategories\" to=\"/desamor\">\n            Desamor\n          </Link>\n        </AccordionDetails>\n        <AccordionDetails>\n          <Link className=\"header__dropdown-subcategories\" to=\"/haikus\">\n            Haikus\n          </Link>\n        </AccordionDetails>\n        <AccordionDetails>\n          <Link className=\"header__dropdown-subcategories\" to=\"/infantiles\">\n            Infantiles\n          </Link>\n        </AccordionDetails>\n        <AccordionDetails>\n          <Link className=\"header__dropdown-subcategories\" to=\"/tristes\">\n            Tristes\n          </Link>\n        </AccordionDetails>\n        <AccordionDetails>\n          <Link className=\"header__dropdown-subcategories\" to=\"/\">\n            Todos\n          </Link>\n        </AccordionDetails>\n      </Accordion>\n    </div>\n  );\n}\n","import { Dispatcher } from 'flux'\n\nconst appDispatcher = new Dispatcher();\n\n\nexport default appDispatcher","export default {\n  LOAD_POEM: \"LOAD_POEM\",\n  LOAD_POEMS: \"LOAD_POEMS\",\n  CREATE_POEM: \"CREATE_POEM\",\n  DELETE_POEM: \"DELETE_POEM\",\n  LIKE_POEM: \"LIKE_POEM\",\n  SORT_POEMS: \"SORT_POEMS\"\n  };","import {\n  EventEmitter\n} from \"events\";\nimport dispatcher from \"../appDispatcher\";\nimport actionTypes from \"../actions/actionTypes\";\n\n\nconst CHANGE_EVENT = \"change\";\nlet _poem = null;\nlet _poems = [];\nlet _sort = '';\n\nclass PoemStore extends EventEmitter {\n  addChangeListener(callback) {\n    this.on(CHANGE_EVENT, callback);\n  }\n\n  removeChangeListener(callback) {\n    this.removeListener(CHANGE_EVENT, callback);\n  }\n\n  emitChange() {\n    this.emit(CHANGE_EVENT);\n  }\n\n  getPoem(id) {\n    return id ? _poems.filter(poem => poem._id === id)[0] : _poem;\n  }\n\n\n  getPoems(criteria) {\n    if (!criteria) {\n      return _poems;\n    } else {\n      return _poems.filter((poems) => poems.genre === criteria);\n    }\n  }\n\n  getPoemsByUser(user) {\n    return _poems.filter((poems) => poems.author === user.name);\n  }\n\n  getFavouritePoemsByUser(user) {\n    return _poems.filter((poems) => poems.likes.some((element) => element === user.sub));\n  }\n\n  sortPoems(sort, poems) {\n    if (sort === 'titulo') {\n      poems.sort(function (a, b) {\n        if (a.title.toLowerCase() < b.title.toLowerCase()) return -1;\n        if (a.title.toLowerCase() > b.title.toLowerCase()) return 1;\n        return 0\n      })\n    }\n    if (sort === 'likes') {\n      poems.sort(function (a, b) {\n        return b.likes.length - a.likes.length\n      })\n    }\n    if (sort === 'aleatorio') {\n      poems.sort(() => Math.random() - 0.5);\n    }\n    if (sort === 'fecha') {\n      poems.sort(function (a, b) {\n        return new Date(b.date) - new Date(a.date);\n      })\n    }\n    return poems;\n  }\n\n  SortObjectOfObjects(data, attribute) {\n    let array = [];\n    for (let prop in data) {\n        if (data.hasOwnProperty(prop)) {\n            let object = {};\n            object[prop] = data[prop];\n            object.tempSortName = data[prop][attribute];\n            array.push(object);\n        }\n    }\n\n    array.sort(function(a, b) {\n        let at = a.tempSortName,\n            bt = b.tempSortName;\n        return at > bt ? -1 : ( at < bt ? 1 : 0 );\n    });\n\n    let result = [];\n    for (let i=0, l=array.length; i<l; i++) {\n        let object = array[i];\n        delete object.tempSortName;\n        for (let prop in object) {\n            if (object.hasOwnProperty(prop)) {\n                var id = prop;\n            }\n        }\n        let item = object[id];\n        result.push(item);\n    }\n    return result;\n}\n\n  getRanking(poems, poemPoints, likePoints) {\n    let rank = poems.reduce(function (accumulator, item) {\n\n    let points = (accumulator[item.userId]?.points || 0) + poemPoints + (likePoints * item.likes.length);\n\n      accumulator[item.userId] = {\n        author: item.author,\n        picture: item.picture,\n        points\n      }\n      \n      return accumulator;\n    }, {});\n\n    rank = this.SortObjectOfObjects(rank, 'points');\n\n    return rank;\n  }\n}\n\nconst poemStore = new PoemStore();\ndispatcher.register((action) => {\n  switch (action.type) {\n    case actionTypes.LOAD_POEM:\n      _poem = action.data;\n      poemStore.emitChange();\n      break;\n    case actionTypes.LOAD_POEMS:\n      _poems = poemStore.sortPoems('likes', action.data);\n      poemStore.emitChange();\n      break;\n    case actionTypes.CREATE_POEM:\n      _poems = [..._poems, {\n        ...action.data\n      }]\n      poemStore.emitChange();\n      break;\n    case actionTypes.DELETE_POEM:\n      _poems = _poems.filter((poem) => poem._id !== action.data._id);\n      poemStore.emitChange();\n      break;\n    case actionTypes.LIKE_POEM:\n      _poems = _poems.map((poem) => {\n        if (poem._id === action.data._id) {\n          poem.likes = action.data.likes;\n        }\n        return poem;\n      });\n      _poem = action.data;\n      poemStore.emitChange();\n      break;\n    case actionTypes.SORT_POEMS:\n      _sort = action.data;\n      _poems = poemStore.sortPoems(action.data, _poems);\n      poemStore.emitChange();\n      break;\n    default:\n      break;\n  }\n});\n\nexport default poemStore;","import axios from 'axios'\nimport dispatcher from \"../appDispatcher\";\nimport actionTypes from \"./actionTypes\";\n\nexport function loadPoems() {\n  return axios.get('/api/poems').then((poems) => {\n    dispatcher.dispatch({\n      type: actionTypes.LOAD_POEMS,\n      data: poems.data\n    });\n  });\n}\n\nexport function loadPoem(_id) {\n  return axios.get(`/api/poems/${_id}`).then((poem) => {\n    dispatcher.dispatch({\n      type: actionTypes.LOAD_POEM,\n      data: poem.data\n    });\n  });\n}\n\nexport function savePoem(poem) {\n  return axios.post('/api/poems', poem).then((savedPoem) => {\n    dispatcher.dispatch({\n      type: actionTypes.CREATE_POEM,\n      data: savedPoem.data\n    });\n  });\n}\n\nexport function deletePoem(_id) {\n  return axios.delete(`/api/poems/${_id}`).then(() => {\n    dispatcher.dispatch({\n      type: actionTypes.DELETE_POEM,\n      data: {\n        _id\n      }\n    });\n  });\n}\n\nexport function likePoem(poemId, userId) {\n  return axios.put(`/api/poems/${poemId}`, {\n    userId\n  }).then((modifiedPoem) => {\n    dispatcher.dispatch({\n      type: actionTypes.LIKE_POEM,\n      data: modifiedPoem.data\n    });\n  });\n}\n\nexport function sortByCriteria(criteria) {\n  dispatcher.dispatch({\n    type: actionTypes.SORT_POEMS,\n    data: criteria\n  });\n}","import React, {useState, useEffect} from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\nimport \"./Ranking.scss\";\nimport poemStore from \"../stores/poemStore\";\nimport { loadPoems } from \"../actions/poemActions\";\n\nconst useStyles = makeStyles({\n  table: {\n    minWidth: 50,\n  },\n});\n\nexport default function Ranking() {\n  const classes = useStyles();\n  const poemPoints = 3;\n  const likePoints = 1;\n  \n  const [poems, setPoems] = useState(poemStore.getPoems());\n  const [rank, setRank] = useState(poemStore.getRanking(poems, poemPoints, likePoints))\n\n  useEffect(() => {\n    poemStore.addChangeListener(onChange);\n    if (poems.length === 0) loadPoems();\n    else {\n      onChange();\n    }\n    return () => poemStore.removeChangeListener(onChange);\n  }, [poems.length], rank);\n\n  function onChange() {\n    setPoems(poemStore.getPoems());\n    setRank(poemStore.getRanking(poems, poemPoints, likePoints));\n  }\n\n  return (\n    <>\n    \n    <main className=\"ranking\">\n    <h3 className=\"ranking__title\">Ranking de poetas</h3>\n    <h5 className=\"ranking__subtitle\">3 puntos por poema, 1 por like</h5>\n    <TableContainer className=\"ranking__body\" component={Paper}>\n      <Table className={classes.table} aria-label=\"simple table\">\n        <TableHead>\n          <TableRow>\n            <TableCell align=\"center\">Poetas</TableCell>\n            <TableCell align=\"center\">Puntos</TableCell>\n          </TableRow>\n        </TableHead>\n        <TableBody>\n        {Object.keys(rank).map((element, index) => (\n            <TableRow key={index}>\n              <TableCell className=\"ranking__picture-container\" align=\"center\" component=\"th\" scope=\"row\">\n                {<div className=\"ranking__picture-wrap\">\n                  <img className=\"ranking__picture\" src={rank[element].picture}/>\n                  <p className=\"ranking__picture-description\">{rank[element].author}</p>\n                </div>}  \n              </TableCell>\n              <TableCell className=\"ranking__number\" align=\"center\">{rank[element].points}</TableCell>\n            </TableRow>\n          ))}\n        </TableBody>\n      </Table>\n    </TableContainer>\n    </main>\n  </>\n  );\n}\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport CircularProgress from '@material-ui/core/CircularProgress';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: 'flex',\n    '& > * + *': {\n      marginLeft: theme.spacing(2),\n    },\n  },\n}));\n\nexport default function CircularIndeterminate() {\n  const classes = useStyles();\n\n  return (\n    <div className={classes.root}>\n      <CircularProgress color=\"secondary\"/>\n    </div>\n  );\n}","import React, { useEffect, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport {\n  loadPoems,\n  deletePoem,\n  likePoem,\n  sortByCriteria,\n} from \"../actions/poemActions\";\nimport poemStore from \"../stores/poemStore\";\nimport \"./List.scss\";\nimport \"./Detail.scss\";\nimport \"../App.scss\";\nimport { TextField } from \"@material-ui/core\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport HighlightOffSharpIcon from \"@material-ui/icons/HighlightOffSharp\";\nimport SubjectSharpIcon from \"@material-ui/icons/SubjectSharp\";\nimport { useAuth0 } from \"@auth0/auth0-react\";\nimport CircularProgress from \"./CircularIndeterminate\";\n\n\nfunction List(props) {\n  const { user, isAuthenticated, isLoading } = useAuth0();\n  const genre = props.match.params.genre;\n  const [poems, setPoems] = useState(poemStore.getPoems(genre));\n  const [sort, setSort] = useState(\"Likes\");\n  const [filter, setFilter] = useState(\"\");\n\n  useEffect(() => {\n    poemStore.addChangeListener(onChange);\n    if (poems.length === 0) loadPoems();\n    else {\n      onChange();\n    }\n    return () => poemStore.removeChangeListener(onChange);\n  }, [poems.length, genre, sort]);\n\n  function onChange() {\n    setPoems(poemStore.getPoems(genre));\n  }\n\n  function onDelete(event, poemId) {\n    event.preventDefault();\n    deletePoem(poemId);\n  }\n\n  function onLike(event, poemId, userId) {\n    event.preventDefault();\n    likePoem(poemId, userId);\n  }\n\n  const LIKE = \"Like\";\n  const LIKES = \"Likes\";\n  const READ_MORE = \"Leer más\";\n  const ADMIN = \"google-oauth2|102774395820207939159\";\n\n  const handleSearchChange = (event) => {\n    setFilter(event.target.value);\n  };\n\n  function onFieldChange(value, setValue) {\n    setValue(value);\n  }\n\n  if (isLoading) {\n    return <CircularProgress />;\n  }\n\n  return (\n    <>\n      <div className=\"list__container\">\n        <div className=\"list__intro\">\n          {!genre && (\n            <p className=\"list__presentation\">¡Tu red social de poesía!</p>\n          )}\n          {genre && (\n            <p className=\"list__presentation\">\n              Categoría: {genre.toUpperCase()}\n            </p>\n          )}\n          <div className=\"separator\"></div>\n          <form className=\"list__sort\">\n            <label>\n              {`Ordenar poemas por: `}\n              <select\n                type=\"submit\"\n                id=\"sort\"\n                name=\"sort\"\n                onChange={(event) => {\n                  onFieldChange(event.target.value, setSort);\n                  sortByCriteria(event.target.value);\n                }}\n              >\n                <option value=\"likes\">Likes</option>\n                <option value=\"fecha\">Fecha</option>\n                <option value=\"aleatorio\">Aleatorio</option>\n                <option value=\"titulo\">Título</option>\n              </select>\n            </label>\n          </form>\n          <div className=\"list__search\">\n            <SearchIcon style={{ fontSize: 40, fill: \"#4F5D73\" }} />\n            <TextField\n              label=\"Buscar autor\"\n              InputLabelProps={{\n                style: { color: \"#4F5D73\" },\n              }}\n              InputProps={{\n                style: { color: \"#4F5D73\" },\n              }}\n              onChange={handleSearchChange}\n            />\n          </div>\n        </div>\n\n        {poems.map((poem) => (\n          <main key={poem._id} className=\"poem__detail\">\n            {poem.author.includes(filter) && (\n              <section className=\"poem__block\">\n                <section>\n                  <Link to={`/detalle/${poem._id}`} className=\"poem__title\">\n                    {poem.title}\n                  </Link>\n                  <div className=\"poem__author-container\">\n                  <img className=\"poem__picture\" src={poem.picture} />\n                  <p className=\"poem__author\">{poem.author}</p>\n                  </div>\n                  <div className=\"poem__date\">{poem.date}</div>\n                </section>\n                <section>\n                  <div className=\"poem__content poems__content\">\n                    {poem.poem}\n                  </div>\n                  <div className=\"poems__read-more\">\n                    <Link\n                      to={`/detalle/${poem._id}`}\n                      className=\"poems__read-more\"\n                    >\n                      {READ_MORE}\n                    </Link>\n                  </div>\n                </section>\n                <section className=\"poem__footer\">\n                  {poem.likes.length === 1 && (\n                    <div className=\"poem__likes\">\n                      {poem.likes.length} {LIKE}\n                    </div>\n                  )}\n                  {poem.likes.length !== 1 && (\n                    <div className=\"poem__likes\">\n                      {poem.likes.length} {LIKES}\n                    </div>\n                  )}\n                  <div className=\"separator\"></div>\n                  {isAuthenticated &&\n                    poem.author !== user.name &&\n                    poem.likes.some((id) => id === user.sub) && (\n                      <Link\n                        className=\"poem__likes-icon\"\n                        onClick={(event) => onLike(event, poem._id, user.sub)}\n                      ></Link>\n                    )}\n                  {isAuthenticated &&\n                    poem.author !== user.name &&\n                    !poem.likes.some((id) => id === user.sub) && (\n                      <Link\n                        className=\"poem__unlikes-icon\"\n                        onClick={(event) => onLike(event, poem._id, user.sub)}\n                      ></Link>\n                    )}\n                  {isAuthenticated &&\n                    (poem.author === user.name || user.sub === ADMIN) && (\n                      <HighlightOffSharpIcon\n                        className=\"poem__delete-icon\"\n                        style={{ fill: \"red\" }}\n                        onClick={(event) => onDelete(event, poem._id)}\n                      />\n                    )}\n                  <Link\n                    to={`/detalle/${poem._id}`}\n                    className=\"poem__comments-icon\"\n                  >\n                    <SubjectSharpIcon style={{ fill: \"#000\" }} />\n                  </Link>\n                </section>\n              </section>\n            )}\n          </main>\n        ))}\n      </div>\n    </>\n  );\n}\nexport default List;\n","import React from \"react\";\nimport \"./List.scss\";\nimport \"./Detail.scss\";\nimport \"../App.scss\";\nimport \"./Dashboard.scss\";\nimport Accordion from \"./SimpleAccordion\";\nimport Ranking from \"./Ranking\";\nimport List from \"./List\";\n\n\nfunction Dashboard(props) {\n  return (\n    <main className=\"dashboard\">\n      <div className=\"dashboard__accordion\">\n      <Accordion />\n      </div>\n      <div className=\"dashboard__list\">\n      <List {...props}/>\n      </div>\n      <div className=\"dashboard__ranking\">\n      <Ranking />\n      </div>\n    </main>\n  );\n}\nexport default Dashboard;\n","import React, { useEffect, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport poemStore from \"../stores/poemStore\";\nimport { loadPoem, deletePoem, likePoem } from \"../actions/poemActions\";\nimport \"./Detail.scss\";\nimport \"../App.scss\";\nimport HighlightOffSharpIcon from \"@material-ui/icons/HighlightOffSharp\";\nimport SubjectSharpIcon from \"@material-ui/icons/SubjectSharp\";\nimport { useAuth0 } from \"@auth0/auth0-react\";\nimport Disqus from \"disqus-react\";\nimport CircularProgress from \"./CircularIndeterminate\";\nimport \"./PageNotFound.scss\";\n\n\nfunction Detail(props) {\n  const { user, isAuthenticated, isLoading } = useAuth0();\n  const [poem, setPoem] = useState(\n    poemStore.getPoem(props.match.params.poemId)\n  );\n\n  useEffect(() => {\n    poemStore.addChangeListener(onChange);\n\n    if (!poem) {\n      loadPoem(props.match.params.poemId);\n    }\n\n    return () => {\n      poemStore.removeChangeListener(onChange);\n    };\n  }, [poem]);\n\n  function onChange() {\n    setPoem(poemStore.getPoem());\n  }\n\n  function onDelete(event, poemId) {\n    event.preventDefault();\n    deletePoem(poemId);\n  }\n\n  function onLike(event, poemId, userId) {\n    event.preventDefault();\n    likePoem(poemId, userId);\n  }\n\n  const LIKE = \"Like\";\n  const LIKES = \"Likes\";\n  const ADMIN = \"google-oauth2|102774395820207939159\";\n\n  if (isLoading) {\n    return <CircularProgress />;\n  }\n\n  const disqusShortname = \"poemunity\";\n  const disqusConfig = {\n    url: `http://localhost:3000/detalle/${props.match.params.poemId}`,\n    identifier: `http://localhost:3000/detalle/${props.match.params.poemId}`,\n    title: \"Title of Your Article\",\n  };\n\n  return (\n    <>\n      {!poem && (\n        <main className=\"page-not-found__container\">\n          <section className=\"page-not-found__message\">\n            <h1 className=\"page-not-found__title\">Error - 404</h1>\n            <p className=\"page-not-found__text\">Nothing to see here</p>\n            <Link className=\"page-not-found__link\" to=\"/\">\n              Back to Dashboard\n            </Link>\n          </section>\n        </main>\n      )}\n      {poem && poem.likes && (\n        <main className=\"poem__detail\">\n          <section className=\"poem__block\">\n            <section>\n              <h2 className=\"poem__title\">{poem.title}</h2>\n              <div className=\"poem__author-container\">\n                <img className=\"poem__picture\" src={poem.picture} />\n                <p className=\"poem__author\">{poem.author}</p>\n              </div>\n              <div className=\"poem__date\">{poem.date}</div>\n            </section>\n            <section>\n              <div className=\"poem__content\">{poem.poem}</div>\n            </section>\n            <br></br>\n            <section className=\"poem__footer\">\n              {poem.likes.length === 1 && (\n                <div className=\"poem__likes\">\n                  {poem.likes.length} {LIKE}\n                </div>\n              )}\n              {poem.likes.length !== 1 && (\n                <div className=\"poem__likes\">\n                  {poem.likes.length} {LIKES}\n                </div>\n              )}\n              <div className=\"separator\"></div>\n              {isAuthenticated &&\n                poem.author !== user.name &&\n                poem.likes.some((id) => id === user.sub) && (\n                  <Link\n                    className=\"poem__likes-icon\"\n                    onClick={(event) => onLike(event, poem._id, user.sub)}\n                  ></Link>\n                )}\n              {isAuthenticated &&\n                poem.author !== user.name &&\n                !poem.likes.some((id) => id === user.sub) && (\n                  <Link\n                    className=\"poem__unlikes-icon\"\n                    onClick={(event) => onLike(event, poem._id, user.sub)}\n                  ></Link>\n                )}\n              {isAuthenticated &&\n                (poem.author === user.name || user.sub === ADMIN) && (\n                  <HighlightOffSharpIcon\n                    className=\"poem__delete-icon\"\n                    style={{ fill: \"red\" }}\n                    onClick={(event) => onDelete(event, poem._id)}\n                  />\n                )}\n              <Link to={`/detalle/${poem._id}`} className=\"poem__comments-icon\">\n                <SubjectSharpIcon style={{ fill: \"#000\" }} />\n              </Link>\n            </section>\n          </section>\n          <div className=\"article-container\">\n            <Disqus.DiscussionEmbed\n              shortname={disqusShortname}\n              config={disqusConfig}\n            />\n          </div>\n        </main>\n      )}\n    </>\n  );\n}\n\nexport default Detail;\n","import React from \"react\";\nimport { useAuth0 } from \"@auth0/auth0-react\";\nimport \"./Header.scss\";\n\nconst Login = () => {\n  const { loginWithRedirect } = useAuth0();\n\n  return <button className=\"header__login\" onClick={() => loginWithRedirect()}></button>;\n};\n\nexport default Login;","import React from \"react\";\nimport { useAuth0 } from \"@auth0/auth0-react\";\nimport \"./Header.scss\";\n\nconst Logout = () => {\n  const { logout } = useAuth0();\n\n  return (\n    <button className=\"header__logout\" onClick={() => logout({ returnTo: window.location.origin })}>\n    </button>\n  );\n};\n\nexport default Logout;","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport \"./Header.scss\";\nimport \"../App.scss\";\nimport Accordion from \"./SimpleAccordion\";\nimport CircularProgress from \"./CircularIndeterminate\";\nimport LoginButton from \"./Login\";\nimport LogoutButton from \"./Logout\";\nimport { useAuth0 } from \"@auth0/auth0-react\";\n\n\nfunction Header() {\n  const { isAuthenticated, isLoading } = useAuth0();\n\n  if (isLoading) {\n    return <CircularProgress />;\n  }\n  return (\n    <>\n      <section className=\"header\">\n        <div className=\"header__dropdown\">\n          <Accordion />\n        </div>\n        <div className=\"header__logo\">\n          <Link to=\"/\" className=\"header__text-logo-first\">\n            P\n          </Link>\n          <Link to=\"/\" className=\"header__logo-icon\"></Link>\n          <Link to=\"/\" className=\"header__text-logo-second\">\n            emunity\n          </Link>\n        </div>\n      <div className=\"separator\"></div>\n        {isAuthenticated ? <Link to=\"/perfil\" className=\"header__profile\"></Link> : <></>}\n        {isAuthenticated ? <LogoutButton /> : <LoginButton />}\n        \n        \n      </section>\n    </>\n  );\n}\n\nexport default Header;\n","import React, { useEffect, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { loadPoems, deletePoem } from \"../actions/poemActions\";\nimport poemStore from \"../stores/poemStore\";\nimport \"./List.scss\";\nimport \"./Detail.scss\";\nimport \"../App.scss\";\nimport { TextField } from \"@material-ui/core\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport HighlightOffSharpIcon from \"@material-ui/icons/HighlightOffSharp\";\nimport SubjectSharpIcon from \"@material-ui/icons/SubjectSharp\";\nimport { useAuth0 } from \"@auth0/auth0-react\";\nimport CircularProgress from \"./CircularIndeterminate\";\n\n\nfunction MyPoems(props) {\n  const { user, isAuthenticated, isLoading } = useAuth0();\n  \n  const [poems, setPoems] = useState(poemStore.getPoemsByUser(user));\n  \n  const [filter, setFilter] = useState(\"\");\n\n  useEffect(() => {\n    poemStore.addChangeListener(onChange);\n    if (poems.length === 0) loadPoems();\n    else {\n      onChange();\n    }\n    return () => poemStore.removeChangeListener(onChange);\n  }, [poems.length]);\n\n  \n  function onChange() {\n      setPoems(poemStore.getPoemsByUser(user));\n  }\n\n  function onDelete(event, poemId) {\n    event.preventDefault();\n    deletePoem(poemId);\n  }\n\n  const LIKE = \"Like\";\n  const LIKES = \"Likes\";\n  const READ_MORE = \"Leer más\";\n\n  const handleSearchChange = (event) => {\n    setFilter(event.target.value);\n  };\n\n  if (isLoading) {\n    return <CircularProgress />;\n  }\n\n  return (\n    <>\n      <div className=\"search__container\">\n        <div className=\"separator\"></div>\n        <div className=\"list__intro\">\n          \n\n          <SearchIcon style={{ fontSize: 40, fill: \"#551A8B\" }} />\n          <TextField\n            label=\"Buscar autor\"\n            InputLabelProps={{\n              style: { color: \"#551A8B\" },\n            }}\n            InputProps={{\n              style: { color: \"#551A8B\" },\n            }}\n            onChange={handleSearchChange}\n          />\n        </div>\n      </div>\n      {poems.map((poem) => (\n        <main key={poem._id} className=\"poem__detail\">\n          {poem.author.includes(filter) && (\n            <section className=\"poem__block\">\n              <section>\n                <Link to={`/detalle/${poem._id}`} className=\"poem__title\">\n                  {poem.title}\n                </Link>\n                <p className=\"poem__author\">{poem.author}</p>\n                <div className=\"poem__date\">{poem.date}</div>\n              </section>\n              <section>\n                <div className=\"poem__content poems__content\">{poem.poem}</div>\n                <div className=\"poems__read-more\">\n                  <Link\n                    to={`/detalle/${poem._id}`}\n                    className=\"poems__read-more\"\n                  >\n                    {READ_MORE}\n                  </Link>\n                </div>\n              </section>\n              <section className=\"poem__footer\">\n              {poem.likes.length === 1 && (\n                <div className=\"poem__likes\">\n                  {poem.likes.length} {LIKE}\n                </div>\n                )}\n                {poem.likes.length !== 1 && (\n                <div className=\"poem__likes\">\n                  {poem.likes.length} {LIKES}\n                </div>\n                )}\n                <div className=\"separator\"></div>\n                {isAuthenticated &&\n                poem.author === user.name && (\n                  <HighlightOffSharpIcon\n                    className=\"poem__delete-icon\"\n                    style={{ fill: \"red\" }}\n                    onClick={(event) => onDelete(event, poem._id)}\n                  />\n                )}\n                <Link\n                  to={`/detalle/${poem._id}`}\n                  className=\"poem__comments-icon\"\n                >\n                  <SubjectSharpIcon style={{ fill: \"#000\" }} />\n                </Link>\n              </section>\n            </section>\n          )}\n        </main>\n      ))}\n    </>\n  );\n}\nexport default MyPoems;\n","import React, { useEffect, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { loadPoems, deletePoem, likePoem } from \"../actions/poemActions\";\nimport poemStore from \"../stores/poemStore\";\nimport \"./List.scss\";\nimport \"./Detail.scss\";\nimport \"../App.scss\";\nimport { TextField } from \"@material-ui/core\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport HighlightOffSharpIcon from \"@material-ui/icons/HighlightOffSharp\";\nimport SubjectSharpIcon from \"@material-ui/icons/SubjectSharp\";\nimport { useAuth0 } from \"@auth0/auth0-react\";\nimport CircularProgress from \"./CircularIndeterminate\";\n\n\nfunction MyFavouritePoems(props) {\n  const { user, isAuthenticated, isLoading } = useAuth0();\n\n  const [poems, setPoems] = useState(poemStore.getPoemsByUser(user));\n\n  const [filter, setFilter] = useState(\"\");\n\n  useEffect(() => {\n    poemStore.addChangeListener(onChange);\n    if (poems.length === 0) loadPoems();\n    else {\n      onChange();\n    }\n    return () => poemStore.removeChangeListener(onChange);\n  }, [poems.length]);\n\n  function onChange() {\n    setPoems(poemStore.getFavouritePoemsByUser(user));\n  }\n\n  function onDelete(event, poemId) {\n    event.preventDefault();\n    deletePoem(poemId);\n  }\n\n  function onLike(event, poemId, userId) {\n    event.preventDefault();\n    likePoem(poemId, userId);\n  }\n\n  const LIKE = \"Like\";\n  const LIKES = \"Likes\";\n  const READ_MORE = \"Leer más\";\n\n  const handleSearchChange = (event) => {\n    setFilter(event.target.value);\n  };\n\n  if (isLoading) {\n    return <CircularProgress />;\n  }\n\n  return (\n    <>\n      <div className=\"search__container\">\n        <div className=\"separator\"></div>\n        <div className=\"list__intro\">\n          <SearchIcon style={{ fontSize: 40, fill: \"#551A8B\" }} />\n          <TextField\n            label=\"Buscar autor\"\n            InputLabelProps={{\n              style: { color: \"#551A8B\" },\n            }}\n            InputProps={{\n              style: { color: \"#551A8B\" },\n            }}\n            onChange={handleSearchChange}\n          />\n        </div>\n      </div>\n      {poems.map((poem) => (\n        <main key={poem._id} className=\"poem__detail\">\n          {poem.author.includes(filter) && (\n            <section className=\"poem__block\">\n              <section>\n                <Link to={`/detalle/${poem._id}`} className=\"poem__title\">\n                  {poem.title}\n                </Link>\n                <div className=\"poem__author-container\">\n                  <img className=\"poem__picture\" src={poem.picture} />\n                  <p className=\"poem__author\">{poem.author}</p>\n                </div>\n                <div className=\"poem__date\">{poem.date}</div>\n              </section>\n              <section>\n                <div className=\"poem__content poems__content\">{poem.poem}</div>\n                <div className=\"poems__read-more\">\n                  <Link\n                    to={`/detalle/${poem._id}`}\n                    className=\"poems__read-more\"\n                  >\n                    {READ_MORE}\n                  </Link>\n                </div>\n              </section>\n              <section className=\"poem__footer\">\n                {poem.likes.length === 1 && (\n                  <div className=\"poem__likes\">\n                    {poem.likes.length} {LIKE}\n                  </div>\n                )}\n                {poem.likes.length !== 1 && (\n                  <div className=\"poem__likes\">\n                    {poem.likes.length} {LIKES}\n                  </div>\n                )}\n                <div className=\"separator\"></div>\n                {isAuthenticated &&\n                  poem.author !== user.name &&\n                  poem.likes.some((id) => id === user.sub) && (\n                    <Link\n                      className=\"poem__likes-icon\"\n                      onClick={(event) => onLike(event, poem._id, user.sub)}\n                    ></Link>\n                  )}\n                {isAuthenticated &&\n                  poem.author !== user.name &&\n                  !poem.likes.some((id) => id === user.sub) && (\n                    <Link\n                      className=\"poem__unlikes-icon\"\n                      onClick={(event) => onLike(event, poem._id, user.sub)}\n                    ></Link>\n                  )}\n                {isAuthenticated && poem.author === user.name && (\n                  <HighlightOffSharpIcon\n                    className=\"poem__delete-icon\"\n                    style={{ fill: \"red\" }}\n                    onClick={(event) => onDelete(event, poem._id)}\n                  />\n                )}\n                <Link\n                  to={`/detalle/${poem._id}`}\n                  className=\"poem__comments-icon\"\n                >\n                  <SubjectSharpIcon style={{ fill: \"#000\" }} />\n                </Link>\n              </section>\n            </section>\n          )}\n        </main>\n      ))}\n    </>\n  );\n}\nexport default MyFavouritePoems;\n","import React, { useState } from \"react\";\nimport PropTypes from \"prop-types\";\nimport SwipeableViews from \"react-swipeable-views\";\nimport { makeStyles, useTheme } from \"@material-ui/core/styles\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Tabs from \"@material-ui/core/Tabs\";\nimport Tab from \"@material-ui/core/Tab\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Box from \"@material-ui/core/Box\";\nimport \"./Profile.scss\";\nimport \"../App.scss\";\nimport { savePoem } from \"../actions/poemActions\";\nimport MyPoems from \"./MyPoems\";\nimport MyFavouritePoems from \"./MyFavouritePoems\";\nimport { useAuth0 } from \"@auth0/auth0-react\";\nimport CircularProgress from \"./CircularIndeterminate\";\n\n\nfunction TabPanel(props) {\n  const { children, value, index, ...other } = props;\n\n  return (\n    <div\n      role=\"tabpanel\"\n      hidden={value !== index}\n      id={`full-width-tabpanel-${index}`}\n      aria-labelledby={`full-width-tab-${index}`}\n      {...other}\n    >\n      {value === index && (\n        <Box p={3}>\n          <Typography>{children}</Typography>\n        </Box>\n      )}\n    </div>\n  );\n}\n\nTabPanel.propTypes = {\n  children: PropTypes.node,\n  index: PropTypes.any.isRequired,\n  value: PropTypes.any.isRequired,\n};\n\nfunction a11yProps(index) {\n  return {\n    id: `full-width-tab-${index}`,\n    \"aria-controls\": `full-width-tabpanel-${index}`,\n  };\n}\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    backgroundColor: theme.palette.background.paper,\n    width: 500,\n  },\n}));\n\nexport default function Profile(props) {\n  const theme = useTheme();\n  const [value, setValue] = React.useState(0);\n\n  let [poemContent, setPoemContent] = useState(\"\");\n  let [poemTitle, setPoemTitle] = useState(\"\");\n  let [poemCategory, setPoemCategory] = useState(\"\");\n\n  const { user, isAuthenticated, isLoading } = useAuth0();\n\n  if (isLoading) {\n    return <CircularProgress />;\n  }\n\n  const handleChange = (event, newValue) => {\n    setValue(newValue);\n  };\n\n  const handleChangeIndex = (index) => {\n    setValue(index);\n  };\n\n  function onFieldChange(value, setValue) {\n    setValue(value);\n  }\n\n  function handleSubmit(event) {\n    event.preventDefault();\n    event.target.reset();\n\n    let current_datetime = new Date();\n    let formattedDate =\n      current_datetime.getFullYear() +\n      \"-\" +\n      (current_datetime.getMonth() + 1) +\n      \"-\" +\n      current_datetime.getDate() +\n      \" \" +\n      current_datetime.getHours() +\n      \":\" +\n      current_datetime.getMinutes() +\n      \":\" +\n      current_datetime.getSeconds();\n\n    savePoem({\n      userId: user.sub,\n      author: user.name,\n      picture: user.picture,\n      poem: poemContent,\n      title: poemTitle,\n      genre: poemCategory,\n      likes: [],\n      date: formattedDate,\n    });\n    setPoemContent(\"\");\n    setPoemTitle(\"\");\n    setPoemCategory(\"\");\n  }\n\n  return (\n    isAuthenticated && (\n      <main className=\"profile__main\">\n        <section className=\"profile__title\">\n          <div>Perfil de {user.name}</div>\n        </section>\n        <section className=\"profile__intro\">\n          <img\n            className=\"profile__image\"\n            src={user.picture}\n            alt={user.name}\n          ></img>\n          <div className=\"profile__personal-data\">\n            <div className=\"profile__insert-poem\">\n              <p className=\"profile__insert-poem-title\">Insertar un poema:</p>\n              <br></br>\n              <form\n                className=\"profile__insert-poem-form\"\n                onSubmit={handleSubmit}\n              >\n                <div className=\"profile__insert-poem-inputs\">\n                  <label className=\"profile__insert-poem-input\">\n                    {`Título: `}\n                    <input\n                      className=\"profile__insert-poem-input\"\n                      placeholder=\"Título\"\n                      name=\"title\"\n                      required\n                      value={poemTitle}\n                      onChange={(event) =>\n                        onFieldChange(event.target.value, setPoemTitle)\n                      }\n                    />\n                  </label>\n                  <label className=\"profile__insert-poem-input\">\n                    {`Categoría: `}\n                    <select\n                      className=\"profile__insert-poem-input\"\n                      id=\"category\"\n                      name=\"category\"\n                      required\n                      onChange={(event) => {\n                        onFieldChange(event.target.value, setPoemCategory);\n                      }\n                      }\n                    >\n                      <option value=\"\">Seleccionar</option>\n                      <option value=\"alegria\">Alegría</option>\n                      <option value=\"amistad\">Amistad</option>\n                      <option value=\"amor\">Amor</option>\n                      <option value=\"aniversario\">Aniversario</option>\n                      <option value=\"desamor\">Desamor</option>\n                      <option value=\"haikus\">Haikus</option>\n                      <option value=\"infantiles\">Infantiles</option>\n                      <option value=\"tristes\">Tristes</option>\n                    </select>\n                  </label>\n                </div>\n                <div>\n                  <textarea\n                    className=\"profile__text-area\"\n                    id=\"poem\"\n                    name=\"poem\"\n                    required\n                    placeholder=\"Inserta aquí tu poema\"\n                    value={poemContent}\n                    onChange={(event) =>\n                      onFieldChange(event.target.value, setPoemContent)\n                    }\n                  ></textarea>\n                </div>\n\n                <button className=\"profile__send-poem\" type=\"submit\">\n                  Enviar\n                </button>\n              </form>\n            </div>\n          </div>\n        </section>\n        <section className=\"profile__outro\">\n          <div className=\"profile__tabs\">\n            <AppBar position=\"static\" color=\"default\">\n              <Tabs\n                value={value}\n                onChange={handleChange}\n                indicatorColor=\"primary\"\n                textColor=\"primary\"\n                variant=\"fullWidth\"\n                aria-label=\"full width tabs example\"\n              >\n                <Tab label=\"Mis poemas\" {...a11yProps(0)} />\n                <Tab label=\"Mis poemas favoritos\" {...a11yProps(1)} />\n              </Tabs>\n            </AppBar>\n            <SwipeableViews\n              axis={theme.direction === \"rtl\" ? \"x-reverse\" : \"x\"}\n              index={value}\n              onChangeIndex={handleChangeIndex}\n            >\n              <TabPanel\n                className=\"profile__myPoems\"\n                value={value}\n                index={0}\n                dir={theme.direction}\n              >\n                <MyPoems />\n              </TabPanel>\n              <TabPanel\n                className=\"profile__myPoems\"\n                value={value}\n                index={1}\n                dir={theme.direction}\n              >\n                <MyFavouritePoems />\n              </TabPanel>\n            </SwipeableViews>\n          </div>\n        </section>\n      </main>\n    )\n  );\n}\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport \"./PageNotFound.scss\";\n\n\nfunction PageNotFound(props) {\n\treturn (\n\t\t<main className=\"page-not-found__container\">\n            <section className=\"page-not-found__message\">\n\t\t\t<h1 className=\"page-not-found__title\">Error - 404</h1>\n\t\t\t<p className=\"page-not-found__text\">Nothing to see here</p>\n\t\t\t<Link className=\"page-not-found__link\" to=\"/\">Back to Dashboard</Link>\n\t\t\t</section>\n\t\t</main>\n\t);\n}\n\nexport default PageNotFound;\n","import React from 'react';\nimport { Route, Switch } from 'react-router-dom';\nimport './App.scss';\nimport Dashboard from './components/Dashboard';\nimport Detail from './components/Detail';\nimport Header from \"./components/Header\";\nimport Profile from \"./components/Profile\";\nimport PageNotFound from \"./components/PageNotFound\";\nimport { BrowserRouter as Router } from 'react-router-dom';\n\nfunction App(props) {\n  return (\n\t<Router>\n\t<div className=\"container\">\n      \t<Header />\n\n    \t<div className=\"margin-body\">\n\t\t\t\n\t\t\t<Switch>\n\t\t\t\t<Route path=\"/\" exact component={Dashboard} />\n\t\t\t\t<Route path=\"/perfil\" component={Profile} />\n\t\t\t\t<Route path=\"/:genre\" exact component={Dashboard} />\n          \t\t<Route path=\"/alegria\" exact component={Dashboard} />\n          \t\t<Route path=\"/amistad\" exact component={Dashboard} />\n          \t\t<Route path=\"/amor\" exact component={Dashboard} />\n          \t\t<Route path=\"/aniversario\" exact component={Dashboard} />\n          \t\t<Route path=\"/desamor\" exact component={Dashboard} />\n          \t\t<Route path=\"/haikus\" exact component={Dashboard} />\n\t\t\t\t<Route path=\"/infantiles\" exact component={Dashboard} />\n          \t\t<Route path=\"/tristes\" exact component={Dashboard} />\n\t\t\t\t<Route path=\"/detalle/:poemId\" exact component={Detail} />\n\t\t\t\t<Route component={PageNotFound} />\n\t\t\t</Switch>\n\t\t\t\n\t\t</div>\n\t</div>\n\t</Router>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport { Auth0Provider } from \"@auth0/auth0-react\";\n\nlet redirectUri = \"http://localhost:3000\"\nif (process.env.NODE_ENV === 'production') {\n  redirectUri = 'https://poemunity.com/perfil'\n}\n\n//test\n\nReactDOM.render(\n  <React.StrictMode>\n    <Router>\n       <Auth0Provider\n    domain=\"dev-kpid04y3.eu.auth0.com\"\n    clientId=\"A9LJVea7ss5WV8pjbW1505492DGyqosI\"\n    redirectUri={redirectUri}\n    >\n\t\t\t<App />\n    </Auth0Provider>\n\t\t</Router>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}