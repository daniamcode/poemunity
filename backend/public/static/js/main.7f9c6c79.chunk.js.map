{"version":3,"sources":["data/constants.js","components/SimpleAccordion.js","react-query/usePoems.js","utils/getRanking.js","components/CircularIndeterminate.js","components/Ranking.jsx","react-query/useDeletePoem.js","react-query/useLikePoem.js","utils/capitalizeFirstLetter.js","utils/sortPoems.js","data/normalizeSwaps.js","utils/normalizeString.js","components/List.jsx","components/Dashboard.jsx","react-query/usePoem.js","components/Detail.jsx","components/Login.jsx","components/Logout.jsx","components/Header.jsx","utils/getPoemsByUser.js","components/MyPoems.jsx","utils/getFavouritePoemsByUser.js","components/MyFavouritePoems.jsx","components/Profile.jsx","react-query/useCreatePoem.js","react-query/useSavePoem.js","components/PageNotFound.js","App.js","serviceWorker.js","index.js"],"names":["CATEGORIES","ADMIN","SimpleAccordion","Accordion","className","AccordionSummary","expandIcon","aria-controls","id","sort","map","category","AccordionDetails","key","to","toLowerCase","usePoems","useQuery","axios","get","then","res","data","onError","error","console","getRanking","poems","poemPoints","likePoints","rank","reduce","accumulator","item","points","userId","likes","length","author","picture","attribute","array","prop","hasOwnProperty","object","tempSortName","push","a","b","at","bt","result","i","l","SortObjectOfObjects","useStyles","makeStyles","theme","root","display","marginLeft","spacing","CircularIndeterminate","classes","CircularProgress","color","table","minWidth","Ranking","useState","setPoems","poemsQuery","setRank","useEffect","JSON","stringify","isLoading","TableContainer","component","Paper","Table","aria-label","TableHead","TableRow","TableCell","align","TableBody","Object","keys","element","index","scope","src","useDeletePoem","queryClient","useQueryClient","useMutation","_id","delete","onSuccess","poemDeleted","invalidateQueries","useLikePoem","poemId","put","modifiedPoem","capitalizeFirstLetter","string","charAt","toUpperCase","slice","sortPoems","title","Math","random","Date","date","normalizeSwaps","0","1","2","3","4","5","6","7","8","9","c","d","e","f","g","h","j","k","m","n","o","p","q","r","s","t","u","v","w","x","y","z","aa","ae","ai","ch","dj","dz","ei","gh","ii","ij","kh","lj","nj","oe","oi","oii","ps","sh","shch","ss","sx","th","ts","ue","uu","ya","yu","zh","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","AE","Ch","Dj","Dz","Gx","Hx","Ij","Jx","Kh","Lj","Nj","Oe","Ps","Sh","Shch","Ss","Th","Ts","Ya","Yu","Zh","normalizeString","input","str","String","replace","forEach","swap","RegExp","List","props","useAuth0","user","isAuthenticated","auth0IsLoading","genre","match","params","filter","setFilter","context","useContext","AppContext","newData","poemsFiltered","poemsSorted","sortPoemsBy","deletePoemMutation","likePoemMutation","onLike","event","preventDefault","mutate","history","useHistory","Helmet","style","fontSize","fill","TextField","label","InputLabelProps","InputProps","onChange","target","value","type","name","setState","selected","poem","includes","some","sub","onClick","process","elementToEdit","Dashboard","usePoem","initialData","getQueryData","find","initialStale","Detail","setPoem","poemQuery","disqusConfig","url","identifier","DiscussionEmbed","shortname","config","Login","loginWithRedirect","Logout","logout","returnTo","window","location","origin","Header","getPoemsByUser","MyPoems","getFavouritePoemsByUser","MyFavouritePoems","TabPanel","children","other","role","hidden","aria-labelledby","Box","Typography","a11yProps","backgroundColor","palette","background","paper","width","Profile","useTheme","React","setValue","poemContent","setPoemContent","poemAuthorId","setPoemAuthorId","poemTitle","setPoemTitle","poemCategory","setPoemCategory","poemLikes","setPoemLikes","createPoemMutation","post","useCreatePoem","savePoemMutation","patch","useSavePoem","toString","onFieldChange","fakeUser","parseInt","alt","required","placeholder","currentDatetime","formattedDate","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","split","AppBar","position","Tabs","newValue","indicatorColor","textColor","variant","Tab","axis","direction","onChangeIndex","dir","PageNotFound","createContext","App","newState","contextState","setContextState","Provider","path","exact","Boolean","hostname","redirectUri","REACT_APP_AUTH0_DOMAIN","REACT_APP_AUTH0_CLIENTID","QueryClient","ReactDOM","render","StrictMode","client","domain","clientId","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","message"],"mappings":"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","file":"static/js/main.7f9c6c79.chunk.js","sourcesContent":["export const WEB_SUBTITLE = 'Your poem community!'\nexport const CATEGORIES_TITLE = 'Categories'\nexport const CATEGORIES = ['Anniversary', 'Friendship', 'Funny', 'Haikus', 'Hope', 'Life', 'Love', 'Sad']\nexport const ALL = 'All'\nexport const PROFILE_TITLE = \"'s Profile\"\nexport const PROFILE_SUBTITLE = 'Insert a poem:'\nexport const PROFILE_SELECT_TITLE_AUTHOR = \"Author's Id: \"\nexport const PROFILE_SELECT_TITLE_TITLE = 'Title: '\nexport const PROFILE_SELECT_TITLE = 'Title'\nexport const PROFILE_SELECT_LIKES = 'Likes'\nexport const PROFILE_SELECT_CATEGORY_TITLE = 'Category: '\nexport const PROFILE_SELECT_CATEGORY = 'Select'\nexport const PROFILE_POEM_PLACEHOLDER = 'Insert your poem here'\nexport const PROFILE_SEND_POEM = 'Send'\nexport const PROFILE_RESET_POEM = 'Reset'\nexport const PROFILE_POEMS = 'My poems'\nexport const PROFILE_FAVOURITE_POEMS = 'My favourite poems'\nexport const LIKE = 'Like'\nexport const LIKES = 'Likes'\nexport const READ_MORE = 'Read more'\nexport const SEARCH_PLACEHOLDER = 'Search an author'\nexport const ORDER_BY = 'Order poems by: '\nexport const ORDER_BY_TITLE = 'Title'\nexport const ORDER_BY_DATE = 'Date'\nexport const ORDER_BY_RANDOM = 'Random'\nexport const ORDER_BY_LIKES = 'Likes'\nexport const CATEGORIES_TITLE_LABEL = 'Category: '\nexport const RANKING_TITLE = 'Poets ranking'\nexport const RANKING_SUBTITLE = '3 points per poem, 1 per like'\nexport const RANKING_POETS_TITLE = 'Poets'\nexport const RANKING_POINTS_TITLE = 'Points'\nexport const ADMIN = 'google-oauth2|102774395820207939159'\n","import React from 'react'\nimport Accordion from '@material-ui/core/Accordion'\nimport AccordionSummary from '@material-ui/core/AccordionSummary'\nimport AccordionDetails from '@material-ui/core/AccordionDetails'\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore'\nimport './Header.scss'\nimport { Link } from 'react-router-dom'\nimport { CATEGORIES_TITLE, CATEGORIES, ALL } from '../data/constants'\n\nexport default function SimpleAccordion () {\n  return (\n    <div>\n      <Accordion className='accordion'>\n        <AccordionSummary expandIcon={<ExpandMoreIcon />} aria-controls='panel1a-content' id='panel1a-header'>\n          <p className='header__dropdown-categories'>{CATEGORIES_TITLE}</p>\n        </AccordionSummary>\n        <div>\n          {CATEGORIES?.sort().map((category) => (\n            <AccordionDetails key={category}>\n              <Link className='header__dropdown-subcategories' to={`/${category.toLowerCase()}`}>\n                {category}\n              </Link>\n            </AccordionDetails>\n          ))}\n        </div>\n        <AccordionDetails>\n          <Link className='header__dropdown-subcategories' to='/'>\n            {ALL}\n          </Link>\n        </AccordionDetails>\n      </Accordion>\n    </div>\n  )\n}\n","import axios from 'axios'\nimport { useQuery } from 'react-query';\n\nexport default function usePoems() {\n  return useQuery(\n    'poems',\n    () => axios.get('/api/poems').then((res) => res.data),\n    {\n        onError: (error) => {\n            console.error(error);\n      }\n    }\n  )\n}\n// with \"fetch\" I would have to put this somehow inside the useQuery\n// export const loadPoems = async () => {\n//     const response = await fetch('/api/poems')\n//     if(!response.ok) {\n//       throw new Error('Something went wrong')    \n//     }\n//     return response.json()\n//   }\n","export const SortObjectOfObjects = (data, attribute) => {\n    const array = []\n    for (const prop in data) {\n      if (data.hasOwnProperty(prop)) {\n        const object = {}\n        object[prop] = data[prop]\n        object.tempSortName = data[prop][attribute]\n        array.push(object)\n      }\n    }\n\n    array.sort(function (a, b) {\n      const at = a.tempSortName\n      const bt = b.tempSortName\n      return at > bt ? -1 : (at < bt ? 1 : 0)\n    })\n\n    const result = []\n    for (let i = 0, l = array.length; i < l; i++) {\n      const object = array[i]\n      delete object.tempSortName\n      for (const prop in object) {\n        if (object.hasOwnProperty(prop)) {\n          var id = prop\n        }\n      }\n      const item = object[id]\n      result.push(item)\n    }\n    return result\n}\n\nexport const getRanking = (poems, poemPoints, likePoints) => {\n    let rank = poems?.reduce(function (accumulator, item) {\n        const points = (accumulator[item.userId]?.points || 0) + poemPoints + (likePoints * item.likes.length)\n\n        accumulator[item.userId] = {\n        author: item.author,\n        picture: item.picture,\n        points\n        }\n\n        return accumulator\n    }, {})\n\n    rank = SortObjectOfObjects(rank, 'points')\n\nreturn rank\n}","import React from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\nimport CircularProgress from '@material-ui/core/CircularProgress'\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: 'flex',\n    '& > * + *': {\n      marginLeft: theme.spacing(2)\n    }\n  }\n}))\n\nexport default function CircularIndeterminate () {\n  const classes = useStyles()\n\n  return (\n    <div className={classes.root}>\n      <CircularProgress color='secondary' />\n    </div>\n  )\n}\n","import React, { useState, useEffect } from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\nimport Table from '@material-ui/core/Table'\nimport TableBody from '@material-ui/core/TableBody'\nimport TableCell from '@material-ui/core/TableCell'\nimport TableContainer from '@material-ui/core/TableContainer'\nimport TableHead from '@material-ui/core/TableHead'\nimport TableRow from '@material-ui/core/TableRow'\nimport Paper from '@material-ui/core/Paper'\nimport './Ranking.scss'\nimport usePoems from '../react-query/usePoems'\nimport { getRanking } from '../utils/getRanking.js'\nimport CircularProgress from './CircularIndeterminate'\nimport {\n  RANKING_TITLE,\n  RANKING_SUBTITLE,\n  RANKING_POETS_TITLE,\n  RANKING_POINTS_TITLE\n} from '../data/constants'\n\nconst useStyles = makeStyles({\n  table: {\n    minWidth: 50\n  }\n})\n\nexport default function Ranking () {\n  const classes = useStyles()\n  const poemPoints = 3\n  const likePoints = 1\n\n  const [poems, setPoems] = useState([])\n  const poemsQuery = usePoems()\n\n  const [rank, setRank] = useState(\n    getRanking(null)\n  )\n\n  useEffect(()=> {\n    if(poemsQuery.data) {\n      setPoems(poemsQuery.data)\n    }\n  }, [JSON.stringify(poemsQuery.data)])\n\n  useEffect(()=> {\n    if(poems) {\n      setRank(getRanking(poems, poemPoints, likePoints))\n    }\n  }, [JSON.stringify([poems, poemPoints, likePoints])])\n\n  if (poemsQuery.isLoading) {\n    return <CircularProgress />\n  }\n\n  return (\n    <>\n      <main className='ranking'>\n        <h3 className='ranking__title'>{RANKING_TITLE}</h3>\n        <h5 className='ranking__subtitle'>{RANKING_SUBTITLE}</h5>\n        <TableContainer className='ranking__body' component={Paper}>\n          <Table className={classes.table} aria-label='simple table'>\n            <TableHead>\n              <TableRow>\n                <TableCell align='center'>{RANKING_POETS_TITLE}</TableCell>\n                <TableCell align='center'>{RANKING_POINTS_TITLE}</TableCell>\n              </TableRow>\n            </TableHead>\n            <TableBody>\n              {Object.keys(rank).map((element, index) => (\n                <TableRow key={index}>\n                  <TableCell\n                    className='ranking__picture-container'\n                    align='center'\n                    component='th'\n                    scope='row'\n                  >\n                    <div className='ranking__picture-wrap'>\n                      <img\n                        className='ranking__picture'\n                        src={rank[element].picture}\n                      />\n                      <p className='ranking__picture-description'>\n                        {rank[element].author}\n                      </p>\n                    </div>\n                  </TableCell>\n                  <TableCell className='ranking__number' align='center'>\n                    {rank[element].points}\n                  </TableCell>\n                </TableRow>\n              ))}\n            </TableBody>\n          </Table>\n        </TableContainer>\n      </main>\n    </>\n  )\n}\n","import axios from 'axios'\nimport { useMutation, useQueryClient } from 'react-query';\n\nexport default function useDeletePoem() {\n const queryClient = useQueryClient()\n  return useMutation(\n    (_id) => axios.delete(`/api/poems/${_id}`).then((res) => res.data),\n    {\n      onSuccess: (data, poemDeleted) => {\n        // const oldPoems = queryClient.getQueryData('poems')\n  \n\n        // if (oldPoems) {\n        //   return () => {\n        //       queryClient.setQueryData('poems', oldPoems.filter((poem) => poem !== poemDeleted))\n        //       debugger\n        //     }\n        // }\n        // debugger\n        // return () => queryClient.setQueryData('poems', oldPoems)\n        // queryClient.setQueryData('poems', old=>old.filter((poem) => poem !== poemDeleted))\n        // debugger\n        queryClient.invalidateQueries('poems')\n      },\n        // onSuccess: () => queryCache.refetchQueries('poems'),\n        onError: (error) => {\n            console.error(error);\n      }\n    }\n  )\n}","import axios from 'axios'\nimport { useMutation, useQueryClient } from 'react-query';\n\nexport default function useLikePoem() {\n const queryClient = useQueryClient()\n  return useMutation(\n    // arguments have to be a single variable or object in this case\n    ({poemId, userId}) => axios.put(`/api/poems/${poemId}`, {\n      userId}).then((res) => res.data),\n    {\n      // data is here the whole poem object\n      // modifiedPoem is here the id of the poem\n      onSuccess: (data, modifiedPoem) => {        \n        queryClient.invalidateQueries('poems')\n      },\n        onError: (error) => {\n            console.error(error);\n      }\n    }\n  )\n}\n","function capitalizeFirstLetter (string) {\n  return string.charAt(0).toUpperCase() + string.slice(1)\n}\n\nexport default capitalizeFirstLetter\n","import {\n    ORDER_BY_DATE,\n    ORDER_BY_LIKES,\n    ORDER_BY_RANDOM,\n    ORDER_BY_TITLE,\n  } from '../data/constants'\n\nfunction sortPoems (sort, poems) {\n    if (sort === ORDER_BY_TITLE) {\n      poems.sort(function (a, b) {\n        if (a.title.toLowerCase() < b.title.toLowerCase()) return -1\n        if (a.title.toLowerCase() > b.title.toLowerCase()) return 1\n        return 0\n      })\n    }\n    if (sort === ORDER_BY_LIKES) {\n      poems.sort(function (a, b) {\n        return b.likes.length - a.likes.length\n      })\n    }\n    if (sort === ORDER_BY_RANDOM) {\n      poems.sort(() => Math.random() - 0.5)\n    }\n    if (sort === ORDER_BY_DATE) {\n      poems.sort(function (a, b) {\n        return new Date(b.date) - new Date(a.date)\n      })\n    }\n    return poems\n  }\n\n  export default sortPoems","export const normalizeSwaps = {\n    0: ['°', '₀', '۰', '０'],\n    1: ['¹', '₁', '۱', '１'],\n    2: ['²', '₂', '۲', '２'],\n    3: ['³', '₃', '۳', '３'],\n    4: ['⁴', '₄', '۴', '٤', '４'],\n    5: ['⁵', '₅', '۵', '٥', '５'],\n    6: ['⁶', '₆', '۶', '٦', '６'],\n    7: ['⁷', '₇', '۷', '７'],\n    8: ['⁸', '₈', '۸', '８'],\n    9: ['⁹', '₉', '۹', '９'],\n    a: ['à', 'á', 'ả', 'ã', 'ạ', 'ă', 'ắ', 'ằ', 'ẳ', 'ẵ', 'ặ', 'â', 'ấ', 'ầ', 'ẩ', 'ẫ', 'ậ', 'ā', 'ą', 'å', 'α', 'ά', 'ἀ', 'ἁ', 'ἂ', 'ἃ', 'ἄ', 'ἅ', 'ἆ', 'ἇ', 'ᾀ', 'ᾁ', 'ᾂ', 'ᾃ', 'ᾄ', 'ᾅ', 'ᾆ', 'ᾇ', 'ὰ', 'ά', 'ᾰ', 'ᾱ', 'ᾲ', 'ᾳ', 'ᾴ', 'ᾶ', 'ᾷ', 'а', 'أ', 'အ', 'ာ', 'ါ', 'ǻ', 'ǎ', 'ª', 'ა', 'अ', 'ا', 'ａ', 'ä'],\n    b: ['б', 'β', 'ب', 'ဗ', 'ბ', 'ｂ'],\n    c: ['ç', 'ć', 'č', 'ĉ', 'ċ', 'ｃ'],\n    d: ['ď', 'ð', 'đ', 'ƌ', 'ȡ', 'ɖ', 'ɗ', 'ᵭ', 'ᶁ', 'ᶑ', 'д', 'δ', 'د', 'ض', 'ဍ', 'ဒ', 'დ', 'ｄ'],\n    e: ['é', 'è', 'ẻ', 'ẽ', 'ẹ', 'ê', 'ế', 'ề', 'ể', 'ễ', 'ệ', 'ë', 'ē', 'ę', 'ě', 'ĕ', 'ė', 'ε', 'έ', 'ἐ', 'ἑ', 'ἒ', 'ἓ', 'ἔ', 'ἕ', 'ὲ', 'έ', 'е', 'ё', 'э', 'є', 'ə', 'ဧ', 'ေ', 'ဲ', 'ე', 'ए', 'إ', 'ئ', 'ｅ'],\n    f: ['ф', 'φ', 'ف', 'ƒ', 'ფ', 'ｆ'],\n    g: ['ĝ', 'ğ', 'ġ', 'ģ', 'г', 'ґ', 'γ', 'ဂ', 'გ', 'گ', 'ｇ'],\n    h: ['ĥ', 'ħ', 'η', 'ή', 'ح', 'ه', 'ဟ', 'ှ', 'ჰ', 'ｈ'],\n    i: ['í', 'ì', 'ỉ', 'ĩ', 'ị', 'î', 'ï', 'ī', 'ĭ', 'į', 'ı', 'ι', 'ί', 'ϊ', 'ΐ', 'ἰ', 'ἱ', 'ἲ', 'ἳ', 'ἴ', 'ἵ', 'ἶ', 'ἷ', 'ὶ', 'ί', 'ῐ', 'ῑ', 'ῒ', 'ΐ', 'ῖ', 'ῗ', 'і', 'ї', 'и', 'ဣ', 'ိ', 'ီ', 'ည်', 'ǐ', 'ი', 'इ', 'ی', 'ｉ'],\n    j: ['ĵ', 'ј', 'Ј', 'ჯ', 'ج', 'ｊ'],\n    k: ['ķ', 'ĸ', 'к', 'κ', 'Ķ', 'ق', 'ك', 'က', 'კ', 'ქ', 'ک', 'ｋ'],\n    l: ['ł', 'ľ', 'ĺ', 'ļ', 'ŀ', 'л', 'λ', 'ل', 'လ', 'ლ', 'ｌ'],\n    m: ['м', 'μ', 'م', 'မ', 'მ', 'ｍ'],\n    n: ['ñ', 'ń', 'ň', 'ņ', 'ŉ', 'ŋ', 'ν', 'н', 'ن', 'န', 'ნ', 'ｎ'],\n    o: ['ó', 'ò', 'ỏ', 'õ', 'ọ', 'ô', 'ố', 'ồ', 'ổ', 'ỗ', 'ộ', 'ơ', 'ớ', 'ờ', 'ở', 'ỡ', 'ợ', 'ø', 'ō', 'ő', 'ŏ', 'ο', 'ὀ', 'ὁ', 'ὂ', 'ὃ', 'ὄ', 'ὅ', 'ὸ', 'ό', 'о', 'و', 'θ', 'ို', 'ǒ', 'ǿ', 'º', 'ო', 'ओ', 'ｏ', 'ö'],\n    p: ['п', 'π', 'ပ', 'პ', 'پ', 'ｐ'],\n    q: ['ყ', 'ｑ'],\n    r: ['ŕ', 'ř', 'ŗ', 'р', 'ρ', 'ر', 'რ', 'ｒ'],\n    s: ['ś', 'š', 'ş', 'с', 'σ', 'ș', 'ς', 'س', 'ص', 'စ', 'ſ', 'ს', 'ｓ'],\n    t: ['ť', 'ţ', 'т', 'τ', 'ț', 'ت', 'ط', 'ဋ', 'တ', 'ŧ', 'თ', 'ტ', 'ｔ'],\n    u: ['ú', 'ù', 'ủ', 'ũ', 'ụ', 'ư', 'ứ', 'ừ', 'ử', 'ữ', 'ự', 'û', 'ū', 'ů', 'ű', 'ŭ', 'ų', 'µ', 'у', 'ဉ', 'ု', 'ူ', 'ǔ', 'ǖ', 'ǘ', 'ǚ', 'ǜ', 'უ', 'उ', 'ｕ', 'ў', 'ü'],\n    v: ['в', 'ვ', 'ϐ', 'ｖ'],\n    w: ['ŵ', 'ω', 'ώ', 'ဝ', 'ွ', 'ｗ'],\n    x: ['χ', 'ξ', 'ｘ'],\n    y: ['ý', 'ỳ', 'ỷ', 'ỹ', 'ỵ', 'ÿ', 'ŷ', 'й', 'ы', 'υ', 'ϋ', 'ύ', 'ΰ', 'ي', 'ယ', 'ｙ'],\n    z: ['ź', 'ž', 'ż', 'з', 'ζ', 'ز', 'ဇ', 'ზ', 'ｚ'],\n    aa: ['ع', 'आ', 'آ'],\n    ae: ['æ', 'ǽ'],\n    ai: ['ऐ'],\n    ch: ['ч', 'ჩ', 'ჭ', 'چ'],\n    dj: ['ђ', 'đ'],\n    dz: ['џ', 'ძ'],\n    ei: ['ऍ'],\n    gh: ['غ', 'ღ'],\n    ii: ['ई'],\n    ij: ['ĳ'],\n    kh: ['х', 'خ', 'ხ'],\n    lj: ['љ'],\n    nj: ['њ'],\n    oe: ['ö', 'œ', 'ؤ'],\n    oi: ['ऑ'],\n    oii: ['ऒ'],\n    ps: ['ψ'],\n    sh: ['ш', 'შ', 'ش'],\n    shch: ['щ'],\n    ss: ['ß'],\n    sx: ['ŝ'],\n    th: ['þ', 'ϑ', 'ث', 'ذ', 'ظ'],\n    ts: ['ц', 'ც', 'წ'],\n    ue: ['ü'],\n    uu: ['ऊ'],\n    ya: ['я'],\n    yu: ['ю'],\n    zh: ['ж', 'ჟ', 'ژ'],\n    '(c)': ['©'],\n    A: ['Á', 'À', 'Ả', 'Ã', 'Ạ', 'Ă', 'Ắ', 'Ằ', 'Ẳ', 'Ẵ', 'Ặ', 'Â', 'Ấ', 'Ầ', 'Ẩ', 'Ẫ', 'Ậ', 'Å', 'Ā', 'Ą', 'Α', 'Ά', 'Ἀ', 'Ἁ', 'Ἂ', 'Ἃ', 'Ἄ', 'Ἅ', 'Ἆ', 'Ἇ', 'ᾈ', 'ᾉ', 'ᾊ', 'ᾋ', 'ᾌ', 'ᾍ', 'ᾎ', 'ᾏ', 'Ᾰ', 'Ᾱ', 'Ὰ', 'Ά', 'ᾼ', 'А', 'Ǻ', 'Ǎ', 'Ａ', 'Ä'],\n    B: ['Б', 'Β', 'ब', 'Ｂ'],\n    C: ['Ç', 'Ć', 'Č', 'Ĉ', 'Ċ', 'Ｃ'],\n    D: ['Ď', 'Ð', 'Đ', 'Ɖ', 'Ɗ', 'Ƌ', 'ᴅ', 'ᴆ', 'Д', 'Δ', 'Ｄ'],\n    E: ['É', 'È', 'Ẻ', 'Ẽ', 'Ẹ', 'Ê', 'Ế', 'Ề', 'Ể', 'Ễ', 'Ệ', 'Ë', 'Ē', 'Ę', 'Ě', 'Ĕ', 'Ė', 'Ε', 'Έ', 'Ἐ', 'Ἑ', 'Ἒ', 'Ἓ', 'Ἔ', 'Ἕ', 'Έ', 'Ὲ', 'Е', 'Ё', 'Э', 'Є', 'Ə', 'Ｅ'],\n    F: ['Ф', 'Φ', 'Ｆ'],\n    G: ['Ğ', 'Ġ', 'Ģ', 'Г', 'Ґ', 'Γ', 'Ｇ'],\n    H: ['Η', 'Ή', 'Ħ', 'Ｈ'],\n    I: ['Í', 'Ì', 'Ỉ', 'Ĩ', 'Ị', 'Î', 'Ï', 'Ī', 'Ĭ', 'Į', 'İ', 'Ι', 'Ί', 'Ϊ', 'Ἰ', 'Ἱ', 'Ἳ', 'Ἴ', 'Ἵ', 'Ἶ', 'Ἷ', 'Ῐ', 'Ῑ', 'Ὶ', 'Ί', 'И', 'І', 'Ї', 'Ǐ', 'ϒ', 'Ｉ'],\n    J: ['Ｊ'],\n    K: ['К', 'Κ', 'Ｋ'],\n    L: ['Ĺ', 'Ł', 'Л', 'Λ', 'Ļ', 'Ľ', 'Ŀ', 'ल', 'Ｌ'],\n    M: ['М', 'Μ', 'Ｍ'],\n    N: ['Ń', 'Ñ', 'Ň', 'Ņ', 'Ŋ', 'Н', 'Ν', 'Ｎ'],\n    O: ['Ó', 'Ò', 'Ỏ', 'Õ', 'Ọ', 'Ô', 'Ố', 'Ồ', 'Ổ', 'Ỗ', 'Ộ', 'Ơ', 'Ớ', 'Ờ', 'Ở', 'Ỡ', 'Ợ', 'Ø', 'Ō', 'Ő', 'Ŏ', 'Ο', 'Ό', 'Ὀ', 'Ὁ', 'Ὂ', 'Ὃ', 'Ὄ', 'Ὅ', 'Ὸ', 'Ό', 'О', 'Θ', 'Ө', 'Ǒ', 'Ǿ', 'Ｏ', 'Ö'],\n    P: ['П', 'Π', 'Ｐ'],\n    Q: ['Ｑ'],\n    R: ['Ř', 'Ŕ', 'Р', 'Ρ', 'Ŗ', 'Ｒ'],\n    S: ['Ş', 'Ŝ', 'Ș', 'Š', 'Ś', 'С', 'Σ', 'Ｓ'],\n    T: ['Ť', 'Ţ', 'Ŧ', 'Ț', 'Т', 'Τ', 'Ｔ'],\n    U: ['Ú', 'Ù', 'Ủ', 'Ũ', 'Ụ', 'Ư', 'Ứ', 'Ừ', 'Ử', 'Ữ', 'Ự', 'Û', 'Ū', 'Ů', 'Ű', 'Ŭ', 'Ų', 'У', 'Ǔ', 'Ǖ', 'Ǘ', 'Ǚ', 'Ǜ', 'Ｕ', 'Ў', 'Ü'],\n    V: ['В', 'Ｖ'],\n    W: ['Ω', 'Ώ', 'Ŵ', 'Ｗ'],\n    X: ['Χ', 'Ξ', 'Ｘ'],\n    Y: ['Ý', 'Ỳ', 'Ỷ', 'Ỹ', 'Ỵ', 'Ÿ', 'Ῠ', 'Ῡ', 'Ὺ', 'Ύ', 'Ы', 'Й', 'Υ', 'Ϋ', 'Ŷ', 'Ｙ'],\n    Z: ['Ź', 'Ž', 'Ż', 'З', 'Ζ', 'Ｚ'],\n    AE: ['Æ', 'Ǽ'],\n    Ch: ['Ч'],\n    Dj: ['Ђ'],\n    Dz: ['Џ'],\n    Gx: ['Ĝ'],\n    Hx: ['Ĥ'],\n    Ij: ['Ĳ'],\n    Jx: ['Ĵ'],\n    Kh: ['Х'],\n    Lj: ['Љ'],\n    Nj: ['Њ'],\n    Oe: ['Œ'],\n    Ps: ['Ψ'],\n    Sh: ['Ш'],\n    Shch: ['Щ'],\n    Ss: ['ẞ'],\n    Th: ['Þ'],\n    Ts: ['Ц'],\n    Ya: ['Я'],\n    Yu: ['Ю'],\n    Zh: ['Ж'],\n    '-': [' '],\n};\n","import { normalizeSwaps } from '../data/normalizeSwaps';\n\n/**\n *\n * @param input {string} String to be normalized\n * @returns {string}\n */\nconst normalizeString = (input = '') => {\n    let str = String(input);\n    str = str.replace(/^\\s+|\\s+$/g, ''); // trim\n    str = str.toLowerCase();\n\n    // remove accents, swap ñ for n, etc\n    Object.keys(normalizeSwaps).forEach((swap) => {\n        normalizeSwaps[swap].forEach((s) => {\n            str = str.replace(new RegExp(s, 'g'), swap);\n        });\n    });\n    return str;\n}\n\nexport default normalizeString","import React, { useEffect, useState, useContext } from 'react'\nimport { Link } from 'react-router-dom'\nimport usePoems from '../react-query/usePoems'\nimport useDeletePoem from '../react-query/useDeletePoem'\nimport useLikePoem from '../react-query/useLikePoem'\nimport { AppContext } from '../App';\nimport './List.scss'\nimport './Detail.scss'\nimport '../App.scss'\nimport { TextField } from '@material-ui/core'\nimport SearchIcon from '@material-ui/icons/Search'\nimport HighlightOffSharpIcon from '@material-ui/icons/HighlightOffSharp'\nimport EditIcon from '@material-ui/icons/Edit';\nimport SubjectSharpIcon from '@material-ui/icons/SubjectSharp'\nimport { useAuth0 } from '@auth0/auth0-react'\nimport CircularProgress from './CircularIndeterminate'\nimport capitalizeFirstLetter from '../utils/capitalizeFirstLetter'\nimport sortPoems from '../utils/sortPoems'\nimport { Helmet } from 'react-helmet'\nimport {\n  LIKE,\n  LIKES,\n  READ_MORE,\n  SEARCH_PLACEHOLDER,\n  ORDER_BY,\n  ORDER_BY_DATE,\n  ORDER_BY_LIKES,\n  ORDER_BY_RANDOM,\n  ORDER_BY_TITLE,\n  CATEGORIES_TITLE_LABEL\n} from '../data/constants'\nimport normalizeString from '../utils/normalizeString'\nimport { useHistory } from \"react-router-dom\";\n\nconst { REACT_APP_ADMIN } = process.env\n\nfunction List (props) {\n  const { user, isAuthenticated, isLoading: auth0IsLoading } = useAuth0()\n  const genre = props.match.params.genre\n  const [poems, setPoems] = useState([])\n  const [filter, setFilter] = useState('')\n  \n  const context = useContext(AppContext);\n  const poemsQuery = usePoems()\n\n  useEffect(()=> {\n    if(poemsQuery.data) {\n      const newData = [...poemsQuery.data]\n\n      if(genre) {\n        const poemsFiltered = newData.filter((poems) => poems.genre === genre)\n        const poemsSorted = sortPoems(context.sortPoemsBy, poemsFiltered)\n        setPoems(poemsSorted)\n      }\n      else {\n        const poemsSorted = sortPoems(context.sortPoemsBy, newData)\n        setPoems(poemsSorted)\n      }\n    }\n  }, [JSON.stringify([poemsQuery.data, genre, context.sortPoemsBy])])\n\n  const deletePoemMutation = useDeletePoem()\n  const likePoemMutation = useLikePoem()\n\n  const onLike = (event, poemId, userId) => {\n    event.preventDefault()\n    likePoemMutation.mutate({poemId, userId})\n  }\n\n  const history = useHistory();\n\n  const editPoem = (poemId) => {\n    const newPath = '/profile'\n    history.push(newPath);\n    context.setState({elementToEdit: poemId})\n  }\n\n  const handleSearchChange = (event) => {\n    setFilter(normalizeString(event.target.value))\n  }\n\n  if (auth0IsLoading || poemsQuery.isLoading) {\n    return <CircularProgress />\n  }\n\n  return (\n    <>\n      <Helmet>\n        <title>\n          {genre ? `${capitalizeFirstLetter(genre)} poems` : 'Poemunity'}\n        </title>\n      </Helmet>\n      <div className='list__container'>\n        <div className='list__intro'>\n          {genre && (\n            <p className='list__presentation'>\n              {CATEGORIES_TITLE_LABEL}\n              {genre.toUpperCase()}\n            </p>\n          )}\n          <div className='list__search'>\n          <div className='separator' />\n            <SearchIcon style={{ fontSize: 40, fill: '#4F5D73' }} />\n            <TextField\n              label={SEARCH_PLACEHOLDER}\n              InputLabelProps={{\n                style: { color: '#4F5D73' }\n              }}\n              InputProps={{\n                style: { color: '#4F5D73' }\n              }}\n              onChange={handleSearchChange}\n            />\n          </div>\n          <form className='list__sort'>\n            <label>\n              {ORDER_BY}\n              <select\n                type='submit'\n                id='sort'\n                name='sort'\n                onChange={(event) => {\n                  context.setState({sortPoemsBy: event.target.value})\n                }}\n              >\n                <option value={ORDER_BY_LIKES} selected={ORDER_BY_LIKES === context.sortPoemsBy}>{ORDER_BY_LIKES}</option>\n                <option value={ORDER_BY_DATE} selected={ORDER_BY_DATE === context.sortPoemsBy}>{ORDER_BY_DATE}</option>\n                <option value={ORDER_BY_RANDOM} selected={ORDER_BY_RANDOM === context.sortPoemsBy}>{ORDER_BY_RANDOM}</option>\n                <option value={ORDER_BY_TITLE} selected={ORDER_BY_TITLE === context.sortPoemsBy}>{ORDER_BY_TITLE}</option>\n              </select>\n            </label>\n          </form>\n        </div>\n\n        {poems?.map((poem) => (\n          <main key={poem._id} className='poem__detail'>\n            {normalizeString(poem.author).includes(filter) && (\n              <section className='poem__block'>\n                <section>\n                  <Link to={`/detail/${poem._id}`} className='poem__title'>\n                    {poem.title}\n                  </Link>\n                  <div className='poem__author-container'>\n                    <img className='poem__picture' src={poem.picture} />\n                    <p className='poem__author'>{poem.author}</p>\n                  </div>\n                  <div className='poem__date'>{poem.date}</div>\n                </section>\n                <section>\n                  <div className='poem__content poems__content'>\n                    {poem.poem}\n                  </div>\n                  <div className='poems__read-more'>\n                    <Link\n                      to={`/detail/${poem._id}`}\n                      className='poems__read-more'\n                    >\n                      {READ_MORE}\n                    </Link>\n                  </div>\n                </section>\n                <section className='poem__footer'>\n                  {poem.likes.length === 1 && (\n                    <div className='poem__likes'>\n                      {poem.likes.length} {LIKE}\n                    </div>\n                  )}\n                  {poem.likes.length !== 1 && (\n                    <div className='poem__likes'>\n                      {poem.likes.length} {LIKES}\n                    </div>\n                  )}\n                  <div className='separator' />\n                  {isAuthenticated &&\n                    poem.author !== user.name &&\n                    poem.likes.some((id) => id === user.sub) && (\n                      <Link\n                        className='poem__likes-icon'\n                        onClick={(event) => onLike(event, poem._id, user.sub)}\n                      />\n                  )}\n                  {isAuthenticated &&\n                    poem.author !== user.name &&\n                    !poem.likes.some((id) => id === user.sub) && (\n                      <Link\n                        className='poem__unlikes-icon'\n                        onClick={(event) => onLike(event, poem._id, user.sub)}\n                      />\n                  )}\n                  {isAuthenticated &&\n                    (poem.author === user.name ||\n                      user.sub === REACT_APP_ADMIN) && (\n                    <EditIcon\n                    className='poem__edit-icon'\n                    onClick={(event) => editPoem(poem._id)}\n                  />\n                  )}\n                  {isAuthenticated &&\n                    (poem.author === user.name ||\n                      user.sub === REACT_APP_ADMIN) && (\n                        <HighlightOffSharpIcon\n                          className='poem__delete-icon'\n                          style={{ fill: 'red' }}\n                          onClick={(event) => deletePoemMutation.mutate(poem._id)}\n                        />\n                  )}\n                  <Link\n                    to={`/detail/${poem._id}`}\n                    className='poem__comments-icon'\n                  >\n                    <SubjectSharpIcon style={{ fill: '#000' }} />\n                  </Link>\n                </section>\n              </section>\n            )}\n          </main>\n        ))}\n      </div>\n    </>\n  )\n}\nexport default List\n","import React from 'react'\nimport './List.scss'\nimport './Detail.scss'\nimport '../App.scss'\nimport './Dashboard.scss'\nimport Accordion from './SimpleAccordion'\nimport Ranking from './Ranking'\nimport List from './List'\n\nfunction Dashboard (props) {\n  return (\n    <main className='dashboard'>\n      <div className='dashboard__accordion'>\n        <Accordion />\n      </div>\n      <div className='dashboard__list'>\n        <List {...props} />\n      </div>\n      <div className='dashboard__ranking'>\n        <Ranking />\n      </div>\n    </main>\n  )\n}\nexport default Dashboard\n","import axios from 'axios'\nimport { useQuery, useQueryClient } from 'react-query';\n\nexport default function usePoem(_id) {\n const queryClient = useQueryClient()\n  return useQuery(\n    ['poems', _id],\n    () => axios.get(`/api/poems/${_id}`).then((res) => res.data),\n    {\n      initialData: () => { \n        return queryClient.getQueryData('poems')?.find(d => d.id === _id)\n      },\n      initialStale: true,\n      onError: (error) => {\n          console.error(error);\n      }\n    }\n  )\n}\n","import React, { useEffect, useState, useContext } from 'react'\nimport { AppContext } from '../App';\nimport { Link } from 'react-router-dom'\nimport './Detail.scss'\nimport '../App.scss'\nimport HighlightOffSharpIcon from '@material-ui/icons/HighlightOffSharp'\nimport EditIcon from '@material-ui/icons/Edit';\nimport SubjectSharpIcon from '@material-ui/icons/SubjectSharp'\nimport { useAuth0 } from '@auth0/auth0-react'\nimport Disqus from 'disqus-react'\nimport CircularProgress from './CircularIndeterminate'\nimport './PageNotFound.scss'\nimport { Helmet } from 'react-helmet'\nimport { LIKE, LIKES } from '../data/constants'\nimport usePoem from '../react-query/usePoem'\nimport useDeletePoem from '../react-query/useDeletePoem'\nimport useLikePoem from '../react-query/useLikePoem'\nimport { useHistory } from \"react-router-dom\";\n\nconst { REACT_APP_ADMIN } = process.env\n\nfunction Detail (props) {\n  const { user, isAuthenticated, isLoading: auth0IsLoading } = useAuth0()\n  const [poem, setPoem] = useState([])\n\n  const context = useContext(AppContext);\n\n  const poemQuery = usePoem(props.match.params.poemId)\n\n  useEffect(()=> {\n    if(poemQuery.data) {\n      setPoem(poemQuery.data)\n    }\n  }, [JSON.stringify(poemQuery.data)])\n\n  const deletePoemMutation = useDeletePoem()\n  const likePoemMutation = useLikePoem()\n\n  function onLike (event, poemId, userId) {\n    event.preventDefault()\n    likePoemMutation.mutate({poemId, userId})\n  }\n  \n  const history = useHistory();\n\n  const editPoem = (poemId) => {\n    const newPath = '/profile'\n    history.push(newPath);\n    context.setState({elementToEdit: poemId})\n  }\n\n  if (auth0IsLoading || poemQuery.isLoading) {\n    return <CircularProgress />\n  }\n\n  const disqusShortname = 'poemunity'\n  const disqusConfig = {\n    url: `http://localhost:3000/detail/${props.match.params.poemId}`,\n    identifier: `http://localhost:3000/detail/${props.match.params.poemId}`,\n    title: 'Title of Your Article'\n  }\n\n  return (\n    <>\n      {!poem && (\n        <main className='page-not-found__container'>\n          <section className='page-not-found__message'>\n            <h1 className='page-not-found__title'>Error - 404</h1>\n            <p className='page-not-found__text'>Nothing to see here</p>\n            <Link className='page-not-found__link' to='/'>\n              Back to Dashboard\n            </Link>\n          </section>\n        </main>\n      )}\n      {poem && poem.likes && (\n        <main className='poem__detail'>\n          <Helmet>\n            <title>{`Poem: ${poem.title}`}</title>\n          </Helmet>\n          <section className='poem__block'>\n            <section>\n              <h2 className='poem__title'>{poem.title}</h2>\n              <div className='poem__author-container'>\n                <img className='poem__picture' src={poem.picture} />\n                <p className='poem__author'>{poem.author}</p>\n              </div>\n              <div className='poem__date'>{poem.date}</div>\n            </section>\n            <section>\n              <div className='poem__content'>{poem.poem}</div>\n            </section>\n            <br />\n            <section className='poem__footer'>\n              {poem.likes.length === 1 && (\n                <div className='poem__likes'>\n                  {poem.likes.length} {LIKE}\n                </div>\n              )}\n              {poem.likes.length !== 1 && (\n                <div className='poem__likes'>\n                  {poem.likes.length} {LIKES}\n                </div>\n              )}\n              <div className='separator' />\n              {isAuthenticated &&\n                poem.author !== user.name &&\n                poem.likes.some((id) => id === user.sub) && (\n                  <Link\n                    className='poem__likes-icon'\n                    onClick={(event) => onLike(event, poem._id, user.sub)}\n                  />\n              )}\n              {isAuthenticated &&\n                poem.author !== user.name &&\n                !poem.likes.some((id) => id === user.sub) && (\n                  <Link\n                    className='poem__unlikes-icon'\n                    onClick={(event) => onLike(event, poem._id, user.sub)}\n                  />\n              )}\n              {isAuthenticated &&\n                (poem.author === user.name ||\n                  user.sub === REACT_APP_ADMIN) && (\n                    <EditIcon\n                    className='poem__edit-icon'\n                    onClick={(event) => editPoem(poem._id)}\n                    />\n              )}\n              {isAuthenticated &&\n                (poem.author === user.name || user.sub === REACT_APP_ADMIN) && (\n                  <HighlightOffSharpIcon\n                    className='poem__delete-icon'\n                    style={{ fill: 'red' }}\n                    onClick={(event) => deletePoemMutation.mutate(poem._id)}\n                  />\n              )}\n              <Link to={`/detail/${poem._id}`} className='poem__comments-icon'>\n                <SubjectSharpIcon style={{ fill: '#000' }} />\n              </Link>\n            </section>\n          </section>\n          <div className='article-container'>\n            <Disqus.DiscussionEmbed\n              shortname={disqusShortname}\n              config={disqusConfig}\n            />\n          </div>\n        </main>\n      )}\n    </>\n  )\n}\n\nexport default Detail\n","import React from 'react'\nimport { useAuth0 } from '@auth0/auth0-react'\nimport './Header.scss'\n\nconst Login = () => {\n  const { loginWithRedirect } = useAuth0()\n\n  return <button className='header__login' onClick={() => loginWithRedirect()} />\n}\n\nexport default Login\n","import React from 'react'\nimport { useAuth0 } from '@auth0/auth0-react'\nimport './Header.scss'\n\nconst Logout = () => {\n  const { logout } = useAuth0()\n\n  return (\n    <button className='header__logout' onClick={() => logout({ returnTo: window.location.origin })} />\n  )\n}\n\nexport default Logout\n","import React from 'react'\nimport { Link } from 'react-router-dom'\nimport './Header.scss'\nimport '../App.scss'\nimport Accordion from './SimpleAccordion'\nimport CircularProgress from './CircularIndeterminate'\nimport LoginButton from './Login'\nimport LogoutButton from './Logout'\nimport { useAuth0 } from '@auth0/auth0-react'\nimport {\n  WEB_SUBTITLE,\n} from '../data/constants'\n\nfunction Header () {\n  const { isAuthenticated, isLoading } = useAuth0()\n\n  if (isLoading) {\n    return <CircularProgress />\n  }\n  return (\n    <>\n      <section className='header'>\n        <div className='header__dropdown'>\n          <Accordion />\n        </div>\n        <div className='header__logo'>\n          <Link to='/' className='header__text-logo-first'>\n            P\n          </Link>\n          <Link to='/' className='header__logo-icon' />\n          <Link to='/' className='header__text-logo-second'>\n            emunity\n          </Link>\n        </div>\n        <p className='list__presentation'>{WEB_SUBTITLE}</p>\n        <div className='separator' />\n        {isAuthenticated ? (\n          <Link to='/profile' className='header__profile' />\n        ) : (\n          <></>\n        )}\n        {isAuthenticated ? <LogoutButton /> : <LoginButton />}\n      </section>\n    </>\n  )\n}\n\nexport default Header\n","const getPoemsByUser = (poems, user) => {\n    return poems.filter((poem) => poem.author === user.name)\n}\n\nexport default getPoemsByUser","import React, { useEffect, useState, useContext } from 'react'\nimport { AppContext } from '../App';\nimport { Link } from 'react-router-dom'\nimport './List.scss'\nimport './Detail.scss'\nimport '../App.scss'\nimport { TextField } from '@material-ui/core'\nimport SearchIcon from '@material-ui/icons/Search'\nimport EditIcon from '@material-ui/icons/Edit';\nimport HighlightOffSharpIcon from '@material-ui/icons/HighlightOffSharp'\nimport SubjectSharpIcon from '@material-ui/icons/SubjectSharp'\nimport { useAuth0 } from '@auth0/auth0-react'\nimport CircularProgress from './CircularIndeterminate'\nimport usePoems from '../react-query/usePoems'\nimport getPoemsByUser from '../utils/getPoemsByUser'\nimport useDeletePoem from '../react-query/useDeletePoem'\n\nconst { REACT_APP_ADMIN } = process.env\n\nfunction MyPoems (props) {\n  const { user, isAuthenticated, isLoading } = useAuth0()\n\n  const [poems, setPoems] = useState([])\n  const [filter, setFilter] = useState('')\n\n  const context = useContext(AppContext);\n  const poemsQuery = usePoems()\n\n  useEffect(()=> {\n    if(poemsQuery.data) {\n      const poemsFiltered = getPoemsByUser(poemsQuery.data, user)\n      setPoems(poemsFiltered)\n    }\n  }, [JSON.stringify([poemsQuery.data, user])])\n\n  const editPoem = (poemId) => {\n    context.setState({elementToEdit: poemId})\n  }\n\n  const deletePoemMutation = useDeletePoem()\n\n  const LIKE = 'Like'\n  const LIKES = 'Likes'\n  const READ_MORE = 'Leer más'\n\n  const handleSearchChange = (event) => {\n    setFilter(event.target.value)\n  }\n\n  if (isLoading) {\n    return <CircularProgress />\n  }\n\n  return (\n    <>\n      <div className='search__container'>\n        <div className='separator' />\n        <div className='list__intro'>\n          <SearchIcon style={{ fontSize: 40, fill: '#551A8B' }} />\n          <TextField\n            label='Buscar autor'\n            InputLabelProps={{\n              style: { color: '#551A8B' }\n            }}\n            InputProps={{\n              style: { color: '#551A8B' }\n            }}\n            onChange={handleSearchChange}\n          />\n        </div>\n      </div>\n      {poems.map((poem) => (\n        <main key={poem._id} className='poem__detail'>\n          {poem.author.includes(filter) && (\n            <section className='poem__block'>\n              <section>\n                <Link to={`/detail/${poem._id}`} className='poem__title'>\n                  {poem.title}\n                </Link>\n                <p className='poem__author'>{poem.author}</p>\n                <div className='poem__date'>{poem.date}</div>\n              </section>\n              <section>\n                <div className='poem__content poems__content'>{poem.poem}</div>\n                <div className='poems__read-more'>\n                  <Link\n                    to={`/detail/${poem._id}`}\n                    className='poems__read-more'\n                  >\n                    {READ_MORE}\n                  </Link>\n                </div>\n              </section>\n              <section className='poem__footer'>\n                {poem.likes.length === 1 && (\n                  <div className='poem__likes'>\n                    {poem.likes.length} {LIKE}\n                  </div>\n                )}\n                {poem.likes.length !== 1 && (\n                  <div className='poem__likes'>\n                    {poem.likes.length} {LIKES}\n                  </div>\n                )}\n                <div className='separator' />\n                {isAuthenticated &&\n                  (poem.author === user.name ||\n                    user.sub === REACT_APP_ADMIN) && (\n                      <EditIcon\n                      className='poem__edit-icon'\n                      onClick={(event) => editPoem(poem._id)}\n                      />\n                )}\n                {isAuthenticated && poem.author === user.name && (\n                  <HighlightOffSharpIcon\n                    className='poem__delete-icon'\n                    style={{ fill: 'red' }}\n                    onClick={(event) => deletePoemMutation.mutate(poem._id)}\n                  />\n                )}\n                <Link\n                  to={`/detail/${poem._id}`}\n                  className='poem__comments-icon'\n                >\n                  <SubjectSharpIcon style={{ fill: '#000' }} />\n                </Link>\n              </section>\n            </section>\n          )}\n        </main>\n      ))}\n    </>\n  )\n}\nexport default MyPoems\n","const getFavouritePoemsByUser = (poems, user) => {\n    return poems.filter((poem) => poem.likes.some((element) => element === user.sub))\n}\n\nexport default getFavouritePoemsByUser","import React, { useEffect, useState } from 'react'\nimport { Link } from 'react-router-dom'\nimport './List.scss'\nimport './Detail.scss'\nimport '../App.scss'\nimport { TextField } from '@material-ui/core'\nimport SearchIcon from '@material-ui/icons/Search'\nimport HighlightOffSharpIcon from '@material-ui/icons/HighlightOffSharp'\nimport SubjectSharpIcon from '@material-ui/icons/SubjectSharp'\nimport { useAuth0 } from '@auth0/auth0-react'\nimport CircularProgress from './CircularIndeterminate'\nimport usePoems from '../react-query/usePoems'\nimport useDeletePoem from '../react-query/useDeletePoem'\nimport useLikePoem from '../react-query/useLikePoem'\nimport getFavouritePoemsByUser from '../utils/getFavouritePoemsByUser'\n\nfunction MyFavouritePoems (props) {\n  const { user, isAuthenticated, isLoading } = useAuth0()\n\n  const [poems, setPoems] = useState([])\n  const [filter, setFilter] = useState('')\n\n  const poemsQuery = usePoems()\n\n  useEffect(()=> {\n    if(poemsQuery.data) {\n      const poemsFiltered = getFavouritePoemsByUser(poemsQuery.data, user)\n      setPoems(poemsFiltered)\n    }\n  }, [JSON.stringify([poemsQuery.data, user])])\n\n  const deletePoemMutation = useDeletePoem()\n  const likePoemMutation = useLikePoem()\n\n  function onLike (event, poemId, userId) {\n    event.preventDefault()\n    likePoemMutation.mutate({poemId, userId})\n  }\n\n  const LIKE = 'Like'\n  const LIKES = 'Likes'\n  const READ_MORE = 'Leer más'\n\n  const handleSearchChange = (event) => {\n    setFilter(event.target.value)\n  }\n\n  if (isLoading) {\n    return <CircularProgress />\n  }\n\n  return (\n    <>\n      <div className='search__container'>\n        <div className='separator' />\n        <div className='list__intro'>\n          <SearchIcon style={{ fontSize: 40, fill: '#551A8B' }} />\n          <TextField\n            label='Buscar autor'\n            InputLabelProps={{\n              style: { color: '#551A8B' }\n            }}\n            InputProps={{\n              style: { color: '#551A8B' }\n            }}\n            onChange={handleSearchChange}\n          />\n        </div>\n      </div>\n      {poems.map((poem) => (\n        <main key={poem._id} className='poem__detail'>\n          {poem.author.includes(filter) && (\n            <section className='poem__block'>\n              <section>\n                <Link to={`/detail/${poem._id}`} className='poem__title'>\n                  {poem.title}\n                </Link>\n                <div className='poem__author-container'>\n                  <img className='poem__picture' src={poem.picture} />\n                  <p className='poem__author'>{poem.author}</p>\n                </div>\n                <div className='poem__date'>{poem.date}</div>\n              </section>\n              <section>\n                <div className='poem__content poems__content'>{poem.poem}</div>\n                <div className='poems__read-more'>\n                  <Link\n                    to={`/detail/${poem._id}`}\n                    className='poems__read-more'\n                  >\n                    {READ_MORE}\n                  </Link>\n                </div>\n              </section>\n              <section className='poem__footer'>\n                {poem.likes.length === 1 && (\n                  <div className='poem__likes'>\n                    {poem.likes.length} {LIKE}\n                  </div>\n                )}\n                {poem.likes.length !== 1 && (\n                  <div className='poem__likes'>\n                    {poem.likes.length} {LIKES}\n                  </div>\n                )}\n                <div className='separator' />\n                {isAuthenticated &&\n                  poem.author !== user.name &&\n                  poem.likes.some((id) => id === user.sub) && (\n                    <Link\n                      className='poem__likes-icon'\n                      onClick={(event) => onLike(event, poem._id, user.sub)}\n                    />\n                )}\n                {isAuthenticated &&\n                  poem.author !== user.name &&\n                  !poem.likes.some((id) => id === user.sub) && (\n                    <Link\n                      className='poem__unlikes-icon'\n                      onClick={(event) => onLike(event, poem._id, user.sub)}\n                    />\n                )}\n                {isAuthenticated && poem.author === user.name && (\n                  <HighlightOffSharpIcon\n                    className='poem__delete-icon'\n                    style={{ fill: 'red' }}\n                    onClick={(event) => deletePoemMutation.mutate(poem._id)}\n                  />\n                )}\n                <Link\n                  to={`/detail/${poem._id}`}\n                  className='poem__comments-icon'\n                >\n                  <SubjectSharpIcon style={{ fill: '#000' }} />\n                </Link>\n              </section>\n            </section>\n          )}\n        </main>\n      ))}\n    </>\n  )\n}\nexport default MyFavouritePoems\n","import React, { useState, useEffect, useContext } from 'react'\nimport { AppContext } from '../App';\nimport PropTypes from 'prop-types'\nimport SwipeableViews from 'react-swipeable-views'\nimport { makeStyles, useTheme } from '@material-ui/core/styles'\nimport AppBar from '@material-ui/core/AppBar'\nimport Tabs from '@material-ui/core/Tabs'\nimport Tab from '@material-ui/core/Tab'\nimport Typography from '@material-ui/core/Typography'\nimport Box from '@material-ui/core/Box'\nimport './Profile.scss'\nimport '../App.scss'\nimport MyPoems from './MyPoems'\nimport MyFavouritePoems from './MyFavouritePoems'\nimport { useAuth0 } from '@auth0/auth0-react'\nimport CircularProgress from './CircularIndeterminate'\nimport useCreatePoem from '../react-query/useCreatePoem'\nimport useSavePoem from '../react-query/useSavePoem'\nimport usePoem from '../react-query/usePoem'\nimport {\n  PROFILE_TITLE,\n  PROFILE_SUBTITLE,\n  PROFILE_POEMS,\n  PROFILE_FAVOURITE_POEMS,\n  CATEGORIES,\n  PROFILE_SELECT_CATEGORY_TITLE,\n  PROFILE_SELECT_CATEGORY,\n  PROFILE_SELECT_TITLE_AUTHOR,\n  PROFILE_SELECT_TITLE_TITLE,\n  PROFILE_SELECT_TITLE,\n  PROFILE_SELECT_LIKES,\n  PROFILE_POEM_PLACEHOLDER,\n  PROFILE_SEND_POEM,\n  PROFILE_RESET_POEM,\n  ADMIN\n} from '../data/constants'\n\nfunction TabPanel (props) {\n  const { children, value, index, ...other } = props\n\n  return (\n    <div\n      role='tabpanel'\n      hidden={value !== index}\n      id={`full-width-tabpanel-${index}`}\n      aria-labelledby={`full-width-tab-${index}`}\n      {...other}\n    >\n      {value === index && (\n        <Box p={3}>\n          <Typography>{children}</Typography>\n        </Box>\n      )}\n    </div>\n  )\n}\n\nTabPanel.propTypes = {\n  children: PropTypes.node,\n  index: PropTypes.any.isRequired,\n  value: PropTypes.any.isRequired\n}\n\nfunction a11yProps (index) {\n  return {\n    id: `full-width-tab-${index}`,\n    'aria-controls': `full-width-tabpanel-${index}`\n  }\n}\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    backgroundColor: theme.palette.background.paper,\n    width: 500\n  }\n}))\n\nexport default function Profile (props) {\n  const theme = useTheme()\n  const [value, setValue] = React.useState(0)\n\n  const [poemContent, setPoemContent] = useState('')\n  const [poemAuthorId, setPoemAuthorId] = useState('')\n  const [poemTitle, setPoemTitle] = useState('')\n  const [poemCategory, setPoemCategory] = useState('')\n  const [poemLikes, setPoemLikes] = useState([])\n\n  const { user, isAuthenticated, isLoading } = useAuth0()\n  const createPoemMutation = useCreatePoem()\n  const savePoemMutation = useSavePoem()\n\n  const context = useContext(AppContext);\n  const poemQuery = usePoem(context.elementToEdit)\n\n  useEffect(()=> {\n    setPoemTitle(context.elementToEdit ? poemQuery?.data?.title : '')\n    setPoemContent(context.elementToEdit ? poemQuery?.data?.poem : '')\n    setPoemAuthorId(context.elementToEdit ? poemQuery?.data?.userId : '')\n    setPoemLikes(context.elementToEdit ? poemQuery?.data?.likes?.toString() : [])\n    setPoemCategory(context.elementToEdit ? poemQuery?.data?.genre : '')\n  }, [JSON.stringify([context.elementToEdit, poemQuery.data?.title])])\n\n  const editPoem = (poemId) => {\n    context.setState({elementToEdit: poemId})\n  }\n\n  const handleChange = (event, newValue) => {\n    setValue(newValue)\n  }\n\n  const handleChangeIndex = (index) => {\n    setValue(index)\n  }\n\n  function onFieldChange (value, setValue) {\n    setValue(value)\n  }\n\n  const fakeUsers = [\n    {id: 1, name: 'Catherine Cawley', picture: 'https://cdn.getyourguide.com/img/location/5c88db055a755.jpeg/88.jpg'},\n    {id: 2, name: 'Stacey Cosgrove', picture: 'https://media-cdn.tripadvisor.com/media/photo-s/05/62/06/0e/restaurant-els-valencians.jpg'},\n    {id: 3, name: 'Sarah Griffin', picture: 'https://cdn.pixabay.com/photo/2017/11/09/17/11/sea-2934076_960_720.jpg'},\n    {id: 4, name: 'Ray Higgins', picture: 'https://hips.hearstapps.com/hmg-prod.s3.amazonaws.com/images/old-books-arranged-on-shelf-royalty-free-image-1572384534.jpg'},\n  ]\n\n  const fakeUser = fakeUsers.find(user=>user.id === parseInt(poemAuthorId))\n\n  const handleSend = (event) => {\n    event.preventDefault()\n    // event.target.reset()\n\n    const currentDatetime = new Date()\n    const formattedDate =\n      currentDatetime.getFullYear() +\n      '-' +\n      (currentDatetime.getMonth() + 1) +\n      '-' +\n      currentDatetime.getDate() +\n      ' ' +\n      currentDatetime.getHours() +\n      ':' +\n      currentDatetime.getMinutes() +\n      ':' +\n      currentDatetime.getSeconds()\n\n      if(!context.elementToEdit) {\n        if(user?.sub === ADMIN) {\n          createPoemMutation.mutate({\n            userId: poemAuthorId,\n            author: fakeUser?.name || '',\n            picture: fakeUser?.picture || '',\n            poem: poemContent,\n            title: poemTitle,\n            genre: poemCategory,\n            likes: poemLikes.length !== 0 ? [...poemLikes?.split(',')] : [],\n            date: formattedDate,\n          });  \n        } else {\n          createPoemMutation.mutate({\n            userId: user.sub,\n            author: user.name,\n            picture: user.picture,\n            poem: poemContent,\n            title: poemTitle,\n            genre: poemCategory,\n            likes: [],\n            date: formattedDate,\n          });\n        }\n        setPoemContent('')\n        setPoemTitle('')\n        setPoemCategory('')\n      } else {\n        if(user?.sub === ADMIN) {\n          savePoemMutation.mutate({poem: {\n            userId: poemAuthorId,\n            author: fakeUser?.name || '',\n            picture: fakeUser?.picture || '',\n            poem: poemContent,\n            title: poemTitle,\n            genre: poemCategory,\n            likes: poemLikes.length !== 0 ? [...poemLikes?.split(',')] : [],\n            date: formattedDate,\n          }, poemId: poemQuery.data._id});  \n        } else {\n          savePoemMutation.mutate({poem: {\n            userId: user.sub,\n            author: user.name,\n            picture: user.picture,\n            poem: poemContent,\n            title: poemTitle,\n            genre: poemCategory,\n            likes: [],\n            date: formattedDate,\n          }, poemId: poemQuery.data._id});\n        }\n        context.setState({elementToEdit: ''})\n      }\n  }\n\n  const handleReset = (event) => {\n    context.setState({elementToEdit: ''})\n  }\n\n  return (\n    isAuthenticated && (\n      <main className='profile__main'>\n        <section className='profile__title'>\n          <div>\n            {user.name}\n            {PROFILE_TITLE}\n          </div>\n        </section>\n        <section className='profile__intro'>\n          <img\n            className='profile__image'\n            src={user.picture}\n            alt={user.name}\n          />\n          <div className='profile__personal-data'>\n            <div className='profile__insert-poem'>\n              <p className='profile__insert-poem-title'>{PROFILE_SUBTITLE}</p>\n              <br />\n              <form\n                className='profile__insert-poem-form'\n              >\n                <div className='profile__insert-poem-inputs'>\n                  {\n                  user.sub === ADMIN && (\n                  <>\n                    <label className='profile__insert-poem-input'>\n                      {PROFILE_SELECT_TITLE_AUTHOR}\n                      <input\n                        className='profile__insert-poem-input'\n                        name='author'\n                        required\n                        value={poemAuthorId}\n                        onChange={(event) =>\n                          onFieldChange(event.target.value, setPoemAuthorId)}\n                      />\n                    </label>\n                    <label className='profile__insert-poem-input'>\n                    {PROFILE_SELECT_LIKES}\n                    <input\n                      className='profile__insert-poem-input'\n                      name='likes'\n                      value={poemLikes}\n                      onChange={(event) =>\n                        onFieldChange(event.target.value, setPoemLikes)}\n                    />\n                  </label>\n                </>\n                  )\n                  }\n                  <label className='profile__insert-poem-input'>\n                    {PROFILE_SELECT_TITLE_TITLE}\n                    <input\n                      className='profile__insert-poem-input'\n                      placeholder={PROFILE_SELECT_TITLE}\n                      name='title'\n                      required\n                      value={poemTitle}\n                      onChange={(event) =>\n                        onFieldChange(event.target.value, setPoemTitle)}\n                    />\n                  </label>\n                  <label className='profile__insert-poem-input'>\n                    {PROFILE_SELECT_CATEGORY_TITLE}\n                    <select\n                      className='profile__insert-poem-input'\n                      id='category'\n                      name='category'\n                      required\n                      onChange={(event) => {\n                        onFieldChange(event.target.value, setPoemCategory)\n                      }}\n                    >\n                      <option value=''>{PROFILE_SELECT_CATEGORY}</option>\n                      {CATEGORIES?.map((category) => (\n                        <option value={category.toLowerCase()} selected={poemQuery?.data?.genre === category.toLowerCase()}>\n                          {category}\n                        </option>\n                      ))}\n                    </select>\n                  </label>\n                </div>\n                <div>\n                  <textarea\n                    className='profile__text-area'\n                    id='poem'\n                    name='poem'\n                    required\n                    placeholder={PROFILE_POEM_PLACEHOLDER}\n                    value={poemContent}\n                    onChange={(event) =>\n                      onFieldChange(event.target.value, setPoemContent)}\n                  />\n                </div>\n\n                <button className='profile__send-poem' type='submit' onClick={handleReset}>\n                  {PROFILE_RESET_POEM}\n                </button>\n                <button className='profile__send-poem' type='submit' onClick={handleSend}>\n                  {PROFILE_SEND_POEM}\n                </button>\n              </form>\n            </div>\n          </div>\n        </section>\n        <section className='profile__outro'>\n          <div className='profile__tabs'>\n            <AppBar position='static' color='default'>\n              <Tabs\n                value={value}\n                onChange={handleChange}\n                indicatorColor='primary'\n                textColor='primary'\n                variant='fullWidth'\n                aria-label='full width tabs example'\n              >\n                <Tab label={PROFILE_POEMS} {...a11yProps(0)} />\n                <Tab label={PROFILE_FAVOURITE_POEMS} {...a11yProps(1)} />\n              </Tabs>\n            </AppBar>\n            <SwipeableViews\n              axis={theme.direction === 'rtl' ? 'x-reverse' : 'x'}\n              index={value}\n              onChangeIndex={handleChangeIndex}\n            >\n              <TabPanel\n                className='profile__myPoems'\n                value={value}\n                index={0}\n                dir={theme.direction}\n              >\n                <MyPoems />\n              </TabPanel>\n              <TabPanel\n                className='profile__myPoems'\n                value={value}\n                index={1}\n                dir={theme.direction}\n              >\n                <MyFavouritePoems />\n              </TabPanel>\n            </SwipeableViews>\n          </div>\n        </section>\n      </main>\n    )\n  )\n}\n","import axios from 'axios'\nimport { useMutation, useQueryClient } from 'react-query';\n\nexport default function useCreatePoem() {\n const queryClient = useQueryClient()\n  return useMutation(\n    (poem) => axios.post('/api/poems', poem).then((res) => res.data),\n    {\n      onSuccess: () => {        \n        queryClient.invalidateQueries('poems')\n      },\n        onError: (error) => {\n            console.error(error);\n      }\n    }\n  )\n}\n","import axios from 'axios'\nimport { useMutation, useQueryClient } from 'react-query';\n\nexport default function useSavePoem() {\n const queryClient = useQueryClient()\n  return useMutation(\n    // arguments have to be a single variable or object in this case\n    ({poem, poemId}) => axios.patch(`/api/poems/${poemId}`, poem).then((res) => res.data),\n    {\n      onSuccess: () => {        \n        queryClient.invalidateQueries('poems')\n      },\n        onError: (error) => {\n            console.error(error);\n      }\n    }\n  )\n}\n","import React from 'react'\nimport { Link } from 'react-router-dom'\nimport './PageNotFound.scss'\n\nfunction PageNotFound (props) {\n  return (\n    <main className='page-not-found__container'>\n      <section className='page-not-found__message'>\n        <h1 className='page-not-found__title'>Error - 404</h1>\n        <p className='page-not-found__text'>Nothing to see here</p>\n        <Link className='page-not-found__link' to='/'>Back to Dashboard</Link>\n      </section>\n    </main>\n  )\n}\n\nexport default PageNotFound\n","import React, { useState } from 'react'\nimport { Route, Switch, BrowserRouter as Router } from 'react-router-dom'\nimport './App.scss'\nimport Dashboard from './components/Dashboard'\nimport Detail from './components/Detail'\nimport Header from './components/Header'\nimport Profile from './components/Profile'\nimport PageNotFound from './components/PageNotFound'\nimport {ORDER_BY_LIKES} from './data/constants'\n\nexport const AppContext = React.createContext();\n\nfunction App (props) {\n  const [contextState, setContextState] = useState({\n    sortPoemsBy: ORDER_BY_LIKES,\n    elementToEdit: '',\n    setState(data) {\n        const { setState, ...res } = data;\n        const newState = { ...contextState, ...res };\n        setContextState(newState);\n    },\n  });\n  return (\n    <AppContext.Provider value={contextState}>\n      <Router>\n        <div className='container'>\n          <Header />\n\n          <div className='margin-body'>\n            <Switch>\n              <Route path='/' exact component={Dashboard} />\n              <Route path='/profile' component={Profile} />\n              <Route path='/:genre' exact component={Dashboard} />\n              <Route path='/detail/:poemId' exact component={Detail} />\n              <Route component={PageNotFound} />\n            </Switch>\n          </div>\n        </div>\n      </Router>\n    </AppContext.Provider>\n\n  )\n}\n\n\nexport default App\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n)\n\nexport function register (config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href)\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config)\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          )\n        })\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config)\n      }\n    })\n  }\n}\n\nfunction registerValidSW (swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing\n        if (installingWorker == null) {\n          return\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              )\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration)\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.')\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration)\n              }\n            }\n          }\n        }\n      }\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error)\n    })\n}\n\nfunction checkValidServiceWorker (swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type')\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload()\n          })\n        })\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config)\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      )\n    })\n}\n\nexport function unregister () {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister()\n      })\n      .catch(error => {\n        console.error(error.message)\n      })\n  }\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './App'\nimport * as serviceWorker from './serviceWorker'\nimport { Auth0Provider } from '@auth0/auth0-react'\nimport {\n  QueryClient,\n  QueryClientProvider,\n} from \"react-query\";\nimport { ReactQueryDevtools } from \"react-query/devtools\";\n\nlet redirectUri = 'http://localhost:3000/profile'\nif (process.env.NODE_ENV === 'production') {\n  redirectUri = 'https://poemunity.com/profile'\n}\n\nconst { REACT_APP_AUTH0_DOMAIN, REACT_APP_AUTH0_CLIENTID } = process.env\n// same as process.env.AUTH0_DOMAIN, but cleaner\n\nconst queryClient = new QueryClient();\n\nReactDOM.render(\n  <React.StrictMode>\n    <QueryClientProvider client={queryClient}>\n      <Auth0Provider\n        domain={REACT_APP_AUTH0_DOMAIN}\n        clientId={REACT_APP_AUTH0_CLIENTID}\n        redirectUri={redirectUri}\n      >\n        <App />\n      </Auth0Provider>\n    <ReactQueryDevtools />\n    </QueryClientProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n)\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister()\n"],"sourceRoot":""}